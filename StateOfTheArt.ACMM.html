<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>StateOfTheArt.ACMM</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">--------------------------------------------------------------------------------</a>
<a id="82" class="Comment">-- This module demonstrates the similitudes between various semantics for STLC</a>
<a id="161" class="Comment">-- before giving a generic notion of Scope-and-Type Safe Semantics à la</a>
<a id="233" class="Comment">-- Type-and-scope Safe Programs and Their Proofs</a>
<a id="282" class="Comment">-- (Allais, Chapman, McBride, and McKinna, CPP 17)</a>
<a id="333" class="Comment">--------------------------------------------------------------------------------</a>

<a id="415" class="Keyword">module</a> <a id="422" href="StateOfTheArt.ACMM.html" class="Module">StateOfTheArt.ACMM</a> <a id="441" class="Keyword">where</a>

<a id="448" class="Keyword">open</a> <a id="453" class="Keyword">import</a> <a id="460" href="indexed.html" class="Module">indexed</a>
<a id="468" class="Keyword">open</a> <a id="473" class="Keyword">import</a> <a id="480" href="var.html" class="Module">var</a> <a id="484" class="Keyword">hiding</a> <a id="491" class="Symbol">(</a><a id="492" href="var.html#895" class="Function Operator">_&lt;$&gt;_</a> <a id="498" class="Symbol">;</a> <a id="500" href="var.html#779" class="Function">get</a><a id="503" class="Symbol">)</a>
<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="environment.html" class="Module">environment</a> <a id="529" class="Symbol">as</a> <a id="532" class="Module">E</a> <a id="534" class="Keyword">hiding</a> <a id="541" class="Symbol">(</a><a id="542" href="environment.html#1477" class="Function Operator">_&gt;&gt;_</a> <a id="547" class="Symbol">;</a> <a id="549" href="environment.html#2306" class="Function">extend</a><a id="555" class="Symbol">)</a>

<a id="558" class="Keyword">open</a> <a id="563" class="Keyword">import</a> <a id="570" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="584" class="Keyword">open</a> <a id="589" class="Keyword">import</a> <a id="596" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="611" class="Keyword">hiding</a> <a id="618" class="Symbol">(</a><a id="619" href="Data.List.Base.html#3423" class="Function Operator">[_]</a> <a id="623" class="Symbol">;</a> <a id="625" href="Data.List.Base.html#1391" class="Function Operator">_++_</a> <a id="630" class="Symbol">;</a> <a id="632" href="Data.List.Base.html#4747" class="Function">lookup</a><a id="638" class="Symbol">)</a>
<a id="640" class="Keyword">open</a> <a id="645" class="Keyword">import</a> <a id="652" href="Function.html" class="Module">Function</a>

<a id="662" class="Keyword">infixr</a> <a id="669" class="Number">3</a> <a id="671" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">_⇒_</a>

<a id="676" class="Keyword">data</a> <a id="Type"></a><a id="681" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a> <a id="686" class="Symbol">:</a> <a id="688" class="PrimitiveType">Set</a> <a id="692" class="Keyword">where</a>
  <a id="Type.α"></a><a id="700" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a>    <a id="705" class="Symbol">:</a> <a id="707" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a>
  <a id="Type._⇒_"></a><a id="714" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">_⇒_</a>  <a id="719" class="Symbol">:</a> <a id="721" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a> <a id="726" class="Symbol">→</a> <a id="728" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a> <a id="733" class="Symbol">→</a> <a id="735" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a>

<a id="741" class="Keyword">data</a> <a id="Lam"></a><a id="746" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="750" class="Symbol">:</a> <a id="752" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a> <a id="757" href="var.html#469" class="Function Operator">─Scoped</a> <a id="765" class="Keyword">where</a>
  <a id="Lam.V"></a><a id="773" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="775" class="Symbol">:</a> <a id="777" class="Symbol">{</a><a id="778" href="StateOfTheArt.ACMM.html#778" class="Bound">σ</a> <a id="780" class="Symbol">:</a> <a id="782" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="786" class="Symbol">}</a> <a id="788" class="Symbol">→</a>    <a id="793" href="indexed.html#903" class="Function Operator">[</a> <a id="795" href="var.html#553" class="Datatype">Var</a> <a id="799" href="StateOfTheArt.ACMM.html#778" class="Bound">σ</a>                <a id="816" href="indexed.html#759" class="Function Operator">⟶</a> <a id="818" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="822" href="StateOfTheArt.ACMM.html#778" class="Bound">σ</a>        <a id="831" href="indexed.html#903" class="Function Operator">]</a>
  <a id="Lam.A"></a><a id="835" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a> <a id="837" class="Symbol">:</a> <a id="839" class="Symbol">{</a><a id="840" href="StateOfTheArt.ACMM.html#840" class="Bound">σ</a> <a id="842" href="StateOfTheArt.ACMM.html#842" class="Bound">τ</a> <a id="844" class="Symbol">:</a> <a id="846" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="850" class="Symbol">}</a> <a id="852" class="Symbol">→</a>  <a id="855" href="indexed.html#903" class="Function Operator">[</a> <a id="857" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="861" class="Symbol">(</a><a id="862" href="StateOfTheArt.ACMM.html#840" class="Bound">σ</a> <a id="864" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="866" href="StateOfTheArt.ACMM.html#842" class="Bound">τ</a><a id="867" class="Symbol">)</a> <a id="869" href="indexed.html#759" class="Function Operator">⟶</a> <a id="871" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="875" href="StateOfTheArt.ACMM.html#840" class="Bound">σ</a>  <a id="878" href="indexed.html#759" class="Function Operator">⟶</a> <a id="880" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="884" href="StateOfTheArt.ACMM.html#842" class="Bound">τ</a>        <a id="893" href="indexed.html#903" class="Function Operator">]</a>
  <a id="Lam.L"></a><a id="897" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="899" class="Symbol">:</a> <a id="901" class="Symbol">{</a><a id="902" href="StateOfTheArt.ACMM.html#902" class="Bound">σ</a> <a id="904" href="StateOfTheArt.ACMM.html#904" class="Bound">τ</a> <a id="906" class="Symbol">:</a> <a id="908" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="912" class="Symbol">}</a> <a id="914" class="Symbol">→</a>  <a id="917" href="indexed.html#903" class="Function Operator">[</a> <a id="919" class="Symbol">(</a><a id="920" href="StateOfTheArt.ACMM.html#902" class="Bound">σ</a> <a id="922" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷_</a><a id="924" class="Symbol">)</a> <a id="926" href="indexed.html#1070" class="Function Operator">⊢</a> <a id="928" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="932" href="StateOfTheArt.ACMM.html#904" class="Bound">τ</a>       <a id="940" href="indexed.html#759" class="Function Operator">⟶</a> <a id="942" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="946" class="Symbol">(</a><a id="947" href="StateOfTheArt.ACMM.html#902" class="Bound">σ</a> <a id="949" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="951" href="StateOfTheArt.ACMM.html#904" class="Bound">τ</a><a id="952" class="Symbol">)</a>  <a id="955" href="indexed.html#903" class="Function Operator">]</a>


<a id="959" class="Keyword">module</a> <a id="966" href="StateOfTheArt.ACMM.html#966" class="Module">_</a> <a id="968" class="Keyword">where</a>

 <a id="976" class="Keyword">private</a>

   <a id="988" href="StateOfTheArt.ACMM.html#988" class="Function">⟦V⟧‿ren</a> <a id="996" class="Symbol">:</a> <a id="998" class="Symbol">∀</a> <a id="1000" class="Symbol">{</a><a id="1001" href="StateOfTheArt.ACMM.html#1001" class="Bound">n</a><a id="1002" class="Symbol">}</a> <a id="1004" class="Symbol">→</a> <a id="1006" href="indexed.html#903" class="Function Operator">[</a> <a id="1008" href="var.html#553" class="Datatype">Var</a> <a id="1012" href="StateOfTheArt.ACMM.html#1001" class="Bound">n</a> <a id="1014" href="indexed.html#759" class="Function Operator">⟶</a> <a id="1016" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1020" href="StateOfTheArt.ACMM.html#1001" class="Bound">n</a> <a id="1022" href="indexed.html#903" class="Function Operator">]</a>
   <a id="1027" href="StateOfTheArt.ACMM.html#988" class="Function">⟦V⟧‿ren</a> <a id="1035" class="Symbol">=</a> <a id="1037" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a>

   <a id="1043" href="StateOfTheArt.ACMM.html#1043" class="Function">extend‿ren</a> <a id="1054" class="Symbol">:</a> <a id="1056" class="Symbol">{</a><a id="1057" href="StateOfTheArt.ACMM.html#1057" class="Bound">Γ</a> <a id="1059" href="StateOfTheArt.ACMM.html#1059" class="Bound">Δ</a> <a id="1061" class="Symbol">:</a> <a id="1063" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1068" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="1072" class="Symbol">}</a> <a id="1074" class="Symbol">{</a><a id="1075" href="StateOfTheArt.ACMM.html#1075" class="Bound">σ</a> <a id="1077" class="Symbol">:</a> <a id="1079" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="1083" class="Symbol">}</a> <a id="1085" class="Symbol">→</a> <a id="1087" class="Symbol">(</a><a id="1088" href="StateOfTheArt.ACMM.html#1057" class="Bound">Γ</a> <a id="1090" href="environment.html#309" class="Record Operator">─Env</a><a id="1094" class="Symbol">)</a> <a id="1096" href="var.html#553" class="Datatype">Var</a> <a id="1100" href="StateOfTheArt.ACMM.html#1059" class="Bound">Δ</a> <a id="1102" class="Symbol">→</a> <a id="1104" class="Symbol">(</a><a id="1105" href="StateOfTheArt.ACMM.html#1075" class="Bound">σ</a> <a id="1107" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="1109" href="StateOfTheArt.ACMM.html#1057" class="Bound">Γ</a> <a id="1111" href="environment.html#309" class="Record Operator">─Env</a><a id="1115" class="Symbol">)</a> <a id="1117" href="var.html#553" class="Datatype">Var</a> <a id="1121" class="Symbol">(</a><a id="1122" href="StateOfTheArt.ACMM.html#1075" class="Bound">σ</a> <a id="1124" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="1126" href="StateOfTheArt.ACMM.html#1059" class="Bound">Δ</a><a id="1127" class="Symbol">)</a>
   <a id="1132" href="StateOfTheArt.ACMM.html#1043" class="Function">extend‿ren</a> <a id="1143" href="StateOfTheArt.ACMM.html#1143" class="Bound">ρ</a> <a id="1145" class="Symbol">=</a> <a id="1147" href="var.html#626" class="InductiveConstructor">s</a> <a id="1149" href="environment.html#556" class="Function Operator">&lt;$&gt;</a> <a id="1153" href="StateOfTheArt.ACMM.html#1143" class="Bound">ρ</a> <a id="1155" href="environment.html#2070" class="Function Operator">∙</a> <a id="1157" href="var.html#578" class="InductiveConstructor">z</a>

 <a id="1161" href="StateOfTheArt.ACMM.html#1161" class="Function">ren</a> <a id="1165" class="Symbol">:</a> <a id="1167" class="Symbol">{</a><a id="1168" href="StateOfTheArt.ACMM.html#1168" class="Bound">Γ</a> <a id="1170" href="StateOfTheArt.ACMM.html#1170" class="Bound">Δ</a> <a id="1172" class="Symbol">:</a> <a id="1174" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1179" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="1183" class="Symbol">}</a> <a id="1185" class="Symbol">{</a><a id="1186" href="StateOfTheArt.ACMM.html#1186" class="Bound">σ</a> <a id="1188" class="Symbol">:</a> <a id="1190" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="1194" class="Symbol">}</a> <a id="1196" class="Symbol">→</a> <a id="1198" class="Symbol">(</a><a id="1199" href="StateOfTheArt.ACMM.html#1168" class="Bound">Γ</a> <a id="1201" href="environment.html#309" class="Record Operator">─Env</a><a id="1205" class="Symbol">)</a> <a id="1207" href="var.html#553" class="Datatype">Var</a> <a id="1211" href="StateOfTheArt.ACMM.html#1170" class="Bound">Δ</a> <a id="1213" class="Symbol">→</a> <a id="1215" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1219" href="StateOfTheArt.ACMM.html#1186" class="Bound">σ</a> <a id="1221" href="StateOfTheArt.ACMM.html#1168" class="Bound">Γ</a> <a id="1223" class="Symbol">→</a> <a id="1225" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1229" href="StateOfTheArt.ACMM.html#1186" class="Bound">σ</a> <a id="1231" href="StateOfTheArt.ACMM.html#1170" class="Bound">Δ</a>
 <a id="1234" href="StateOfTheArt.ACMM.html#1161" class="Function">ren</a> <a id="1238" href="StateOfTheArt.ACMM.html#1238" class="Bound">ρ</a> <a id="1240" class="Symbol">(</a><a id="1241" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="1243" href="StateOfTheArt.ACMM.html#1243" class="Bound">k</a><a id="1244" class="Symbol">)</a>    <a id="1249" class="Symbol">=</a> <a id="1251" href="StateOfTheArt.ACMM.html#988" class="Function">⟦V⟧‿ren</a> <a id="1259" class="Symbol">(</a><a id="1260" href="environment.html#396" class="Field">lookup</a> <a id="1267" href="StateOfTheArt.ACMM.html#1238" class="Bound">ρ</a> <a id="1269" href="StateOfTheArt.ACMM.html#1243" class="Bound">k</a><a id="1270" class="Symbol">)</a>
 <a id="1273" href="StateOfTheArt.ACMM.html#1161" class="Function">ren</a> <a id="1277" href="StateOfTheArt.ACMM.html#1277" class="Bound">ρ</a> <a id="1279" class="Symbol">(</a><a id="1280" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a> <a id="1282" href="StateOfTheArt.ACMM.html#1282" class="Bound">f</a> <a id="1284" href="StateOfTheArt.ACMM.html#1284" class="Bound">t</a><a id="1285" class="Symbol">)</a>  <a id="1288" class="Symbol">=</a> <a id="1290" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a> <a id="1292" class="Symbol">(</a><a id="1293" href="StateOfTheArt.ACMM.html#1161" class="Function">ren</a> <a id="1297" href="StateOfTheArt.ACMM.html#1277" class="Bound">ρ</a> <a id="1299" href="StateOfTheArt.ACMM.html#1282" class="Bound">f</a><a id="1300" class="Symbol">)</a> <a id="1302" class="Symbol">(</a><a id="1303" href="StateOfTheArt.ACMM.html#1161" class="Function">ren</a> <a id="1307" href="StateOfTheArt.ACMM.html#1277" class="Bound">ρ</a> <a id="1309" href="StateOfTheArt.ACMM.html#1284" class="Bound">t</a><a id="1310" class="Symbol">)</a>
 <a id="1313" href="StateOfTheArt.ACMM.html#1161" class="Function">ren</a> <a id="1317" href="StateOfTheArt.ACMM.html#1317" class="Bound">ρ</a> <a id="1319" class="Symbol">(</a><a id="1320" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="1322" href="StateOfTheArt.ACMM.html#1322" class="Bound">b</a><a id="1323" class="Symbol">)</a>    <a id="1328" class="Symbol">=</a> <a id="1330" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="1332" class="Symbol">(</a><a id="1333" href="StateOfTheArt.ACMM.html#1161" class="Function">ren</a> <a id="1337" class="Symbol">(</a><a id="1338" href="StateOfTheArt.ACMM.html#1043" class="Function">extend‿ren</a> <a id="1349" href="StateOfTheArt.ACMM.html#1317" class="Bound">ρ</a><a id="1350" class="Symbol">)</a> <a id="1352" href="StateOfTheArt.ACMM.html#1322" class="Bound">b</a><a id="1353" class="Symbol">)</a>

<a id="1356" class="Keyword">module</a> <a id="1363" href="StateOfTheArt.ACMM.html#1363" class="Module">_</a> <a id="1365" class="Keyword">where</a>

 <a id="1373" class="Keyword">private</a>

   <a id="1385" href="StateOfTheArt.ACMM.html#1385" class="Function">extend‿sub</a> <a id="1396" class="Symbol">:</a> <a id="1398" class="Symbol">{</a><a id="1399" href="StateOfTheArt.ACMM.html#1399" class="Bound">Γ</a> <a id="1401" href="StateOfTheArt.ACMM.html#1401" class="Bound">Δ</a> <a id="1403" class="Symbol">:</a> <a id="1405" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1410" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="1414" class="Symbol">}</a> <a id="1416" class="Symbol">{</a><a id="1417" href="StateOfTheArt.ACMM.html#1417" class="Bound">σ</a> <a id="1419" class="Symbol">:</a> <a id="1421" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="1425" class="Symbol">}</a> <a id="1427" class="Symbol">→</a> <a id="1429" class="Symbol">(</a><a id="1430" href="StateOfTheArt.ACMM.html#1399" class="Bound">Γ</a> <a id="1432" href="environment.html#309" class="Record Operator">─Env</a><a id="1436" class="Symbol">)</a> <a id="1438" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1442" href="StateOfTheArt.ACMM.html#1401" class="Bound">Δ</a> <a id="1444" class="Symbol">→</a> <a id="1446" class="Symbol">(</a><a id="1447" href="StateOfTheArt.ACMM.html#1417" class="Bound">σ</a> <a id="1449" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="1451" href="StateOfTheArt.ACMM.html#1399" class="Bound">Γ</a> <a id="1453" href="environment.html#309" class="Record Operator">─Env</a><a id="1457" class="Symbol">)</a> <a id="1459" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1463" class="Symbol">(</a><a id="1464" href="StateOfTheArt.ACMM.html#1417" class="Bound">σ</a> <a id="1466" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="1468" href="StateOfTheArt.ACMM.html#1401" class="Bound">Δ</a><a id="1469" class="Symbol">)</a>
   <a id="1474" href="StateOfTheArt.ACMM.html#1385" class="Function">extend‿sub</a> <a id="1485" href="StateOfTheArt.ACMM.html#1485" class="Bound">ρ</a> <a id="1487" class="Symbol">=</a> <a id="1489" href="StateOfTheArt.ACMM.html#1161" class="Function">ren</a> <a id="1493" href="environment.html#2306" class="Function">E.extend</a> <a id="1502" href="environment.html#556" class="Function Operator">&lt;$&gt;</a> <a id="1506" href="StateOfTheArt.ACMM.html#1485" class="Bound">ρ</a> <a id="1508" href="environment.html#2070" class="Function Operator">∙</a> <a id="1510" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="1512" href="var.html#578" class="InductiveConstructor">z</a>

   <a id="1518" href="StateOfTheArt.ACMM.html#1518" class="Function">⟦V⟧‿sub</a> <a id="1526" class="Symbol">:</a> <a id="1528" class="Symbol">∀</a> <a id="1530" class="Symbol">{</a><a id="1531" href="StateOfTheArt.ACMM.html#1531" class="Bound">n</a><a id="1532" class="Symbol">}</a> <a id="1534" class="Symbol">→</a> <a id="1536" href="indexed.html#903" class="Function Operator">[</a> <a id="1538" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1542" href="StateOfTheArt.ACMM.html#1531" class="Bound">n</a> <a id="1544" href="indexed.html#759" class="Function Operator">⟶</a> <a id="1546" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1550" href="StateOfTheArt.ACMM.html#1531" class="Bound">n</a> <a id="1552" href="indexed.html#903" class="Function Operator">]</a>
   <a id="1557" href="StateOfTheArt.ACMM.html#1518" class="Function">⟦V⟧‿sub</a> <a id="1565" href="StateOfTheArt.ACMM.html#1565" class="Bound">x</a> <a id="1567" class="Symbol">=</a> <a id="1569" href="StateOfTheArt.ACMM.html#1565" class="Bound">x</a>

 <a id="1573" href="StateOfTheArt.ACMM.html#1573" class="Function">sub</a> <a id="1577" class="Symbol">:</a> <a id="1579" class="Symbol">{</a><a id="1580" href="StateOfTheArt.ACMM.html#1580" class="Bound">Γ</a> <a id="1582" href="StateOfTheArt.ACMM.html#1582" class="Bound">Δ</a> <a id="1584" class="Symbol">:</a> <a id="1586" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1591" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="1595" class="Symbol">}</a> <a id="1597" class="Symbol">{</a><a id="1598" href="StateOfTheArt.ACMM.html#1598" class="Bound">σ</a> <a id="1600" class="Symbol">:</a> <a id="1602" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="1606" class="Symbol">}</a> <a id="1608" class="Symbol">→</a> <a id="1610" class="Symbol">(</a><a id="1611" href="StateOfTheArt.ACMM.html#1580" class="Bound">Γ</a> <a id="1613" href="environment.html#309" class="Record Operator">─Env</a><a id="1617" class="Symbol">)</a> <a id="1619" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1623" href="StateOfTheArt.ACMM.html#1582" class="Bound">Δ</a> <a id="1625" class="Symbol">→</a> <a id="1627" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1631" href="StateOfTheArt.ACMM.html#1598" class="Bound">σ</a> <a id="1633" href="StateOfTheArt.ACMM.html#1580" class="Bound">Γ</a> <a id="1635" class="Symbol">→</a> <a id="1637" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1641" href="StateOfTheArt.ACMM.html#1598" class="Bound">σ</a> <a id="1643" href="StateOfTheArt.ACMM.html#1582" class="Bound">Δ</a>
 <a id="1646" href="StateOfTheArt.ACMM.html#1573" class="Function">sub</a> <a id="1650" href="StateOfTheArt.ACMM.html#1650" class="Bound">ρ</a> <a id="1652" class="Symbol">(</a><a id="1653" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="1655" href="StateOfTheArt.ACMM.html#1655" class="Bound">k</a><a id="1656" class="Symbol">)</a>    <a id="1661" class="Symbol">=</a> <a id="1663" href="StateOfTheArt.ACMM.html#1518" class="Function">⟦V⟧‿sub</a> <a id="1671" class="Symbol">(</a><a id="1672" href="environment.html#396" class="Field">lookup</a> <a id="1679" href="StateOfTheArt.ACMM.html#1650" class="Bound">ρ</a> <a id="1681" href="StateOfTheArt.ACMM.html#1655" class="Bound">k</a><a id="1682" class="Symbol">)</a>
 <a id="1685" href="StateOfTheArt.ACMM.html#1573" class="Function">sub</a> <a id="1689" href="StateOfTheArt.ACMM.html#1689" class="Bound">ρ</a> <a id="1691" class="Symbol">(</a><a id="1692" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a> <a id="1694" href="StateOfTheArt.ACMM.html#1694" class="Bound">f</a> <a id="1696" href="StateOfTheArt.ACMM.html#1696" class="Bound">t</a><a id="1697" class="Symbol">)</a>  <a id="1700" class="Symbol">=</a> <a id="1702" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a> <a id="1704" class="Symbol">(</a><a id="1705" href="StateOfTheArt.ACMM.html#1573" class="Function">sub</a> <a id="1709" href="StateOfTheArt.ACMM.html#1689" class="Bound">ρ</a> <a id="1711" href="StateOfTheArt.ACMM.html#1694" class="Bound">f</a><a id="1712" class="Symbol">)</a> <a id="1714" class="Symbol">(</a><a id="1715" href="StateOfTheArt.ACMM.html#1573" class="Function">sub</a> <a id="1719" href="StateOfTheArt.ACMM.html#1689" class="Bound">ρ</a> <a id="1721" href="StateOfTheArt.ACMM.html#1696" class="Bound">t</a><a id="1722" class="Symbol">)</a>
 <a id="1725" href="StateOfTheArt.ACMM.html#1573" class="Function">sub</a> <a id="1729" href="StateOfTheArt.ACMM.html#1729" class="Bound">ρ</a> <a id="1731" class="Symbol">(</a><a id="1732" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="1734" href="StateOfTheArt.ACMM.html#1734" class="Bound">b</a><a id="1735" class="Symbol">)</a>    <a id="1740" class="Symbol">=</a> <a id="1742" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="1744" class="Symbol">(</a><a id="1745" href="StateOfTheArt.ACMM.html#1573" class="Function">sub</a> <a id="1749" class="Symbol">(</a><a id="1750" href="StateOfTheArt.ACMM.html#1385" class="Function">extend‿sub</a> <a id="1761" href="StateOfTheArt.ACMM.html#1729" class="Bound">ρ</a><a id="1762" class="Symbol">)</a> <a id="1764" href="StateOfTheArt.ACMM.html#1734" class="Bound">b</a><a id="1765" class="Symbol">)</a>

<a id="1768" class="Keyword">module</a> <a id="1775" href="StateOfTheArt.ACMM.html#1775" class="Module">_</a> <a id="1777" class="Keyword">where</a>

 <a id="1785" class="Keyword">private</a>
   <a id="1796" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="1800" class="Symbol">:</a> <a id="1802" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a> <a id="1807" href="var.html#469" class="Function Operator">─Scoped</a>
   <a id="1818" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="1822" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a>       <a id="1830" class="Symbol">=</a> <a id="1832" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="1836" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a>
   <a id="1841" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="1845" class="Symbol">(</a><a id="1846" href="StateOfTheArt.ACMM.html#1846" class="Bound">σ</a> <a id="1848" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="1850" href="StateOfTheArt.ACMM.html#1850" class="Bound">τ</a><a id="1851" class="Symbol">)</a> <a id="1853" class="Symbol">=</a> <a id="1855" href="environment.html#3137" class="Function">□</a> <a id="1857" class="Symbol">(</a><a id="1858" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="1862" href="StateOfTheArt.ACMM.html#1846" class="Bound">σ</a> <a id="1864" href="indexed.html#759" class="Function Operator">⟶</a> <a id="1866" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="1870" href="StateOfTheArt.ACMM.html#1850" class="Bound">τ</a><a id="1871" class="Symbol">)</a>

   <a id="1877" href="StateOfTheArt.ACMM.html#1877" class="Function">th^Val</a> <a id="1884" class="Symbol">:</a> <a id="1886" class="Symbol">(</a><a id="1887" href="StateOfTheArt.ACMM.html#1887" class="Bound">σ</a> <a id="1889" class="Symbol">:</a> <a id="1891" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="1895" class="Symbol">)</a> <a id="1897" class="Symbol">→</a> <a id="1899" href="environment.html#3430" class="Function">Thinnable</a> <a id="1909" class="Symbol">(</a><a id="1910" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="1914" href="StateOfTheArt.ACMM.html#1887" class="Bound">σ</a><a id="1915" class="Symbol">)</a>
   <a id="1920" href="StateOfTheArt.ACMM.html#1877" class="Function">th^Val</a> <a id="1927" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a>       <a id="1935" class="Symbol">=</a> <a id="1937" class="Symbol">λ</a> <a id="1939" href="StateOfTheArt.ACMM.html#1939" class="Bound">ρ</a> <a id="1941" href="StateOfTheArt.ACMM.html#1941" class="Bound">t</a> <a id="1943" class="Symbol">→</a> <a id="1945" href="StateOfTheArt.ACMM.html#1161" class="Function">ren</a> <a id="1949" href="StateOfTheArt.ACMM.html#1941" class="Bound">t</a> <a id="1951" href="StateOfTheArt.ACMM.html#1939" class="Bound">ρ</a>
   <a id="1956" href="StateOfTheArt.ACMM.html#1877" class="Function">th^Val</a> <a id="1963" class="Symbol">(</a><a id="1964" href="StateOfTheArt.ACMM.html#1964" class="Bound">σ</a> <a id="1966" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="1968" href="StateOfTheArt.ACMM.html#1968" class="Bound">τ</a><a id="1969" class="Symbol">)</a> <a id="1971" class="Symbol">=</a> <a id="1973" href="environment.html#3679" class="Function">th^□</a>

   <a id="1982" href="StateOfTheArt.ACMM.html#1982" class="Function">reify</a>   <a id="1990" class="Symbol">:</a> <a id="1992" class="Symbol">(</a><a id="1993" href="StateOfTheArt.ACMM.html#1993" class="Bound">σ</a> <a id="1995" class="Symbol">:</a> <a id="1997" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="2001" class="Symbol">)</a> <a id="2003" class="Symbol">→</a> <a id="2005" href="indexed.html#903" class="Function Operator">[</a> <a id="2007" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2011" href="StateOfTheArt.ACMM.html#1993" class="Bound">σ</a> <a id="2013" href="indexed.html#759" class="Function Operator">⟶</a> <a id="2015" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="2019" href="StateOfTheArt.ACMM.html#1993" class="Bound">σ</a> <a id="2021" href="indexed.html#903" class="Function Operator">]</a>
   <a id="2026" href="StateOfTheArt.ACMM.html#2026" class="Function">reflect</a> <a id="2034" class="Symbol">:</a> <a id="2036" class="Symbol">(</a><a id="2037" href="StateOfTheArt.ACMM.html#2037" class="Bound">σ</a> <a id="2039" class="Symbol">:</a> <a id="2041" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="2045" class="Symbol">)</a> <a id="2047" class="Symbol">→</a> <a id="2049" href="indexed.html#903" class="Function Operator">[</a> <a id="2051" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="2055" href="StateOfTheArt.ACMM.html#2037" class="Bound">σ</a> <a id="2057" href="indexed.html#759" class="Function Operator">⟶</a> <a id="2059" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2063" href="StateOfTheArt.ACMM.html#2037" class="Bound">σ</a> <a id="2065" href="indexed.html#903" class="Function Operator">]</a>

   <a id="2071" href="StateOfTheArt.ACMM.html#1982" class="Function">reify</a>   <a id="2079" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a> <a id="2081" class="Symbol">=</a> <a id="2083" href="Function.html#1058" class="Function">id</a>
   <a id="2089" href="StateOfTheArt.ACMM.html#1982" class="Function">reify</a>   <a id="2097" class="Symbol">(</a><a id="2098" href="StateOfTheArt.ACMM.html#2098" class="Bound">σ</a> <a id="2100" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="2102" href="StateOfTheArt.ACMM.html#2102" class="Bound">τ</a><a id="2103" class="Symbol">)</a> <a id="2105" class="Symbol">=</a> <a id="2107" class="Symbol">λ</a> <a id="2109" href="StateOfTheArt.ACMM.html#2109" class="Bound">b</a> <a id="2111" class="Symbol">→</a> <a id="2113" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="2115" class="Symbol">(</a><a id="2116" href="StateOfTheArt.ACMM.html#1982" class="Function">reify</a> <a id="2122" href="StateOfTheArt.ACMM.html#2102" class="Bound">τ</a> <a id="2124" class="Symbol">(</a><a id="2125" href="StateOfTheArt.ACMM.html#2109" class="Bound">b</a> <a id="2127" href="environment.html#2306" class="Function">E.extend</a> <a id="2136" class="Symbol">(</a><a id="2137" href="StateOfTheArt.ACMM.html#2026" class="Function">reflect</a> <a id="2145" href="StateOfTheArt.ACMM.html#2098" class="Bound">σ</a> <a id="2147" class="Symbol">(</a><a id="2148" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="2150" href="var.html#578" class="InductiveConstructor">z</a><a id="2151" class="Symbol">))))</a>

   <a id="2160" href="StateOfTheArt.ACMM.html#2026" class="Function">reflect</a> <a id="2168" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a> <a id="2170" class="Symbol">=</a> <a id="2172" href="Function.html#1058" class="Function">id</a>
   <a id="2178" href="StateOfTheArt.ACMM.html#2026" class="Function">reflect</a> <a id="2186" class="Symbol">(</a><a id="2187" href="StateOfTheArt.ACMM.html#2187" class="Bound">σ</a> <a id="2189" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="2191" href="StateOfTheArt.ACMM.html#2191" class="Bound">τ</a><a id="2192" class="Symbol">)</a> <a id="2194" class="Symbol">=</a> <a id="2196" class="Symbol">λ</a> <a id="2198" href="StateOfTheArt.ACMM.html#2198" class="Bound">b</a> <a id="2200" href="StateOfTheArt.ACMM.html#2200" class="Bound">ρ</a> <a id="2202" href="StateOfTheArt.ACMM.html#2202" class="Bound">v</a> <a id="2204" class="Symbol">→</a> <a id="2206" href="StateOfTheArt.ACMM.html#2026" class="Function">reflect</a> <a id="2214" href="StateOfTheArt.ACMM.html#2191" class="Bound">τ</a> <a id="2216" class="Symbol">(</a><a id="2217" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a> <a id="2219" class="Symbol">(</a><a id="2220" href="StateOfTheArt.ACMM.html#1161" class="Function">ren</a> <a id="2224" href="StateOfTheArt.ACMM.html#2200" class="Bound">ρ</a> <a id="2226" href="StateOfTheArt.ACMM.html#2198" class="Bound">b</a><a id="2227" class="Symbol">)</a> <a id="2229" class="Symbol">(</a><a id="2230" href="StateOfTheArt.ACMM.html#1982" class="Function">reify</a> <a id="2236" href="StateOfTheArt.ACMM.html#2187" class="Bound">σ</a> <a id="2238" href="StateOfTheArt.ACMM.html#2202" class="Bound">v</a><a id="2239" class="Symbol">))</a>

   <a id="2246" href="StateOfTheArt.ACMM.html#2246" class="Function">extend</a> <a id="2253" class="Symbol">:</a> <a id="2255" class="Symbol">{</a><a id="2256" href="StateOfTheArt.ACMM.html#2256" class="Bound">Γ</a> <a id="2258" href="StateOfTheArt.ACMM.html#2258" class="Bound">Δ</a> <a id="2260" href="StateOfTheArt.ACMM.html#2260" class="Bound">Θ</a> <a id="2262" class="Symbol">:</a> <a id="2264" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="2269" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="2273" class="Symbol">}</a> <a id="2275" class="Symbol">{</a><a id="2276" href="StateOfTheArt.ACMM.html#2276" class="Bound">σ</a> <a id="2278" class="Symbol">:</a> <a id="2280" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="2284" class="Symbol">}</a> <a id="2286" class="Symbol">→</a> <a id="2288" href="environment.html#450" class="Function">Thinning</a> <a id="2297" href="StateOfTheArt.ACMM.html#2258" class="Bound">Δ</a> <a id="2299" href="StateOfTheArt.ACMM.html#2260" class="Bound">Θ</a> <a id="2301" class="Symbol">→</a> <a id="2303" class="Symbol">(</a><a id="2304" href="StateOfTheArt.ACMM.html#2256" class="Bound">Γ</a> <a id="2306" href="environment.html#309" class="Record Operator">─Env</a><a id="2310" class="Symbol">)</a> <a id="2312" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2316" href="StateOfTheArt.ACMM.html#2258" class="Bound">Δ</a> <a id="2318" class="Symbol">→</a> <a id="2320" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2324" href="StateOfTheArt.ACMM.html#2276" class="Bound">σ</a> <a id="2326" href="StateOfTheArt.ACMM.html#2260" class="Bound">Θ</a> <a id="2328" class="Symbol">→</a> <a id="2330" class="Symbol">(</a><a id="2331" href="StateOfTheArt.ACMM.html#2276" class="Bound">σ</a> <a id="2333" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2335" href="StateOfTheArt.ACMM.html#2256" class="Bound">Γ</a> <a id="2337" href="environment.html#309" class="Record Operator">─Env</a><a id="2341" class="Symbol">)</a> <a id="2343" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2347" href="StateOfTheArt.ACMM.html#2260" class="Bound">Θ</a>
   <a id="2352" href="StateOfTheArt.ACMM.html#2246" class="Function">extend</a> <a id="2359" href="StateOfTheArt.ACMM.html#2359" class="Bound">r</a> <a id="2361" href="StateOfTheArt.ACMM.html#2361" class="Bound">ρ</a> <a id="2363" href="StateOfTheArt.ACMM.html#2363" class="Bound">v</a> <a id="2365" class="Symbol">=</a> <a id="2367" class="Symbol">(λ</a> <a id="2370" class="Symbol">{</a><a id="2371" href="StateOfTheArt.ACMM.html#2371" class="Bound">σ</a><a id="2372" class="Symbol">}</a> <a id="2374" href="StateOfTheArt.ACMM.html#2374" class="Bound">v</a> <a id="2376" class="Symbol">→</a> <a id="2378" href="StateOfTheArt.ACMM.html#1877" class="Function">th^Val</a> <a id="2385" href="StateOfTheArt.ACMM.html#2371" class="Bound">σ</a> <a id="2387" href="StateOfTheArt.ACMM.html#2374" class="Bound">v</a> <a id="2389" href="StateOfTheArt.ACMM.html#2359" class="Bound">r</a><a id="2390" class="Symbol">)</a> <a id="2392" href="environment.html#556" class="Function Operator">&lt;$&gt;</a> <a id="2396" href="StateOfTheArt.ACMM.html#2361" class="Bound">ρ</a> <a id="2398" href="environment.html#2070" class="Function Operator">∙</a> <a id="2400" href="StateOfTheArt.ACMM.html#2363" class="Bound">v</a>

   <a id="2406" href="StateOfTheArt.ACMM.html#2406" class="Function">⟦V⟧</a> <a id="2410" class="Symbol">:</a> <a id="2412" class="Symbol">∀</a> <a id="2414" class="Symbol">{</a><a id="2415" href="StateOfTheArt.ACMM.html#2415" class="Bound">n</a> <a id="2417" href="StateOfTheArt.ACMM.html#2417" class="Bound">Γ</a><a id="2418" class="Symbol">}</a> <a id="2420" class="Symbol">→</a> <a id="2422" href="var.html#553" class="Datatype">Var</a> <a id="2426" href="StateOfTheArt.ACMM.html#2415" class="Bound">n</a> <a id="2428" href="StateOfTheArt.ACMM.html#2417" class="Bound">Γ</a> <a id="2430" class="Symbol">→</a> <a id="2432" href="indexed.html#903" class="Function Operator">[</a> <a id="2434" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2438" href="StateOfTheArt.ACMM.html#2415" class="Bound">n</a> <a id="2440" href="indexed.html#759" class="Function Operator">⟶</a> <a id="2442" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2446" href="StateOfTheArt.ACMM.html#2415" class="Bound">n</a> <a id="2448" href="indexed.html#903" class="Function Operator">]</a>
   <a id="2453" href="StateOfTheArt.ACMM.html#2406" class="Function">⟦V⟧</a> <a id="2457" class="Symbol">_</a> <a id="2459" href="StateOfTheArt.ACMM.html#2459" class="Bound">x</a> <a id="2461" class="Symbol">=</a> <a id="2463" href="StateOfTheArt.ACMM.html#2459" class="Bound">x</a>

   <a id="2469" href="StateOfTheArt.ACMM.html#2469" class="Function">⟦A⟧</a> <a id="2473" class="Symbol">:</a> <a id="2475" class="Symbol">∀</a> <a id="2477" class="Symbol">{</a><a id="2478" href="StateOfTheArt.ACMM.html#2478" class="Bound">σ</a> <a id="2480" href="StateOfTheArt.ACMM.html#2480" class="Bound">τ</a> <a id="2482" href="StateOfTheArt.ACMM.html#2482" class="Bound">Γ</a><a id="2483" class="Symbol">}</a> <a id="2485" class="Symbol">→</a> <a id="2487" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="2491" class="Symbol">(</a><a id="2492" href="StateOfTheArt.ACMM.html#2478" class="Bound">σ</a> <a id="2494" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="2496" href="StateOfTheArt.ACMM.html#2480" class="Bound">τ</a><a id="2497" class="Symbol">)</a> <a id="2499" href="StateOfTheArt.ACMM.html#2482" class="Bound">Γ</a> <a id="2501" class="Symbol">→</a> <a id="2503" href="indexed.html#903" class="Function Operator">[</a> <a id="2505" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2509" class="Symbol">(</a><a id="2510" href="StateOfTheArt.ACMM.html#2478" class="Bound">σ</a> <a id="2512" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="2514" href="StateOfTheArt.ACMM.html#2480" class="Bound">τ</a><a id="2515" class="Symbol">)</a> <a id="2517" href="indexed.html#759" class="Function Operator">⟶</a> <a id="2519" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2523" href="StateOfTheArt.ACMM.html#2478" class="Bound">σ</a> <a id="2525" href="indexed.html#759" class="Function Operator">⟶</a> <a id="2527" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2531" href="StateOfTheArt.ACMM.html#2480" class="Bound">τ</a> <a id="2533" href="indexed.html#903" class="Function Operator">]</a>
   <a id="2538" href="StateOfTheArt.ACMM.html#2469" class="Function">⟦A⟧</a> <a id="2542" class="Symbol">_</a> <a id="2544" href="StateOfTheArt.ACMM.html#2544" class="Bound">f</a> <a id="2546" href="StateOfTheArt.ACMM.html#2546" class="Bound">t</a> <a id="2548" class="Symbol">=</a> <a id="2550" href="StateOfTheArt.ACMM.html#2544" class="Bound">f</a> <a id="2552" class="Symbol">(</a><a id="2553" href="environment.html#383" class="InductiveConstructor">pack</a> <a id="2558" href="Function.html#1058" class="Function">id</a><a id="2560" class="Symbol">)</a> <a id="2562" href="StateOfTheArt.ACMM.html#2546" class="Bound">t</a>

 <a id="2566" href="StateOfTheArt.ACMM.html#2566" class="Function">nbe</a> <a id="2570" class="Symbol">:</a> <a id="2572" class="Symbol">{</a><a id="2573" href="StateOfTheArt.ACMM.html#2573" class="Bound">Γ</a> <a id="2575" href="StateOfTheArt.ACMM.html#2575" class="Bound">Δ</a> <a id="2577" class="Symbol">:</a> <a id="2579" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="2584" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="2588" class="Symbol">}</a> <a id="2590" class="Symbol">{</a><a id="2591" href="StateOfTheArt.ACMM.html#2591" class="Bound">σ</a> <a id="2593" class="Symbol">:</a> <a id="2595" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="2599" class="Symbol">}</a> <a id="2601" class="Symbol">→</a> <a id="2603" class="Symbol">(</a><a id="2604" href="StateOfTheArt.ACMM.html#2573" class="Bound">Γ</a> <a id="2606" href="environment.html#309" class="Record Operator">─Env</a><a id="2610" class="Symbol">)</a> <a id="2612" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2616" href="StateOfTheArt.ACMM.html#2575" class="Bound">Δ</a> <a id="2618" class="Symbol">→</a> <a id="2620" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="2624" href="StateOfTheArt.ACMM.html#2591" class="Bound">σ</a> <a id="2626" href="StateOfTheArt.ACMM.html#2573" class="Bound">Γ</a> <a id="2628" class="Symbol">→</a> <a id="2630" href="StateOfTheArt.ACMM.html#1796" class="Function">Val</a> <a id="2634" href="StateOfTheArt.ACMM.html#2591" class="Bound">σ</a> <a id="2636" href="StateOfTheArt.ACMM.html#2575" class="Bound">Δ</a>
 <a id="2639" href="StateOfTheArt.ACMM.html#2566" class="Function">nbe</a> <a id="2643" href="StateOfTheArt.ACMM.html#2643" class="Bound">ρ</a> <a id="2645" class="Symbol">(</a><a id="2646" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="2648" href="StateOfTheArt.ACMM.html#2648" class="Bound">k</a><a id="2649" class="Symbol">)</a>    <a id="2654" class="Symbol">=</a> <a id="2656" href="StateOfTheArt.ACMM.html#2406" class="Function">⟦V⟧</a> <a id="2660" href="StateOfTheArt.ACMM.html#2648" class="Bound">k</a> <a id="2662" class="Symbol">(</a><a id="2663" href="environment.html#396" class="Field">lookup</a> <a id="2670" href="StateOfTheArt.ACMM.html#2643" class="Bound">ρ</a> <a id="2672" href="StateOfTheArt.ACMM.html#2648" class="Bound">k</a><a id="2673" class="Symbol">)</a>
 <a id="2676" href="StateOfTheArt.ACMM.html#2566" class="Function">nbe</a> <a id="2680" href="StateOfTheArt.ACMM.html#2680" class="Bound">ρ</a> <a id="2682" class="Symbol">(</a><a id="2683" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a> <a id="2685" href="StateOfTheArt.ACMM.html#2685" class="Bound">f</a> <a id="2687" href="StateOfTheArt.ACMM.html#2687" class="Bound">t</a><a id="2688" class="Symbol">)</a>  <a id="2691" class="Symbol">=</a> <a id="2693" href="StateOfTheArt.ACMM.html#2469" class="Function">⟦A⟧</a> <a id="2697" href="StateOfTheArt.ACMM.html#2685" class="Bound">f</a> <a id="2699" class="Symbol">(</a><a id="2700" href="StateOfTheArt.ACMM.html#2566" class="Function">nbe</a> <a id="2704" href="StateOfTheArt.ACMM.html#2680" class="Bound">ρ</a> <a id="2706" href="StateOfTheArt.ACMM.html#2685" class="Bound">f</a><a id="2707" class="Symbol">)</a> <a id="2709" class="Symbol">(</a><a id="2710" href="StateOfTheArt.ACMM.html#2566" class="Function">nbe</a> <a id="2714" href="StateOfTheArt.ACMM.html#2680" class="Bound">ρ</a> <a id="2716" href="StateOfTheArt.ACMM.html#2687" class="Bound">t</a><a id="2717" class="Symbol">)</a>
 <a id="2720" href="StateOfTheArt.ACMM.html#2566" class="Function">nbe</a> <a id="2724" href="StateOfTheArt.ACMM.html#2724" class="Bound">ρ</a> <a id="2726" class="Symbol">(</a><a id="2727" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="2729" href="StateOfTheArt.ACMM.html#2729" class="Bound">b</a><a id="2730" class="Symbol">)</a>    <a id="2735" class="Symbol">=</a> <a id="2737" class="Symbol">λ</a> <a id="2739" href="StateOfTheArt.ACMM.html#2739" class="Bound">σ</a> <a id="2741" href="StateOfTheArt.ACMM.html#2741" class="Bound">v</a> <a id="2743" class="Symbol">→</a> <a id="2745" href="StateOfTheArt.ACMM.html#2566" class="Function">nbe</a> <a id="2749" class="Symbol">(</a><a id="2750" href="StateOfTheArt.ACMM.html#2246" class="Function">extend</a> <a id="2757" href="StateOfTheArt.ACMM.html#2739" class="Bound">σ</a> <a id="2759" href="StateOfTheArt.ACMM.html#2724" class="Bound">ρ</a> <a id="2761" href="StateOfTheArt.ACMM.html#2741" class="Bound">v</a><a id="2762" class="Symbol">)</a> <a id="2764" href="StateOfTheArt.ACMM.html#2729" class="Bound">b</a>

<a id="2767" class="Keyword">record</a> <a id="Sem"></a><a id="2774" href="StateOfTheArt.ACMM.html#2774" class="Record">Sem</a> <a id="2778" class="Symbol">(</a><a id="2779" href="StateOfTheArt.ACMM.html#2779" class="Bound">𝓥</a> <a id="2781" href="StateOfTheArt.ACMM.html#2781" class="Bound">𝓒</a> <a id="2783" class="Symbol">:</a> <a id="2785" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a> <a id="2790" href="var.html#469" class="Function Operator">─Scoped</a><a id="2797" class="Symbol">)</a> <a id="2799" class="Symbol">:</a> <a id="2801" class="PrimitiveType">Set</a> <a id="2805" class="Keyword">where</a>
  <a id="2813" class="Keyword">field</a>  <a id="Sem.th^𝓥"></a><a id="2820" href="StateOfTheArt.ACMM.html#2820" class="Field">th^𝓥</a>  <a id="2826" class="Symbol">:</a> <a id="2828" class="Symbol">∀</a> <a id="2830" class="Symbol">{</a><a id="2831" href="StateOfTheArt.ACMM.html#2831" class="Bound">σ</a><a id="2832" class="Symbol">}</a> <a id="2834" class="Symbol">→</a> <a id="2836" href="environment.html#3430" class="Function">Thinnable</a> <a id="2846" class="Symbol">(</a><a id="2847" href="StateOfTheArt.ACMM.html#2779" class="Bound">𝓥</a> <a id="2849" href="StateOfTheArt.ACMM.html#2831" class="Bound">σ</a><a id="2850" class="Symbol">)</a>
         <a id="Sem.⟦V⟧"></a><a id="2861" href="StateOfTheArt.ACMM.html#2861" class="Field">⟦V⟧</a>   <a id="2867" class="Symbol">:</a> <a id="2869" class="Symbol">{</a><a id="2870" href="StateOfTheArt.ACMM.html#2870" class="Bound">σ</a> <a id="2872" class="Symbol">:</a> <a id="2874" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="2878" class="Symbol">}</a> <a id="2880" class="Symbol">→</a>               <a id="2896" href="indexed.html#903" class="Function Operator">[</a> <a id="2898" href="StateOfTheArt.ACMM.html#2779" class="Bound">𝓥</a> <a id="2900" href="StateOfTheArt.ACMM.html#2870" class="Bound">σ</a>               <a id="2916" href="indexed.html#759" class="Function Operator">⟶</a> <a id="2918" href="StateOfTheArt.ACMM.html#2781" class="Bound">𝓒</a> <a id="2920" href="StateOfTheArt.ACMM.html#2870" class="Bound">σ</a>        <a id="2929" href="indexed.html#903" class="Function Operator">]</a>
         <a id="Sem.⟦A⟧"></a><a id="2940" href="StateOfTheArt.ACMM.html#2940" class="Field">⟦A⟧</a>   <a id="2946" class="Symbol">:</a> <a id="2948" class="Symbol">{</a><a id="2949" href="StateOfTheArt.ACMM.html#2949" class="Bound">σ</a> <a id="2951" href="StateOfTheArt.ACMM.html#2951" class="Bound">τ</a> <a id="2953" class="Symbol">:</a> <a id="2955" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="2959" class="Symbol">}</a> <a id="2961" class="Symbol">→</a>             <a id="2975" href="indexed.html#903" class="Function Operator">[</a> <a id="2977" href="StateOfTheArt.ACMM.html#2781" class="Bound">𝓒</a> <a id="2979" class="Symbol">(</a><a id="2980" href="StateOfTheArt.ACMM.html#2949" class="Bound">σ</a> <a id="2982" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="2984" href="StateOfTheArt.ACMM.html#2951" class="Bound">τ</a><a id="2985" class="Symbol">)</a> <a id="2987" href="indexed.html#759" class="Function Operator">⟶</a> <a id="2989" href="StateOfTheArt.ACMM.html#2781" class="Bound">𝓒</a> <a id="2991" href="StateOfTheArt.ACMM.html#2949" class="Bound">σ</a>   <a id="2995" href="indexed.html#759" class="Function Operator">⟶</a> <a id="2997" href="StateOfTheArt.ACMM.html#2781" class="Bound">𝓒</a> <a id="2999" href="StateOfTheArt.ACMM.html#2951" class="Bound">τ</a>        <a id="3008" href="indexed.html#903" class="Function Operator">]</a>
         <a id="Sem.⟦L⟧"></a><a id="3019" href="StateOfTheArt.ACMM.html#3019" class="Field">⟦L⟧</a>   <a id="3025" class="Symbol">:</a> <a id="3027" class="Symbol">(</a><a id="3028" href="StateOfTheArt.ACMM.html#3028" class="Bound">σ</a> <a id="3030" class="Symbol">:</a> <a id="3032" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="3036" class="Symbol">)</a> <a id="3038" class="Symbol">→</a> <a id="3040" class="Symbol">{</a><a id="3041" href="StateOfTheArt.ACMM.html#3041" class="Bound">τ</a> <a id="3043" class="Symbol">:</a> <a id="3045" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="3049" class="Symbol">}</a> <a id="3051" class="Symbol">→</a>  <a id="3054" href="indexed.html#903" class="Function Operator">[</a> <a id="3056" href="environment.html#3137" class="Function">□</a> <a id="3058" class="Symbol">(</a><a id="3059" href="StateOfTheArt.ACMM.html#2779" class="Bound">𝓥</a> <a id="3061" href="StateOfTheArt.ACMM.html#3028" class="Bound">σ</a> <a id="3063" href="indexed.html#759" class="Function Operator">⟶</a> <a id="3065" href="StateOfTheArt.ACMM.html#2781" class="Bound">𝓒</a> <a id="3067" href="StateOfTheArt.ACMM.html#3041" class="Bound">τ</a><a id="3068" class="Symbol">)</a>     <a id="3074" href="indexed.html#759" class="Function Operator">⟶</a> <a id="3076" href="StateOfTheArt.ACMM.html#2781" class="Bound">𝓒</a> <a id="3078" class="Symbol">(</a><a id="3079" href="StateOfTheArt.ACMM.html#3028" class="Bound">σ</a> <a id="3081" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="3083" href="StateOfTheArt.ACMM.html#3041" class="Bound">τ</a><a id="3084" class="Symbol">)</a>  <a id="3087" href="indexed.html#903" class="Function Operator">]</a>

<a id="3090" class="Keyword">module</a> <a id="3097" href="StateOfTheArt.ACMM.html#3097" class="Module">_</a> <a id="3099" class="Symbol">{</a><a id="3100" href="StateOfTheArt.ACMM.html#3100" class="Bound">𝓥</a> <a id="3102" href="StateOfTheArt.ACMM.html#3102" class="Bound">𝓒</a><a id="3103" class="Symbol">}</a> <a id="3105" class="Symbol">(</a><a id="3106" href="StateOfTheArt.ACMM.html#3106" class="Bound">𝓢</a> <a id="3108" class="Symbol">:</a> <a id="3110" href="StateOfTheArt.ACMM.html#2774" class="Record">Sem</a> <a id="3114" href="StateOfTheArt.ACMM.html#3100" class="Bound">𝓥</a> <a id="3116" href="StateOfTheArt.ACMM.html#3102" class="Bound">𝓒</a><a id="3117" class="Symbol">)</a> <a id="3119" class="Keyword">where</a>
 <a id="3126" class="Keyword">open</a> <a id="3131" href="StateOfTheArt.ACMM.html#2774" class="Module">Sem</a> <a id="3135" href="StateOfTheArt.ACMM.html#3106" class="Bound">𝓢</a>

 <a id="3139" href="StateOfTheArt.ACMM.html#3139" class="Function">sem</a> <a id="3143" class="Symbol">:</a> <a id="3145" class="Symbol">{</a><a id="3146" href="StateOfTheArt.ACMM.html#3146" class="Bound">Γ</a> <a id="3148" href="StateOfTheArt.ACMM.html#3148" class="Bound">Δ</a> <a id="3150" class="Symbol">:</a> <a id="3152" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="3157" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="3161" class="Symbol">}</a> <a id="3163" class="Symbol">{</a><a id="3164" href="StateOfTheArt.ACMM.html#3164" class="Bound">σ</a> <a id="3166" class="Symbol">:</a> <a id="3168" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="3172" class="Symbol">}</a> <a id="3174" class="Symbol">→</a> <a id="3176" class="Symbol">(</a><a id="3177" href="StateOfTheArt.ACMM.html#3146" class="Bound">Γ</a> <a id="3179" href="environment.html#309" class="Record Operator">─Env</a><a id="3183" class="Symbol">)</a> <a id="3185" href="StateOfTheArt.ACMM.html#3100" class="Bound">𝓥</a> <a id="3187" href="StateOfTheArt.ACMM.html#3148" class="Bound">Δ</a> <a id="3189" class="Symbol">→</a> <a id="3191" class="Symbol">(</a><a id="3192" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="3196" href="StateOfTheArt.ACMM.html#3164" class="Bound">σ</a> <a id="3198" href="StateOfTheArt.ACMM.html#3146" class="Bound">Γ</a> <a id="3200" class="Symbol">→</a> <a id="3202" href="StateOfTheArt.ACMM.html#3102" class="Bound">𝓒</a> <a id="3204" href="StateOfTheArt.ACMM.html#3164" class="Bound">σ</a> <a id="3206" href="StateOfTheArt.ACMM.html#3148" class="Bound">Δ</a><a id="3207" class="Symbol">)</a>
 <a id="3210" href="StateOfTheArt.ACMM.html#3139" class="Function">sem</a> <a id="3214" href="StateOfTheArt.ACMM.html#3214" class="Bound">ρ</a> <a id="3216" class="Symbol">(</a><a id="3217" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="3219" href="StateOfTheArt.ACMM.html#3219" class="Bound">k</a><a id="3220" class="Symbol">)</a>    <a id="3225" class="Symbol">=</a> <a id="3227" href="StateOfTheArt.ACMM.html#2861" class="Field">⟦V⟧</a> <a id="3231" class="Symbol">(</a><a id="3232" href="environment.html#396" class="Field">lookup</a> <a id="3239" href="StateOfTheArt.ACMM.html#3214" class="Bound">ρ</a> <a id="3241" href="StateOfTheArt.ACMM.html#3219" class="Bound">k</a><a id="3242" class="Symbol">)</a>
 <a id="3245" href="StateOfTheArt.ACMM.html#3139" class="Function">sem</a> <a id="3249" href="StateOfTheArt.ACMM.html#3249" class="Bound">ρ</a> <a id="3251" class="Symbol">(</a><a id="3252" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a> <a id="3254" href="StateOfTheArt.ACMM.html#3254" class="Bound">f</a> <a id="3256" href="StateOfTheArt.ACMM.html#3256" class="Bound">t</a><a id="3257" class="Symbol">)</a>  <a id="3260" class="Symbol">=</a> <a id="3262" href="StateOfTheArt.ACMM.html#2940" class="Field">⟦A⟧</a> <a id="3266" class="Symbol">(</a><a id="3267" href="StateOfTheArt.ACMM.html#3139" class="Function">sem</a> <a id="3271" href="StateOfTheArt.ACMM.html#3249" class="Bound">ρ</a> <a id="3273" href="StateOfTheArt.ACMM.html#3254" class="Bound">f</a><a id="3274" class="Symbol">)</a> <a id="3276" class="Symbol">(</a><a id="3277" href="StateOfTheArt.ACMM.html#3139" class="Function">sem</a> <a id="3281" href="StateOfTheArt.ACMM.html#3249" class="Bound">ρ</a> <a id="3283" href="StateOfTheArt.ACMM.html#3256" class="Bound">t</a><a id="3284" class="Symbol">)</a>
 <a id="3287" href="StateOfTheArt.ACMM.html#3139" class="Function">sem</a> <a id="3291" href="StateOfTheArt.ACMM.html#3291" class="Bound">ρ</a> <a id="3293" class="Symbol">(</a><a id="3294" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="3296" href="StateOfTheArt.ACMM.html#3296" class="Bound">b</a><a id="3297" class="Symbol">)</a>    <a id="3302" class="Symbol">=</a> <a id="3304" href="StateOfTheArt.ACMM.html#3019" class="Field">⟦L⟧</a> <a id="3308" class="Symbol">_</a> <a id="3310" class="Symbol">(λ</a> <a id="3313" href="StateOfTheArt.ACMM.html#3313" class="Bound">σ</a> <a id="3315" href="StateOfTheArt.ACMM.html#3315" class="Bound">v</a> <a id="3317" class="Symbol">→</a> <a id="3319" href="StateOfTheArt.ACMM.html#3139" class="Function">sem</a> <a id="3323" class="Symbol">(</a><a id="3324" href="StateOfTheArt.ACMM.html#3355" class="Function">extend</a> <a id="3331" href="StateOfTheArt.ACMM.html#3313" class="Bound">σ</a> <a id="3333" href="StateOfTheArt.ACMM.html#3291" class="Bound">ρ</a> <a id="3335" href="StateOfTheArt.ACMM.html#3315" class="Bound">v</a><a id="3336" class="Symbol">)</a> <a id="3338" href="StateOfTheArt.ACMM.html#3296" class="Bound">b</a><a id="3339" class="Symbol">)</a>

   <a id="3345" class="Keyword">where</a>

   <a id="3355" href="StateOfTheArt.ACMM.html#3355" class="Function">extend</a> <a id="3362" class="Symbol">:</a> <a id="3364" class="Symbol">{</a><a id="3365" href="StateOfTheArt.ACMM.html#3365" class="Bound">Γ</a> <a id="3367" href="StateOfTheArt.ACMM.html#3367" class="Bound">Δ</a> <a id="3369" href="StateOfTheArt.ACMM.html#3369" class="Bound">Θ</a> <a id="3371" class="Symbol">:</a> <a id="3373" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="3378" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="3382" class="Symbol">}</a> <a id="3384" class="Symbol">{</a><a id="3385" href="StateOfTheArt.ACMM.html#3385" class="Bound">σ</a> <a id="3387" class="Symbol">:</a> <a id="3389" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="3393" class="Symbol">}</a> <a id="3395" class="Symbol">→</a>
            <a id="3409" href="environment.html#450" class="Function">Thinning</a> <a id="3418" href="StateOfTheArt.ACMM.html#3367" class="Bound">Δ</a> <a id="3420" href="StateOfTheArt.ACMM.html#3369" class="Bound">Θ</a> <a id="3422" class="Symbol">→</a> <a id="3424" class="Symbol">(</a><a id="3425" href="StateOfTheArt.ACMM.html#3365" class="Bound">Γ</a> <a id="3427" href="environment.html#309" class="Record Operator">─Env</a><a id="3431" class="Symbol">)</a> <a id="3433" href="StateOfTheArt.ACMM.html#3100" class="Bound">𝓥</a> <a id="3435" href="StateOfTheArt.ACMM.html#3367" class="Bound">Δ</a> <a id="3437" class="Symbol">→</a> <a id="3439" href="StateOfTheArt.ACMM.html#3100" class="Bound">𝓥</a> <a id="3441" href="StateOfTheArt.ACMM.html#3385" class="Bound">σ</a> <a id="3443" href="StateOfTheArt.ACMM.html#3369" class="Bound">Θ</a> <a id="3445" class="Symbol">→</a> <a id="3447" class="Symbol">(</a><a id="3448" href="StateOfTheArt.ACMM.html#3385" class="Bound">σ</a> <a id="3450" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="3452" href="StateOfTheArt.ACMM.html#3365" class="Bound">Γ</a> <a id="3454" href="environment.html#309" class="Record Operator">─Env</a><a id="3458" class="Symbol">)</a> <a id="3460" href="StateOfTheArt.ACMM.html#3100" class="Bound">𝓥</a> <a id="3462" href="StateOfTheArt.ACMM.html#3369" class="Bound">Θ</a>
   <a id="3467" href="StateOfTheArt.ACMM.html#3355" class="Function">extend</a> <a id="3474" href="StateOfTheArt.ACMM.html#3474" class="Bound">σ</a> <a id="3476" href="StateOfTheArt.ACMM.html#3476" class="Bound">ρ</a> <a id="3478" href="StateOfTheArt.ACMM.html#3478" class="Bound">v</a> <a id="3480" class="Symbol">=</a> <a id="3482" class="Symbol">(λ</a> <a id="3485" href="StateOfTheArt.ACMM.html#3485" class="Bound">t</a> <a id="3487" class="Symbol">→</a> <a id="3489" href="StateOfTheArt.ACMM.html#2820" class="Field">th^𝓥</a> <a id="3494" href="StateOfTheArt.ACMM.html#3485" class="Bound">t</a> <a id="3496" href="StateOfTheArt.ACMM.html#3474" class="Bound">σ</a><a id="3497" class="Symbol">)</a> <a id="3499" href="environment.html#556" class="Function Operator">&lt;$&gt;</a> <a id="3503" href="StateOfTheArt.ACMM.html#3476" class="Bound">ρ</a> <a id="3505" href="environment.html#2070" class="Function Operator">∙</a> <a id="3507" href="StateOfTheArt.ACMM.html#3478" class="Bound">v</a>

<a id="Renaming"></a><a id="3510" href="StateOfTheArt.ACMM.html#3510" class="Function">Renaming</a> <a id="3519" class="Symbol">:</a> <a id="3521" href="StateOfTheArt.ACMM.html#2774" class="Record">Sem</a> <a id="3525" href="var.html#553" class="Datatype">Var</a> <a id="3529" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a>
<a id="3533" href="StateOfTheArt.ACMM.html#3510" class="Function">Renaming</a> <a id="3542" class="Symbol">=</a> <a id="3544" class="Keyword">record</a>
  <a id="3553" class="Symbol">{</a> <a id="3555" class="Field">th^𝓥</a>  <a id="3561" class="Symbol">=</a> <a id="3563" href="environment.html#3491" class="Function">th^Var</a>
  <a id="3572" class="Symbol">;</a> <a id="3574" class="Field">⟦V⟧</a>    <a id="3581" class="Symbol">=</a> <a id="3583" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a>
  <a id="3587" class="Symbol">;</a> <a id="3589" class="Field">⟦A⟧</a>    <a id="3596" class="Symbol">=</a> <a id="3598" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a>
  <a id="3602" class="Symbol">;</a> <a id="3604" class="Field">⟦L⟧</a>    <a id="3611" class="Symbol">=</a> <a id="3613" class="Symbol">λ</a> <a id="3615" href="StateOfTheArt.ACMM.html#3615" class="Bound">σ</a> <a id="3617" href="StateOfTheArt.ACMM.html#3617" class="Bound">b</a> <a id="3619" class="Symbol">→</a> <a id="3621" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="3623" class="Symbol">(</a><a id="3624" href="StateOfTheArt.ACMM.html#3617" class="Bound">b</a> <a id="3626" class="Symbol">(</a><a id="3627" href="environment.html#383" class="InductiveConstructor">pack</a> <a id="3632" href="var.html#626" class="InductiveConstructor">s</a><a id="3633" class="Symbol">)</a> <a id="3635" href="var.html#578" class="InductiveConstructor">z</a><a id="3636" class="Symbol">)</a> <a id="3638" class="Symbol">}</a>

<a id="Substitution"></a><a id="3641" href="StateOfTheArt.ACMM.html#3641" class="Function">Substitution</a> <a id="3654" class="Symbol">:</a> <a id="3656" href="StateOfTheArt.ACMM.html#2774" class="Record">Sem</a> <a id="3660" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="3664" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a>
<a id="3668" href="StateOfTheArt.ACMM.html#3641" class="Function">Substitution</a> <a id="3681" class="Symbol">=</a> <a id="3683" class="Keyword">record</a>
   <a id="3693" class="Symbol">{</a> <a id="3695" class="Field">th^𝓥</a>  <a id="3701" class="Symbol">=</a> <a id="3703" class="Symbol">λ</a> <a id="3705" href="StateOfTheArt.ACMM.html#3705" class="Bound">t</a> <a id="3707" href="StateOfTheArt.ACMM.html#3707" class="Bound">ρ</a> <a id="3709" class="Symbol">→</a> <a id="3711" href="StateOfTheArt.ACMM.html#3139" class="Function">sem</a> <a id="3715" href="StateOfTheArt.ACMM.html#3510" class="Function">Renaming</a> <a id="3724" href="StateOfTheArt.ACMM.html#3707" class="Bound">ρ</a> <a id="3726" href="StateOfTheArt.ACMM.html#3705" class="Bound">t</a>
   <a id="3731" class="Symbol">;</a> <a id="3733" class="Field">⟦V⟧</a>    <a id="3740" class="Symbol">=</a> <a id="3742" href="Function.html#1058" class="Function">id</a>
   <a id="3748" class="Symbol">;</a> <a id="3750" class="Field">⟦A⟧</a>    <a id="3757" class="Symbol">=</a> <a id="3759" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a>
   <a id="3764" class="Symbol">;</a> <a id="3766" class="Field">⟦L⟧</a>    <a id="3773" class="Symbol">=</a> <a id="3775" class="Symbol">λ</a> <a id="3777" href="StateOfTheArt.ACMM.html#3777" class="Bound">σ</a> <a id="3779" href="StateOfTheArt.ACMM.html#3779" class="Bound">b</a> <a id="3781" class="Symbol">→</a> <a id="3783" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="3785" class="Symbol">(</a><a id="3786" href="StateOfTheArt.ACMM.html#3779" class="Bound">b</a> <a id="3788" class="Symbol">(</a><a id="3789" href="environment.html#383" class="InductiveConstructor">pack</a> <a id="3794" href="var.html#626" class="InductiveConstructor">s</a><a id="3795" class="Symbol">)</a> <a id="3797" class="Symbol">(</a><a id="3798" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="3800" href="var.html#578" class="InductiveConstructor">z</a><a id="3801" class="Symbol">))</a> <a id="3804" class="Symbol">}</a>

<a id="3807" class="Keyword">open</a> <a id="3812" class="Keyword">import</a> <a id="3819" href="Category.Monad.State.html" class="Module">Category.Monad.State</a>
<a id="3840" class="Keyword">open</a> <a id="3845" class="Keyword">import</a> <a id="3852" href="Category.Applicative.html" class="Module">Category.Applicative</a>
<a id="3873" class="Keyword">open</a> <a id="3878" class="Keyword">import</a> <a id="3885" href="Data.String.html" class="Module">Data.String</a> <a id="3897" class="Keyword">hiding</a> <a id="3904" class="Symbol">(</a><a id="3905" href="Data.String.Base.html#1371" class="Function">show</a><a id="3909" class="Symbol">)</a>
<a id="3911" class="Keyword">open</a> <a id="3916" class="Keyword">import</a> <a id="3923" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="3937" class="Keyword">open</a> <a id="3942" class="Keyword">import</a> <a id="3949" href="Data.Product.html" class="Module">Data.Product</a>
<a id="3962" class="Keyword">open</a> <a id="3967" class="Keyword">import</a> <a id="3974" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="4012" class="Keyword">hiding</a> <a id="4019" class="Symbol">(</a><a id="4020" href="Relation.Binary.PropositionalEquality.html#3279" class="InductiveConstructor Operator">[_]</a><a id="4023" class="Symbol">)</a>

<a id="4026" class="Keyword">module</a> <a id="Printer"></a><a id="4033" href="StateOfTheArt.ACMM.html#4033" class="Module">Printer</a> <a id="4041" class="Keyword">where</a>
 <a id="4048" class="Keyword">open</a> <a id="4053" href="Category.Monad.State.html#2432" class="Module">RawMonadState</a> <a id="4067" class="Symbol">(</a><a id="4068" href="Category.Monad.State.html#3404" class="Function">StateMonadState</a> <a id="4084" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="4085" class="Symbol">)</a>


 <a id="4090" class="Keyword">record</a> <a id="Printer.Wrap"></a><a id="4097" href="StateOfTheArt.ACMM.html#4097" class="Record">Wrap</a> <a id="4102" class="Symbol">(</a><a id="4103" href="StateOfTheArt.ACMM.html#4103" class="Bound">A</a> <a id="4105" class="Symbol">:</a> <a id="4107" class="PrimitiveType">Set</a><a id="4110" class="Symbol">)</a> <a id="4112" class="Symbol">(</a><a id="4113" href="StateOfTheArt.ACMM.html#4113" class="Bound">σ</a> <a id="4115" class="Symbol">:</a> <a id="4117" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="4121" class="Symbol">)</a> <a id="4123" class="Symbol">(</a><a id="4124" href="StateOfTheArt.ACMM.html#4124" class="Bound">Γ</a> <a id="4126" class="Symbol">:</a> <a id="4128" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="4133" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="4137" class="Symbol">)</a> <a id="4139" class="Symbol">:</a> <a id="4141" class="PrimitiveType">Set</a> <a id="4145" class="Keyword">where</a>
   <a id="4154" class="Keyword">constructor</a> <a id="Printer.Wrap.MkW"></a><a id="4166" href="StateOfTheArt.ACMM.html#4166" class="InductiveConstructor">MkW</a><a id="4169" class="Symbol">;</a> <a id="4171" class="Keyword">field</a> <a id="Printer.Wrap.getW"></a><a id="4177" href="StateOfTheArt.ACMM.html#4177" class="Field">getW</a> <a id="4182" class="Symbol">:</a> <a id="4184" href="StateOfTheArt.ACMM.html#4103" class="Bound">A</a>

 <a id="4188" class="Keyword">open</a> <a id="4193" href="StateOfTheArt.ACMM.html#4097" class="Module">Wrap</a> <a id="4198" class="Keyword">public</a>

 <a id="Printer.th^Wrap"></a><a id="4207" href="StateOfTheArt.ACMM.html#4207" class="Function">th^Wrap</a> <a id="4215" class="Symbol">:</a> <a id="4217" class="Symbol">{</a><a id="4218" href="StateOfTheArt.ACMM.html#4218" class="Bound">A</a> <a id="4220" class="Symbol">:</a> <a id="4222" class="PrimitiveType">Set</a><a id="4225" class="Symbol">}</a> <a id="4227" class="Symbol">→</a> <a id="4229" class="Symbol">∀</a> <a id="4231" class="Symbol">{</a><a id="4232" href="StateOfTheArt.ACMM.html#4232" class="Bound">σ</a><a id="4233" class="Symbol">}</a> <a id="4235" class="Symbol">→</a> <a id="4237" href="environment.html#3430" class="Function">Thinnable</a> <a id="4247" class="Symbol">(</a><a id="4248" href="StateOfTheArt.ACMM.html#4097" class="Record">Wrap</a> <a id="4253" href="StateOfTheArt.ACMM.html#4218" class="Bound">A</a> <a id="4255" href="StateOfTheArt.ACMM.html#4232" class="Bound">σ</a><a id="4256" class="Symbol">)</a>
 <a id="4259" href="StateOfTheArt.ACMM.html#4207" class="Function">th^Wrap</a> <a id="4267" href="StateOfTheArt.ACMM.html#4267" class="Bound">w</a> <a id="4269" href="StateOfTheArt.ACMM.html#4269" class="Bound">ρ</a> <a id="4271" class="Symbol">=</a> <a id="4273" href="StateOfTheArt.ACMM.html#4166" class="InductiveConstructor">MkW</a> <a id="4277" class="Symbol">(</a><a id="4278" href="StateOfTheArt.ACMM.html#4177" class="Field">getW</a> <a id="4283" href="StateOfTheArt.ACMM.html#4267" class="Bound">w</a><a id="4284" class="Symbol">)</a>

 <a id="Printer.map^Wrap"></a><a id="4288" href="StateOfTheArt.ACMM.html#4288" class="Function">map^Wrap</a> <a id="4297" class="Symbol">:</a> <a id="4299" class="Symbol">{</a><a id="4300" href="StateOfTheArt.ACMM.html#4300" class="Bound">A</a> <a id="4302" href="StateOfTheArt.ACMM.html#4302" class="Bound">B</a> <a id="4304" class="Symbol">:</a> <a id="4306" class="PrimitiveType">Set</a><a id="4309" class="Symbol">}</a> <a id="4311" class="Symbol">→</a> <a id="4313" class="Symbol">∀</a> <a id="4315" class="Symbol">{</a><a id="4316" href="StateOfTheArt.ACMM.html#4316" class="Bound">σ</a><a id="4317" class="Symbol">}</a> <a id="4319" class="Symbol">→</a> <a id="4321" class="Symbol">(</a><a id="4322" href="StateOfTheArt.ACMM.html#4300" class="Bound">A</a> <a id="4324" class="Symbol">→</a> <a id="4326" href="StateOfTheArt.ACMM.html#4302" class="Bound">B</a><a id="4327" class="Symbol">)</a> <a id="4329" class="Symbol">→</a> <a id="4331" href="indexed.html#903" class="Function Operator">[</a> <a id="4333" href="StateOfTheArt.ACMM.html#4097" class="Record">Wrap</a> <a id="4338" href="StateOfTheArt.ACMM.html#4300" class="Bound">A</a> <a id="4340" href="StateOfTheArt.ACMM.html#4316" class="Bound">σ</a> <a id="4342" href="indexed.html#759" class="Function Operator">⟶</a> <a id="4344" href="StateOfTheArt.ACMM.html#4097" class="Record">Wrap</a> <a id="4349" href="StateOfTheArt.ACMM.html#4302" class="Bound">B</a> <a id="4351" href="StateOfTheArt.ACMM.html#4316" class="Bound">σ</a> <a id="4353" href="indexed.html#903" class="Function Operator">]</a>
 <a id="4356" href="StateOfTheArt.ACMM.html#4288" class="Function">map^Wrap</a> <a id="4365" href="StateOfTheArt.ACMM.html#4365" class="Bound">f</a> <a id="4367" class="Symbol">(</a><a id="4368" href="StateOfTheArt.ACMM.html#4166" class="InductiveConstructor">MkW</a> <a id="4372" href="StateOfTheArt.ACMM.html#4372" class="Bound">a</a><a id="4373" class="Symbol">)</a> <a id="4375" class="Symbol">=</a> <a id="4377" href="StateOfTheArt.ACMM.html#4166" class="InductiveConstructor">MkW</a> <a id="4381" class="Symbol">(</a><a id="4382" href="StateOfTheArt.ACMM.html#4365" class="Bound">f</a> <a id="4384" href="StateOfTheArt.ACMM.html#4372" class="Bound">a</a><a id="4385" class="Symbol">)</a>

 <a id="4389" class="Keyword">open</a> <a id="4394" href="environment.html" class="Module">E</a>

 <a id="Printer.fresh"></a><a id="4398" href="StateOfTheArt.ACMM.html#4398" class="Function">fresh</a> <a id="4404" class="Symbol">:</a> <a id="4406" class="Symbol">{</a><a id="4407" href="StateOfTheArt.ACMM.html#4407" class="Bound">Γ</a> <a id="4409" class="Symbol">:</a> <a id="4411" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="4416" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="4420" class="Symbol">}</a> <a id="4422" class="Symbol">→</a> <a id="4424" class="Symbol">∀</a> <a id="4426" href="StateOfTheArt.ACMM.html#4426" class="Bound">σ</a> <a id="4428" class="Symbol">→</a> <a id="4430" href="Category.Monad.State.html#3241" class="Function">State</a> <a id="4436" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="4438" class="Symbol">(</a><a id="4439" href="StateOfTheArt.ACMM.html#4097" class="Record">Wrap</a> <a id="4444" href="Agda.Builtin.String.html#165" class="Postulate">String</a> <a id="4451" href="StateOfTheArt.ACMM.html#4426" class="Bound">σ</a> <a id="4453" class="Symbol">(</a><a id="4454" href="StateOfTheArt.ACMM.html#4426" class="Bound">σ</a> <a id="4456" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="4458" href="StateOfTheArt.ACMM.html#4407" class="Bound">Γ</a><a id="4459" class="Symbol">))</a>
 <a id="4463" href="StateOfTheArt.ACMM.html#4398" class="Function">fresh</a> <a id="4469" href="StateOfTheArt.ACMM.html#4469" class="Bound">σ</a> <a id="4471" class="Symbol">=</a> <a id="4473" href="Category.Monad.State.html#1729" class="Function">get</a> <a id="4477" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="4481" class="Symbol">λ</a> <a id="4483" href="StateOfTheArt.ACMM.html#4483" class="Bound">x</a> <a id="4485" class="Symbol">→</a> <a id="4487" href="StateOfTheArt.ACMM.html#4166" class="InductiveConstructor">MkW</a> <a id="4491" class="Symbol">(</a><a id="4492" href="Data.Nat.Show.html#951" class="Function">show</a> <a id="4497" href="StateOfTheArt.ACMM.html#4483" class="Bound">x</a><a id="4498" class="Symbol">)</a> <a id="4500" href="Category.Functor.html#516" class="Function Operator">&lt;$</a> <a id="4503" href="Category.Monad.State.html#1761" class="Function">put</a> <a id="4507" class="Symbol">(</a><a id="4508" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="4512" href="StateOfTheArt.ACMM.html#4483" class="Bound">x</a><a id="4513" class="Symbol">)</a>

 <a id="Printer.Printing"></a><a id="4517" href="StateOfTheArt.ACMM.html#4517" class="Function">Printing</a> <a id="4526" class="Symbol">:</a> <a id="4528" href="StateOfTheArt.ACMM.html#2774" class="Record">Sem</a> <a id="4532" class="Symbol">(</a><a id="4533" href="StateOfTheArt.ACMM.html#4097" class="Record">Wrap</a> <a id="4538" href="Agda.Builtin.String.html#165" class="Postulate">String</a><a id="4544" class="Symbol">)</a> <a id="4546" class="Symbol">(</a><a id="4547" href="StateOfTheArt.ACMM.html#4097" class="Record">Wrap</a> <a id="4552" class="Symbol">(</a><a id="4553" href="Category.Monad.State.html#3241" class="Function">State</a> <a id="4559" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="4561" href="Agda.Builtin.String.html#165" class="Postulate">String</a><a id="4567" class="Symbol">))</a>
 <a id="4571" href="StateOfTheArt.ACMM.html#4517" class="Function">Printing</a> <a id="4580" class="Symbol">=</a> <a id="4582" class="Keyword">record</a>
   <a id="4592" class="Symbol">{</a> <a id="4594" class="Field">th^𝓥</a>  <a id="4600" class="Symbol">=</a>  <a id="4603" href="StateOfTheArt.ACMM.html#4207" class="Function">th^Wrap</a>
   <a id="4614" class="Symbol">;</a> <a id="4616" class="Field">⟦V⟧</a>    <a id="4623" class="Symbol">=</a>  <a id="4626" href="StateOfTheArt.ACMM.html#4288" class="Function">map^Wrap</a> <a id="4635" href="Category.Monad.Indexed.html#533" class="Function">return</a>
   <a id="4645" class="Symbol">;</a> <a id="4647" class="Field">⟦A⟧</a>    <a id="4654" class="Symbol">=</a>  <a id="4657" class="Symbol">λ</a> <a id="4659" href="StateOfTheArt.ACMM.html#4659" class="Bound">mf</a> <a id="4662" href="StateOfTheArt.ACMM.html#4662" class="Bound">mt</a> <a id="4665" class="Symbol">→</a> <a id="4667" href="StateOfTheArt.ACMM.html#4166" class="InductiveConstructor">MkW</a> <a id="4671" href="Function.html#1881" class="Function Operator">$</a> <a id="4673" href="StateOfTheArt.ACMM.html#4177" class="Field">getW</a> <a id="4678" href="StateOfTheArt.ACMM.html#4659" class="Bound">mf</a> <a id="4681" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="4685" class="Symbol">λ</a> <a id="4687" href="StateOfTheArt.ACMM.html#4687" class="Bound">f</a> <a id="4689" class="Symbol">→</a> <a id="4691" href="StateOfTheArt.ACMM.html#4177" class="Field">getW</a> <a id="4696" href="StateOfTheArt.ACMM.html#4662" class="Bound">mt</a> <a id="4699" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="4703" class="Symbol">λ</a> <a id="4705" href="StateOfTheArt.ACMM.html#4705" class="Bound">t</a> <a id="4707" class="Symbol">→</a>
               <a id="4724" href="Category.Monad.Indexed.html#533" class="Function">return</a> <a id="4731" href="Function.html#1881" class="Function Operator">$</a> <a id="4733" href="StateOfTheArt.ACMM.html#4687" class="Bound">f</a> <a id="4735" href="Data.String.Base.html#1101" class="Function Operator">++</a> <a id="4738" class="String">&quot;(&quot;</a> <a id="4742" href="Data.String.Base.html#1101" class="Function Operator">++</a> <a id="4745" href="StateOfTheArt.ACMM.html#4705" class="Bound">t</a> <a id="4747" href="Data.String.Base.html#1101" class="Function Operator">++</a> <a id="4750" class="String">&quot;)&quot;</a>
   <a id="4757" class="Symbol">;</a> <a id="4759" class="Field">⟦L⟧</a>    <a id="4766" class="Symbol">=</a>  <a id="4769" class="Symbol">λ</a> <a id="4771" href="StateOfTheArt.ACMM.html#4771" class="Bound">σ</a> <a id="4773" href="StateOfTheArt.ACMM.html#4773" class="Bound">mb</a> <a id="4776" class="Symbol">→</a> <a id="4778" href="StateOfTheArt.ACMM.html#4166" class="InductiveConstructor">MkW</a> <a id="4782" href="Function.html#1881" class="Function Operator">$</a> <a id="4784" href="StateOfTheArt.ACMM.html#4398" class="Function">fresh</a> <a id="4790" href="StateOfTheArt.ACMM.html#4771" class="Bound">σ</a> <a id="4792" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="4796" class="Symbol">λ</a> <a id="4798" href="StateOfTheArt.ACMM.html#4798" class="Bound">x</a> <a id="4800" class="Symbol">→</a>
               <a id="4817" href="StateOfTheArt.ACMM.html#4177" class="Field">getW</a> <a id="4822" class="Symbol">(</a><a id="4823" href="StateOfTheArt.ACMM.html#4773" class="Bound">mb</a> <a id="4826" href="environment.html#2306" class="Function">extend</a> <a id="4833" href="StateOfTheArt.ACMM.html#4798" class="Bound">x</a><a id="4834" class="Symbol">)</a> <a id="4836" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="4840" class="Symbol">λ</a> <a id="4842" href="StateOfTheArt.ACMM.html#4842" class="Bound">b</a> <a id="4844" class="Symbol">→</a>
               <a id="4861" href="Category.Monad.Indexed.html#533" class="Function">return</a> <a id="4868" href="Function.html#1881" class="Function Operator">$</a> <a id="4870" class="String">&quot;λ&quot;</a> <a id="4874" href="Data.String.Base.html#1101" class="Function Operator">++</a> <a id="4877" href="StateOfTheArt.ACMM.html#4177" class="Field">getW</a> <a id="4882" href="StateOfTheArt.ACMM.html#4798" class="Bound">x</a> <a id="4884" href="Data.String.Base.html#1101" class="Function Operator">++</a> <a id="4887" class="String">&quot;.&quot;</a> <a id="4891" href="Data.String.Base.html#1101" class="Function Operator">++</a> <a id="4894" href="StateOfTheArt.ACMM.html#4842" class="Bound">b</a> <a id="4896" class="Symbol">}</a>

<a id="4899" class="Keyword">open</a> <a id="4904" href="StateOfTheArt.ACMM.html#4033" class="Module">Printer</a> <a id="4912" class="Keyword">using</a> <a id="4918" class="Symbol">(</a><a id="4919" href="StateOfTheArt.ACMM.html#4517" class="Function">Printing</a><a id="4927" class="Symbol">)</a>

<a id="print"></a><a id="4930" href="StateOfTheArt.ACMM.html#4930" class="Function">print</a> <a id="4936" class="Symbol">:</a> <a id="4938" class="Symbol">(</a><a id="4939" href="StateOfTheArt.ACMM.html#4939" class="Bound">σ</a> <a id="4941" class="Symbol">:</a> <a id="4943" href="StateOfTheArt.ACMM.html#681" class="Datatype">Type</a><a id="4947" class="Symbol">)</a> <a id="4949" class="Symbol">→</a> <a id="4951" href="StateOfTheArt.ACMM.html#746" class="Datatype">Lam</a> <a id="4955" href="StateOfTheArt.ACMM.html#4939" class="Bound">σ</a> <a id="4957" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="4960" class="Symbol">→</a> <a id="4962" href="Agda.Builtin.String.html#165" class="Postulate">String</a>
<a id="4969" href="StateOfTheArt.ACMM.html#4930" class="Function">print</a> <a id="4975" class="Symbol">_</a> <a id="4977" href="StateOfTheArt.ACMM.html#4977" class="Bound">t</a> <a id="4979" class="Symbol">=</a> <a id="4981" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="4987" href="Function.html#1881" class="Function Operator">$</a> <a id="4989" href="StateOfTheArt.ACMM.html#4177" class="Field">Printer.getW</a> <a id="5002" class="Symbol">(</a><a id="5003" href="StateOfTheArt.ACMM.html#3139" class="Function">sem</a> <a id="5007" href="StateOfTheArt.ACMM.html#4517" class="Function">Printing</a> <a id="5016" class="Symbol">{</a><a id="5017" class="Argument">Δ</a> <a id="5019" class="Symbol">=</a> <a id="5021" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="5023" class="Symbol">}</a> <a id="5025" class="Symbol">(</a><a id="5026" href="environment.html#383" class="InductiveConstructor">pack</a> <a id="5031" class="Symbol">λ</a> <a id="5033" class="Symbol">())</a> <a id="5037" href="StateOfTheArt.ACMM.html#4977" class="Bound">t</a><a id="5038" class="Symbol">)</a> <a id="5040" class="Number">0</a>

<a id="5043" href="StateOfTheArt.ACMM.html#5043" class="Function">_</a> <a id="5045" class="Symbol">:</a> <a id="5047" href="StateOfTheArt.ACMM.html#4930" class="Function">print</a> <a id="5053" class="Symbol">(</a><a id="5054" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a> <a id="5056" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="5058" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a><a id="5059" class="Symbol">)</a> <a id="5061" class="Symbol">(</a><a id="5062" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="5064" class="Symbol">(</a><a id="5065" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="5067" href="var.html#578" class="InductiveConstructor">z</a><a id="5068" class="Symbol">))</a> <a id="5071" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5073" class="String">&quot;λ0.0&quot;</a>
<a id="5080" class="Symbol">_</a> <a id="5082" class="Symbol">=</a> <a id="5084" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="5090" href="StateOfTheArt.ACMM.html#5090" class="Function">_</a> <a id="5092" class="Symbol">:</a> <a id="5094" href="StateOfTheArt.ACMM.html#4930" class="Function">print</a> <a id="5100" class="Symbol">((</a><a id="5102" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a> <a id="5104" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="5106" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a><a id="5107" class="Symbol">)</a> <a id="5109" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="5111" class="Symbol">(</a><a id="5112" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a> <a id="5114" href="StateOfTheArt.ACMM.html#714" class="InductiveConstructor Operator">⇒</a> <a id="5116" href="StateOfTheArt.ACMM.html#700" class="InductiveConstructor">α</a><a id="5117" class="Symbol">))</a> <a id="5120" class="Symbol">(</a><a id="5121" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="5123" class="Symbol">(</a><a id="5124" href="StateOfTheArt.ACMM.html#897" class="InductiveConstructor">L</a> <a id="5126" class="Symbol">(</a><a id="5127" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a> <a id="5129" class="Symbol">(</a><a id="5130" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="5132" class="Symbol">(</a><a id="5133" href="var.html#626" class="InductiveConstructor">s</a> <a id="5135" href="var.html#578" class="InductiveConstructor">z</a><a id="5136" class="Symbol">))</a> <a id="5139" class="Symbol">(</a><a id="5140" href="StateOfTheArt.ACMM.html#835" class="InductiveConstructor">A</a> <a id="5142" class="Symbol">(</a><a id="5143" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="5145" class="Symbol">(</a><a id="5146" href="var.html#626" class="InductiveConstructor">s</a> <a id="5148" href="var.html#578" class="InductiveConstructor">z</a><a id="5149" class="Symbol">))</a> <a id="5152" class="Symbol">(</a><a id="5153" href="StateOfTheArt.ACMM.html#773" class="InductiveConstructor">V</a> <a id="5155" href="var.html#578" class="InductiveConstructor">z</a><a id="5156" class="Symbol">)))))</a> <a id="5162" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5164" class="String">&quot;λ0.λ1.0(0(1))&quot;</a>
<a id="5180" class="Symbol">_</a> <a id="5182" class="Symbol">=</a> <a id="5184" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
</pre></body></html>