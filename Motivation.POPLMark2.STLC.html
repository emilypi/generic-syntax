<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Motivation.POPLMark2.STLC</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="Motivation.POPLMark2.STLC.html" class="Module">Motivation.POPLMark2.STLC</a> <a id="34" class="Keyword">where</a>

<a id="41" class="Keyword">open</a> <a id="46" class="Keyword">import</a> <a id="53" href="indexed.html" class="Module">indexed</a>
<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="var.html" class="Module">var</a> <a id="77" class="Keyword">hiding</a> <a id="84" class="Symbol">(</a><a id="85" href="var.html#895" class="Function Operator">_&lt;$&gt;_</a><a id="90" class="Symbol">)</a>
<a id="92" class="Keyword">open</a> <a id="97" class="Keyword">import</a> <a id="104" href="varlike.html" class="Module">varlike</a>
<a id="112" class="Keyword">open</a> <a id="117" class="Keyword">import</a> <a id="124" href="environment.html" class="Module">environment</a>
<a id="136" class="Keyword">open</a> <a id="141" class="Keyword">import</a> <a id="148" href="pred.html" class="Module">pred</a>
<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="rel.html" class="Module">rel</a>
<a id="169" class="Keyword">open</a> <a id="174" class="Keyword">import</a> <a id="181" href="Generic.Syntax.html" class="Module">Generic.Syntax</a>
<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="Generic.Semantics.html" class="Module">Generic.Semantics</a>
<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="Generic.Semantics.Syntactic.html" class="Module">Generic.Semantics.Syntactic</a>
<a id="266" class="Keyword">open</a> <a id="271" class="Keyword">import</a> <a id="278" href="Generic.Identity.html" class="Module">Generic.Identity</a> <a id="295" class="Keyword">hiding</a> <a id="302" class="Symbol">(</a><a id="303" href="Generic.Identity.html#873" class="InductiveConstructor">`con</a><a id="307" class="Symbol">)</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Generic.Fundamental.html" class="Module">Generic.Fundamental</a> <a id="341" class="Symbol">as</a> <a id="344" class="Module">Fdm</a>
<a id="348" class="Keyword">open</a> <a id="353" class="Keyword">import</a> <a id="360" href="Generic.Simulation.html" class="Module">Generic.Simulation</a>
<a id="379" class="Keyword">import</a> <a id="386" href="Generic.Simulation.Syntactic.html" class="Module">Generic.Simulation.Syntactic</a> <a id="415" class="Symbol">as</a> <a id="418" class="Module">Sim</a>
<a id="422" class="Keyword">open</a> <a id="427" class="Keyword">import</a> <a id="434" href="Generic.Fusion.html" class="Module">Generic.Fusion</a>
<a id="449" class="Keyword">open</a> <a id="454" class="Keyword">import</a> <a id="461" href="Generic.Fusion.Syntactic.html" class="Module">Generic.Fusion.Syntactic</a>

<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="Size.html" class="Module">Size</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="525" class="Symbol">as</a> <a id="528" class="Module">Sum</a>
<a id="532" class="Keyword">open</a> <a id="537" class="Keyword">import</a> <a id="544" href="Data.Product.html" class="Module">Data.Product</a> <a id="557" class="Symbol">as</a> <a id="560" class="Module">Prod</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Agda.Builtin.List.html" class="Module">Agda.Builtin.List</a>
<a id="595" class="Keyword">open</a> <a id="600" class="Keyword">import</a> <a id="607" href="Data.Product.html" class="Module">Data.Product</a> <a id="620" class="Keyword">hiding</a> <a id="627" class="Symbol">(</a><a id="628" href="Data.Product.html#1900" class="Function Operator">,_</a><a id="630" class="Symbol">)</a>
<a id="632" class="Keyword">open</a> <a id="637" class="Keyword">import</a> <a id="644" href="Data.Star.html" class="Module">Data.Star</a> <a id="654" class="Symbol">as</a> <a id="657" class="Module">S</a> <a id="659" class="Keyword">using</a> <a id="665" class="Symbol">(</a><a id="666" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a><a id="670" class="Symbol">)</a>
<a id="672" class="Keyword">open</a> <a id="677" class="Keyword">import</a> <a id="684" href="Function.html" class="Module">Function</a> <a id="693" class="Keyword">hiding</a> <a id="700" class="Symbol">(</a><a id="701" href="Function.html#3051" class="Function Operator">_∋_</a><a id="704" class="Symbol">)</a>
<a id="706" class="Keyword">open</a> <a id="711" class="Keyword">import</a> <a id="718" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="756" class="Keyword">hiding</a> <a id="763" class="Symbol">(</a><a id="764" href="Relation.Binary.PropositionalEquality.html#3279" class="InductiveConstructor Operator">[_]</a><a id="767" class="Symbol">);</a> <a id="770" class="Keyword">open</a> <a id="775" href="Relation.Binary.PropositionalEquality.html#3861" class="Module">≡-Reasoning</a>

<a id="788" class="Comment">-- Section 1 Simply-Typed Lambda Calculus with Type-directed Reduction</a>

<a id="860" class="Comment">-- Definition of the language. We define an enumeration `TermC` as the</a>
<a id="931" class="Comment">-- type of constructor instead of using Booleans. This allows us to have</a>
<a id="1004" class="Comment">-- a clearer definition as well as storing the needed type arguments in</a>
<a id="1076" class="Comment">-- the constructor itself rather than having to use multiple extra `σ</a>
<a id="1146" class="Comment">-- constructors in the Desc.</a>

<a id="1176" class="Keyword">data</a> <a id="Type"></a><a id="1181" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a> <a id="1186" class="Symbol">:</a> <a id="1188" class="PrimitiveType">Set</a> <a id="1192" class="Keyword">where</a>
  <a id="Type.α"></a><a id="1200" href="Motivation.POPLMark2.STLC.html#1200" class="InductiveConstructor">α</a>    <a id="1205" class="Symbol">:</a> <a id="1207" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a>
  <a id="Type._⇒_"></a><a id="1214" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">_⇒_</a>  <a id="1219" class="Symbol">:</a> <a id="1221" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a> <a id="1226" class="Symbol">→</a> <a id="1228" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a> <a id="1233" class="Symbol">→</a> <a id="1235" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a>

<a id="1241" class="Keyword">data</a> <a id="TermC"></a><a id="1246" href="Motivation.POPLMark2.STLC.html#1246" class="Datatype">TermC</a> <a id="1252" class="Symbol">:</a> <a id="1254" class="PrimitiveType">Set</a> <a id="1258" class="Keyword">where</a>
  <a id="TermC.Lam"></a><a id="1266" href="Motivation.POPLMark2.STLC.html#1266" class="InductiveConstructor">Lam</a>  <a id="1271" class="Symbol">:</a> <a id="1273" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a> <a id="1278" class="Symbol">→</a> <a id="1280" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a> <a id="1285" class="Symbol">→</a> <a id="1287" href="Motivation.POPLMark2.STLC.html#1246" class="Datatype">TermC</a>
  <a id="TermC.App"></a><a id="1295" href="Motivation.POPLMark2.STLC.html#1295" class="InductiveConstructor">App</a>  <a id="1300" class="Symbol">:</a> <a id="1302" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a> <a id="1307" class="Symbol">→</a> <a id="1309" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a> <a id="1314" class="Symbol">→</a> <a id="1316" href="Motivation.POPLMark2.STLC.html#1246" class="Datatype">TermC</a>

<a id="TermD"></a><a id="1323" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="1329" class="Symbol">:</a> <a id="1331" href="Generic.Syntax.html#390" class="Datatype">Desc</a> <a id="1336" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a>
<a id="1341" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="1347" class="Symbol">=</a>  <a id="1350" href="Generic.Syntax.html#420" class="InductiveConstructor">`σ</a> <a id="1353" href="Motivation.POPLMark2.STLC.html#1246" class="Datatype">TermC</a> <a id="1359" class="Symbol">λ</a> <a id="1361" class="Keyword">where</a>
  <a id="1369" class="Symbol">(</a><a id="1370" href="Motivation.POPLMark2.STLC.html#1266" class="InductiveConstructor">Lam</a> <a id="1374" href="Motivation.POPLMark2.STLC.html#1374" class="Bound">σ</a> <a id="1376" href="Motivation.POPLMark2.STLC.html#1376" class="Bound">τ</a><a id="1377" class="Symbol">)</a> <a id="1379" class="Symbol">→</a> <a id="1381" href="Generic.Syntax.html#462" class="InductiveConstructor">`X</a> <a id="1384" class="Symbol">(</a><a id="1385" href="Motivation.POPLMark2.STLC.html#1374" class="Bound">σ</a> <a id="1387" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="1389" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="1391" class="Symbol">)</a> <a id="1393" href="Motivation.POPLMark2.STLC.html#1376" class="Bound">τ</a> <a id="1395" class="Symbol">(</a><a id="1396" href="Generic.Syntax.html#504" class="InductiveConstructor">`∎</a> <a id="1399" class="Symbol">(</a><a id="1400" href="Motivation.POPLMark2.STLC.html#1374" class="Bound">σ</a> <a id="1402" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="1404" href="Motivation.POPLMark2.STLC.html#1376" class="Bound">τ</a><a id="1405" class="Symbol">))</a>
  <a id="1410" class="Symbol">(</a><a id="1411" href="Motivation.POPLMark2.STLC.html#1295" class="InductiveConstructor">App</a> <a id="1415" href="Motivation.POPLMark2.STLC.html#1415" class="Bound">σ</a> <a id="1417" href="Motivation.POPLMark2.STLC.html#1417" class="Bound">τ</a><a id="1418" class="Symbol">)</a> <a id="1420" class="Symbol">→</a> <a id="1422" href="Generic.Syntax.html#462" class="InductiveConstructor">`X</a> <a id="1425" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="1428" class="Symbol">(</a><a id="1429" href="Motivation.POPLMark2.STLC.html#1415" class="Bound">σ</a> <a id="1431" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="1433" href="Motivation.POPLMark2.STLC.html#1417" class="Bound">τ</a><a id="1434" class="Symbol">)</a> <a id="1436" class="Symbol">(</a><a id="1437" href="Generic.Syntax.html#462" class="InductiveConstructor">`X</a> <a id="1440" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="1443" href="Motivation.POPLMark2.STLC.html#1415" class="Bound">σ</a> <a id="1445" class="Symbol">(</a><a id="1446" href="Generic.Syntax.html#504" class="InductiveConstructor">`∎</a> <a id="1449" href="Motivation.POPLMark2.STLC.html#1417" class="Bound">τ</a><a id="1450" class="Symbol">))</a>

<a id="Term"></a><a id="1454" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="1459" class="Symbol">:</a> <a id="1461" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a> <a id="1466" href="var.html#469" class="Function Operator">─Scoped</a>
<a id="1474" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="1479" class="Symbol">=</a> <a id="1481" href="Generic.Syntax.html#1072" class="Datatype">Tm</a> <a id="1484" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="1490" class="Symbol">_</a>

<a id="1493" class="Comment">-- We provide handy patterns and DISPLAY rules to hide the encoding</a>
<a id="1561" class="Comment">-- our generic-syntax library uses. Unfortunately pattern-synonyms</a>
<a id="1628" class="Comment">-- can&#39;t yet be typed in Agda.</a>

<a id="1660" class="Keyword">infixl</a> <a id="1667" class="Number">10</a> <a id="1670" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙_</a>
<a id="1675" class="Keyword">pattern</a> <a id="`λ&#39;"></a><a id="1683" href="Motivation.POPLMark2.STLC.html#1683" class="InductiveConstructor">`λ&#39;</a> <a id="1687" href="Motivation.POPLMark2.STLC.html#1706" class="Bound">b</a>     <a id="1693" class="Symbol">=</a> <a id="1695" class="Symbol">(</a><a id="1696" href="Motivation.POPLMark2.STLC.html#1266" class="InductiveConstructor">Lam</a> <a id="1700" class="Symbol">_</a> <a id="1702" class="Symbol">_</a> <a id="1704" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1706" href="Motivation.POPLMark2.STLC.html#1706" class="Bound">b</a> <a id="1708" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1710" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="1714" class="Symbol">)</a>
<a id="1716" class="Keyword">pattern</a> <a id="_`∙&#39;_"></a><a id="1724" href="Motivation.POPLMark2.STLC.html#1724" class="InductiveConstructor Operator">_`∙&#39;_</a> <a id="1730" href="Motivation.POPLMark2.STLC.html#1747" class="Bound">f</a> <a id="1732" href="Motivation.POPLMark2.STLC.html#1751" class="Bound">t</a> <a id="1734" class="Symbol">=</a> <a id="1736" class="Symbol">(</a><a id="1737" href="Motivation.POPLMark2.STLC.html#1295" class="InductiveConstructor">App</a> <a id="1741" class="Symbol">_</a> <a id="1743" class="Symbol">_</a> <a id="1745" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1747" href="Motivation.POPLMark2.STLC.html#1747" class="Bound">f</a> <a id="1749" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1751" href="Motivation.POPLMark2.STLC.html#1751" class="Bound">t</a> <a id="1753" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1755" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="1759" class="Symbol">)</a>
<a id="1761" class="Keyword">pattern</a> <a id="`λ"></a><a id="1769" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a>  <a id="1773" href="Motivation.POPLMark2.STLC.html#1791" class="Bound">b</a>     <a id="1779" class="Symbol">=</a> <a id="1781" href="Generic.Syntax.html#1201" class="InductiveConstructor">`con</a> <a id="1786" class="Symbol">(</a><a id="1787" href="Motivation.POPLMark2.STLC.html#1683" class="InductiveConstructor">`λ&#39;</a> <a id="1791" href="Motivation.POPLMark2.STLC.html#1791" class="Bound">b</a><a id="1792" class="Symbol">)</a>
<a id="1794" class="Keyword">pattern</a> <a id="_`∙_"></a><a id="1802" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙_</a> <a id="1807" href="Motivation.POPLMark2.STLC.html#1820" class="Bound">f</a> <a id="1809" href="Motivation.POPLMark2.STLC.html#1826" class="Bound">t</a>  <a id="1812" class="Symbol">=</a> <a id="1814" href="Generic.Syntax.html#1201" class="InductiveConstructor">`con</a> <a id="1819" class="Symbol">(</a><a id="1820" href="Motivation.POPLMark2.STLC.html#1820" class="Bound">f</a> <a id="1822" href="Motivation.POPLMark2.STLC.html#1724" class="InductiveConstructor Operator">`∙&#39;</a> <a id="1826" href="Motivation.POPLMark2.STLC.html#1826" class="Bound">t</a><a id="1827" class="Symbol">)</a>

<a id="1830" class="Symbol">{-#</a> <a id="1834" class="Keyword">DISPLAY</a> <a id="1842" href="Generic.Syntax.html#1201" class="InductiveConstructor">`con</a> (<a id="1848" href="Motivation.POPLMark2.STLC.html#1266" class="InductiveConstructor">Lam</a> _ _ <a id="1856" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1858" href="Motivation.POPLMark2.STLC.html#1858" class="Bound">b</a> <a id="1860" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1862" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>)   <a id="1870" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">  </a>=<a id="1873" href="Motivation.POPLMark2.STLC.html#1858" class="Bound"> </a>`λ b   <a id="1881" class="Symbol">#-}</a>
<a id="1885" class="Symbol">{-#</a> <a id="1889" class="Keyword">DISPLAY</a> <a id="1897" href="Generic.Syntax.html#1201" class="InductiveConstructor">`con</a> (<a id="1903" href="Motivation.POPLMark2.STLC.html#1295" class="InductiveConstructor">App</a> _ _ <a id="1911" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1913" href="Motivation.POPLMark2.STLC.html#1913" class="Bound">f</a> <a id="1915" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1917" href="Motivation.POPLMark2.STLC.html#1917" class="Bound">t</a> <a id="1919" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1921" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>) = <a id="1929" href="Motivation.POPLMark2.STLC.html#1913" class="Bound">f</a> <a id="1931" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="1934" href="Motivation.POPLMark2.STLC.html#1917" class="Bound">t</a> <a id="1936" class="Symbol">#-}</a>

<a id="1941" class="Comment">-- The Typed Reduction relation can be defined in the usual fashion</a>
<a id="2009" class="Comment">-- thanks to the pattern synonyms introduced above. Its reflexive</a>
<a id="2075" class="Comment">-- transitive closure is obtained by instantiating the standard</a>
<a id="2139" class="Comment">-- library&#39;s Star.</a>

<a id="2159" class="Keyword">infix</a> <a id="2165" class="Number">3</a> <a id="2167" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">_⊢_∋_↝_</a> <a id="2175" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">_⊢_∋_↝⋆_</a>
<a id="2184" class="Keyword">data</a> <a id="_⊢_∋_↝_"></a><a id="2189" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">_⊢_∋_↝_</a> <a id="2197" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a> <a id="2199" class="Symbol">:</a> <a id="2201" class="Symbol">∀</a> <a id="2203" href="Motivation.POPLMark2.STLC.html#2203" class="Bound">τ</a> <a id="2205" class="Symbol">→</a> <a id="2207" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="2212" href="Motivation.POPLMark2.STLC.html#2203" class="Bound">τ</a> <a id="2214" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a> <a id="2216" class="Symbol">→</a> <a id="2218" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="2223" href="Motivation.POPLMark2.STLC.html#2203" class="Bound">τ</a> <a id="2225" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a> <a id="2227" class="Symbol">→</a> <a id="2229" class="PrimitiveType">Set</a> <a id="2233" class="Keyword">where</a>
<a id="2239" class="Comment">-- computational</a>
  <a id="_⊢_∋_↝_.β"></a><a id="2258" href="Motivation.POPLMark2.STLC.html#2258" class="InductiveConstructor">β</a>    <a id="2263" class="Symbol">:</a> <a id="2265" class="Symbol">∀</a> <a id="2267" class="Symbol">{</a><a id="2268" href="Motivation.POPLMark2.STLC.html#2268" class="Bound">σ</a> <a id="2270" href="Motivation.POPLMark2.STLC.html#2270" class="Bound">τ</a><a id="2271" class="Symbol">}</a> <a id="2273" href="Motivation.POPLMark2.STLC.html#2273" class="Bound">t</a> <a id="2275" class="Symbol">(</a><a id="2276" href="Motivation.POPLMark2.STLC.html#2276" class="Bound">u</a> <a id="2278" class="Symbol">:</a> <a id="2280" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="2285" href="Motivation.POPLMark2.STLC.html#2268" class="Bound">σ</a> <a id="2287" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a><a id="2288" class="Symbol">)</a> <a id="2290" class="Symbol">→</a> <a id="2292" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a> <a id="2294" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2296" href="Motivation.POPLMark2.STLC.html#2270" class="Bound">τ</a> <a id="2298" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="2300" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="2303" href="Motivation.POPLMark2.STLC.html#2273" class="Bound">t</a> <a id="2305" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="2308" href="Motivation.POPLMark2.STLC.html#2276" class="Bound">u</a> <a id="2310" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="2312" href="Motivation.POPLMark2.STLC.html#2273" class="Bound">t</a> <a id="2314" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="2316" href="Motivation.POPLMark2.STLC.html#2276" class="Bound">u</a> <a id="2318" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a>
<a id="2322" class="Comment">-- structural</a>
  <a id="_⊢_∋_↝_.[λ]"></a><a id="2338" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a>  <a id="2343" class="Symbol">:</a> <a id="2345" class="Symbol">∀</a> <a id="2347" class="Symbol">{</a><a id="2348" href="Motivation.POPLMark2.STLC.html#2348" class="Bound">σ</a> <a id="2350" href="Motivation.POPLMark2.STLC.html#2350" class="Bound">τ</a> <a id="2352" href="Motivation.POPLMark2.STLC.html#2352" class="Bound">t</a> <a id="2354" href="Motivation.POPLMark2.STLC.html#2354" class="Bound">u</a><a id="2355" class="Symbol">}</a> <a id="2357" class="Symbol">→</a> <a id="2359" class="Symbol">(</a><a id="2360" href="Motivation.POPLMark2.STLC.html#2348" class="Bound">σ</a> <a id="2362" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2364" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a><a id="2365" class="Symbol">)</a> <a id="2367" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2369" href="Motivation.POPLMark2.STLC.html#2350" class="Bound">τ</a> <a id="2371" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="2373" href="Motivation.POPLMark2.STLC.html#2352" class="Bound">t</a> <a id="2375" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="2377" href="Motivation.POPLMark2.STLC.html#2354" class="Bound">u</a> <a id="2379" class="Symbol">→</a> <a id="2381" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a> <a id="2383" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2385" href="Motivation.POPLMark2.STLC.html#2348" class="Bound">σ</a> <a id="2387" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="2389" href="Motivation.POPLMark2.STLC.html#2350" class="Bound">τ</a> <a id="2391" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="2393" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="2396" href="Motivation.POPLMark2.STLC.html#2352" class="Bound">t</a> <a id="2398" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="2400" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="2403" href="Motivation.POPLMark2.STLC.html#2354" class="Bound">u</a>
  <a id="_⊢_∋_↝_.[∙]₁"></a><a id="2407" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="2412" class="Symbol">:</a> <a id="2414" class="Symbol">∀</a> <a id="2416" class="Symbol">{</a><a id="2417" href="Motivation.POPLMark2.STLC.html#2417" class="Bound">σ</a> <a id="2419" href="Motivation.POPLMark2.STLC.html#2419" class="Bound">τ</a> <a id="2421" href="Motivation.POPLMark2.STLC.html#2421" class="Bound">t</a> <a id="2423" href="Motivation.POPLMark2.STLC.html#2423" class="Bound">u</a><a id="2424" class="Symbol">}</a> <a id="2426" href="Motivation.POPLMark2.STLC.html#2426" class="Bound">f</a> <a id="2428" class="Symbol">→</a> <a id="2430" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a> <a id="2432" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2434" href="Motivation.POPLMark2.STLC.html#2417" class="Bound">σ</a> <a id="2436" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="2438" href="Motivation.POPLMark2.STLC.html#2421" class="Bound">t</a> <a id="2440" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="2442" href="Motivation.POPLMark2.STLC.html#2423" class="Bound">u</a> <a id="2444" class="Symbol">→</a> <a id="2446" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a> <a id="2448" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2450" href="Motivation.POPLMark2.STLC.html#2419" class="Bound">τ</a> <a id="2452" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="2454" href="Motivation.POPLMark2.STLC.html#2426" class="Bound">f</a> <a id="2456" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="2459" href="Motivation.POPLMark2.STLC.html#2421" class="Bound">t</a> <a id="2461" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="2463" href="Motivation.POPLMark2.STLC.html#2426" class="Bound">f</a> <a id="2465" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="2468" href="Motivation.POPLMark2.STLC.html#2423" class="Bound">u</a>
  <a id="_⊢_∋_↝_.[∙]₂"></a><a id="2472" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="2477" class="Symbol">:</a> <a id="2479" class="Symbol">∀</a> <a id="2481" class="Symbol">{</a><a id="2482" href="Motivation.POPLMark2.STLC.html#2482" class="Bound">σ</a> <a id="2484" href="Motivation.POPLMark2.STLC.html#2484" class="Bound">τ</a> <a id="2486" href="Motivation.POPLMark2.STLC.html#2486" class="Bound">f</a> <a id="2488" href="Motivation.POPLMark2.STLC.html#2488" class="Bound">g</a><a id="2489" class="Symbol">}</a> <a id="2491" class="Symbol">→</a> <a id="2493" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a> <a id="2495" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2497" href="Motivation.POPLMark2.STLC.html#2482" class="Bound">σ</a> <a id="2499" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="2501" href="Motivation.POPLMark2.STLC.html#2484" class="Bound">τ</a> <a id="2503" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="2505" href="Motivation.POPLMark2.STLC.html#2486" class="Bound">f</a> <a id="2507" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="2509" href="Motivation.POPLMark2.STLC.html#2488" class="Bound">g</a> <a id="2511" class="Symbol">→</a> <a id="2513" class="Symbol">∀</a> <a id="2515" href="Motivation.POPLMark2.STLC.html#2515" class="Bound">t</a> <a id="2517" class="Symbol">→</a> <a id="2519" href="Motivation.POPLMark2.STLC.html#2197" class="Bound">Γ</a> <a id="2521" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2523" href="Motivation.POPLMark2.STLC.html#2484" class="Bound">τ</a> <a id="2525" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="2527" href="Motivation.POPLMark2.STLC.html#2486" class="Bound">f</a> <a id="2529" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="2532" href="Motivation.POPLMark2.STLC.html#2515" class="Bound">t</a> <a id="2534" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="2536" href="Motivation.POPLMark2.STLC.html#2488" class="Bound">g</a> <a id="2538" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="2541" href="Motivation.POPLMark2.STLC.html#2515" class="Bound">t</a>

<a id="_⊢_∋_↝⋆_"></a><a id="2544" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">_⊢_∋_↝⋆_</a> <a id="2553" class="Symbol">:</a> <a id="2555" class="Symbol">∀</a> <a id="2557" href="Motivation.POPLMark2.STLC.html#2557" class="Bound">Γ</a> <a id="2559" href="Motivation.POPLMark2.STLC.html#2559" class="Bound">σ</a> <a id="2561" class="Symbol">→</a> <a id="2563" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="2568" href="Motivation.POPLMark2.STLC.html#2559" class="Bound">σ</a> <a id="2570" href="Motivation.POPLMark2.STLC.html#2557" class="Bound">Γ</a> <a id="2572" class="Symbol">→</a> <a id="2574" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="2579" href="Motivation.POPLMark2.STLC.html#2559" class="Bound">σ</a> <a id="2581" href="Motivation.POPLMark2.STLC.html#2557" class="Bound">Γ</a> <a id="2583" class="Symbol">→</a> <a id="2585" class="PrimitiveType">Set</a>
<a id="2589" href="Motivation.POPLMark2.STLC.html#2589" class="Bound">Γ</a> <a id="2591" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="2593" href="Motivation.POPLMark2.STLC.html#2593" class="Bound">σ</a> <a id="2595" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋</a> <a id="2597" href="Motivation.POPLMark2.STLC.html#2597" class="Bound">t</a> <a id="2599" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">↝⋆</a> <a id="2602" href="Motivation.POPLMark2.STLC.html#2602" class="Bound">u</a> <a id="2604" class="Symbol">=</a> <a id="2606" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="2611" class="Symbol">(</a><a id="2612" href="Motivation.POPLMark2.STLC.html#2589" class="Bound">Γ</a> <a id="2614" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2616" href="Motivation.POPLMark2.STLC.html#2593" class="Bound">σ</a> <a id="2618" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋_↝_</a><a id="2622" class="Symbol">)</a> <a id="2624" href="Motivation.POPLMark2.STLC.html#2597" class="Bound">t</a> <a id="2626" href="Motivation.POPLMark2.STLC.html#2602" class="Bound">u</a>

<a id="2629" class="Comment">-- Lemma 1.2</a>
<a id="2642" class="Comment">-- Stability of Reduction under thinning and substitution</a>
<a id="2700" class="Comment">-- (Stability of Typing is a consequence of Term being a typed syntax)</a>

<a id="th^↝"></a><a id="2772" href="Motivation.POPLMark2.STLC.html#2772" class="Function">th^↝</a> <a id="2777" class="Symbol">:</a> <a id="2779" class="Symbol">∀</a> <a id="2781" class="Symbol">{</a><a id="2782" href="Motivation.POPLMark2.STLC.html#2782" class="Bound">σ</a> <a id="2784" href="Motivation.POPLMark2.STLC.html#2784" class="Bound">Γ</a> <a id="2786" href="Motivation.POPLMark2.STLC.html#2786" class="Bound">Δ</a> <a id="2788" href="Motivation.POPLMark2.STLC.html#2788" class="Bound">t</a> <a id="2790" href="Motivation.POPLMark2.STLC.html#2790" class="Bound">u</a><a id="2791" class="Symbol">}</a> <a id="2793" href="Motivation.POPLMark2.STLC.html#2793" class="Bound">ρ</a> <a id="2795" class="Symbol">→</a> <a id="2797" href="Motivation.POPLMark2.STLC.html#2784" class="Bound">Γ</a> <a id="2799" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2801" href="Motivation.POPLMark2.STLC.html#2782" class="Bound">σ</a> <a id="2803" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="2805" href="Motivation.POPLMark2.STLC.html#2788" class="Bound">t</a> <a id="2807" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="2809" href="Motivation.POPLMark2.STLC.html#2790" class="Bound">u</a> <a id="2811" class="Symbol">→</a> <a id="2813" href="Motivation.POPLMark2.STLC.html#2786" class="Bound">Δ</a> <a id="2815" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2817" href="Motivation.POPLMark2.STLC.html#2782" class="Bound">σ</a> <a id="2819" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="2821" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="2825" href="Motivation.POPLMark2.STLC.html#2793" class="Bound">ρ</a> <a id="2827" href="Motivation.POPLMark2.STLC.html#2788" class="Bound">t</a> <a id="2829" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="2831" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="2835" href="Motivation.POPLMark2.STLC.html#2793" class="Bound">ρ</a> <a id="2837" href="Motivation.POPLMark2.STLC.html#2790" class="Bound">u</a>
<a id="2839" href="Motivation.POPLMark2.STLC.html#2772" class="Function">th^↝</a> <a id="2844" href="Motivation.POPLMark2.STLC.html#2844" class="Bound">ρ</a> <a id="2846" class="Symbol">(</a><a id="2847" href="Motivation.POPLMark2.STLC.html#2258" class="InductiveConstructor">β</a> <a id="2849" href="Motivation.POPLMark2.STLC.html#2849" class="Bound">t</a> <a id="2851" href="Motivation.POPLMark2.STLC.html#2851" class="Bound">u</a><a id="2852" class="Symbol">)</a>    <a id="2857" class="Symbol">=</a> <a id="2859" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="2865" class="Symbol">(_</a> <a id="2868" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="2870" class="Symbol">_</a> <a id="2872" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="2874" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="2878" href="Motivation.POPLMark2.STLC.html#2844" class="Bound">ρ</a> <a id="2880" class="Symbol">(</a><a id="2881" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="2884" href="Motivation.POPLMark2.STLC.html#2849" class="Bound">t</a> <a id="2886" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="2889" href="Motivation.POPLMark2.STLC.html#2851" class="Bound">u</a><a id="2890" class="Symbol">)</a> <a id="2892" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝_</a><a id="2894" class="Symbol">)</a> <a id="2896" class="Symbol">(</a><a id="2897" href="Generic.Fusion.Syntactic.html#5467" class="Function">renβ</a> <a id="2902" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="2908" href="Motivation.POPLMark2.STLC.html#2849" class="Bound">t</a> <a id="2910" class="Symbol">(</a><a id="2911" href="environment.html#515" class="Function">ε</a> <a id="2913" href="environment.html#2070" class="Function Operator">∙</a> <a id="2915" href="Motivation.POPLMark2.STLC.html#2851" class="Bound">u</a><a id="2916" class="Symbol">)</a> <a id="2918" href="Motivation.POPLMark2.STLC.html#2844" class="Bound">ρ</a><a id="2919" class="Symbol">)</a> <a id="2921" class="Symbol">(</a><a id="2922" href="Motivation.POPLMark2.STLC.html#2258" class="InductiveConstructor">β</a> <a id="2924" class="Symbol">_</a> <a id="2926" class="Symbol">_)</a>
<a id="2929" href="Motivation.POPLMark2.STLC.html#2772" class="Function">th^↝</a> <a id="2934" href="Motivation.POPLMark2.STLC.html#2934" class="Bound">ρ</a> <a id="2936" class="Symbol">(</a><a id="2937" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a> <a id="2941" href="Motivation.POPLMark2.STLC.html#2941" class="Bound">r</a><a id="2942" class="Symbol">)</a>    <a id="2947" class="Symbol">=</a> <a id="2949" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a> <a id="2953" class="Symbol">(</a><a id="2954" href="Motivation.POPLMark2.STLC.html#2772" class="Function">th^↝</a> <a id="2959" class="Symbol">_</a> <a id="2961" href="Motivation.POPLMark2.STLC.html#2941" class="Bound">r</a><a id="2962" class="Symbol">)</a>
<a id="2964" href="Motivation.POPLMark2.STLC.html#2772" class="Function">th^↝</a> <a id="2969" href="Motivation.POPLMark2.STLC.html#2969" class="Bound">ρ</a> <a id="2971" class="Symbol">(</a><a id="2972" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="2977" href="Motivation.POPLMark2.STLC.html#2977" class="Bound">f</a> <a id="2979" href="Motivation.POPLMark2.STLC.html#2979" class="Bound">r</a><a id="2980" class="Symbol">)</a> <a id="2982" class="Symbol">=</a> <a id="2984" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="2989" class="Symbol">(</a><a id="2990" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="2994" href="Motivation.POPLMark2.STLC.html#2969" class="Bound">ρ</a> <a id="2996" href="Motivation.POPLMark2.STLC.html#2977" class="Bound">f</a><a id="2997" class="Symbol">)</a> <a id="2999" class="Symbol">(</a><a id="3000" href="Motivation.POPLMark2.STLC.html#2772" class="Function">th^↝</a> <a id="3005" href="Motivation.POPLMark2.STLC.html#2969" class="Bound">ρ</a> <a id="3007" href="Motivation.POPLMark2.STLC.html#2979" class="Bound">r</a><a id="3008" class="Symbol">)</a>
<a id="3010" href="Motivation.POPLMark2.STLC.html#2772" class="Function">th^↝</a> <a id="3015" href="Motivation.POPLMark2.STLC.html#3015" class="Bound">ρ</a> <a id="3017" class="Symbol">(</a><a id="3018" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="3023" href="Motivation.POPLMark2.STLC.html#3023" class="Bound">r</a> <a id="3025" href="Motivation.POPLMark2.STLC.html#3025" class="Bound">t</a><a id="3026" class="Symbol">)</a> <a id="3028" class="Symbol">=</a> <a id="3030" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="3035" class="Symbol">(</a><a id="3036" href="Motivation.POPLMark2.STLC.html#2772" class="Function">th^↝</a> <a id="3041" href="Motivation.POPLMark2.STLC.html#3015" class="Bound">ρ</a> <a id="3043" href="Motivation.POPLMark2.STLC.html#3023" class="Bound">r</a><a id="3044" class="Symbol">)</a> <a id="3046" class="Symbol">(</a><a id="3047" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="3051" href="Motivation.POPLMark2.STLC.html#3015" class="Bound">ρ</a> <a id="3053" href="Motivation.POPLMark2.STLC.html#3025" class="Bound">t</a><a id="3054" class="Symbol">)</a>

<a id="3057" class="Comment">-- Lemma 1.3</a>
<a id="sub^↝"></a><a id="3070" href="Motivation.POPLMark2.STLC.html#3070" class="Function">sub^↝</a> <a id="3076" class="Symbol">:</a> <a id="3078" class="Symbol">∀</a> <a id="3080" class="Symbol">{</a><a id="3081" href="Motivation.POPLMark2.STLC.html#3081" class="Bound">σ</a> <a id="3083" href="Motivation.POPLMark2.STLC.html#3083" class="Bound">Γ</a> <a id="3085" href="Motivation.POPLMark2.STLC.html#3085" class="Bound">Δ</a> <a id="3087" href="Motivation.POPLMark2.STLC.html#3087" class="Bound">t</a> <a id="3089" href="Motivation.POPLMark2.STLC.html#3089" class="Bound">u</a><a id="3090" class="Symbol">}</a> <a id="3092" href="Motivation.POPLMark2.STLC.html#3092" class="Bound">ρ</a> <a id="3094" class="Symbol">→</a> <a id="3096" href="Motivation.POPLMark2.STLC.html#3083" class="Bound">Γ</a> <a id="3098" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="3100" href="Motivation.POPLMark2.STLC.html#3081" class="Bound">σ</a> <a id="3102" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="3104" href="Motivation.POPLMark2.STLC.html#3087" class="Bound">t</a> <a id="3106" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="3108" href="Motivation.POPLMark2.STLC.html#3089" class="Bound">u</a> <a id="3110" class="Symbol">→</a> <a id="3112" href="Motivation.POPLMark2.STLC.html#3085" class="Bound">Δ</a> <a id="3114" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="3116" href="Motivation.POPLMark2.STLC.html#3081" class="Bound">σ</a> <a id="3118" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="3120" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="3124" href="Motivation.POPLMark2.STLC.html#3092" class="Bound">ρ</a> <a id="3126" href="Motivation.POPLMark2.STLC.html#3087" class="Bound">t</a> <a id="3128" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="3130" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="3134" href="Motivation.POPLMark2.STLC.html#3092" class="Bound">ρ</a> <a id="3136" href="Motivation.POPLMark2.STLC.html#3089" class="Bound">u</a>
<a id="3138" href="Motivation.POPLMark2.STLC.html#3070" class="Function">sub^↝</a> <a id="3144" href="Motivation.POPLMark2.STLC.html#3144" class="Bound">ρ</a> <a id="3146" class="Symbol">(</a><a id="3147" href="Motivation.POPLMark2.STLC.html#2258" class="InductiveConstructor">β</a> <a id="3149" href="Motivation.POPLMark2.STLC.html#3149" class="Bound">t</a> <a id="3151" href="Motivation.POPLMark2.STLC.html#3151" class="Bound">u</a><a id="3152" class="Symbol">)</a>    <a id="3157" class="Symbol">=</a> <a id="3159" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="3165" class="Symbol">(_</a> <a id="3168" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="3170" class="Symbol">_</a> <a id="3172" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="3174" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="3178" href="Motivation.POPLMark2.STLC.html#3144" class="Bound">ρ</a> <a id="3180" class="Symbol">(</a><a id="3181" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="3184" href="Motivation.POPLMark2.STLC.html#3149" class="Bound">t</a> <a id="3186" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="3189" href="Motivation.POPLMark2.STLC.html#3151" class="Bound">u</a><a id="3190" class="Symbol">)</a> <a id="3192" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝_</a><a id="3194" class="Symbol">)</a> <a id="3196" class="Symbol">(</a><a id="3197" href="Generic.Fusion.Syntactic.html#7407" class="Function">subβ</a> <a id="3202" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="3208" href="Motivation.POPLMark2.STLC.html#3149" class="Bound">t</a> <a id="3210" class="Symbol">(</a><a id="3211" href="environment.html#515" class="Function">ε</a> <a id="3213" href="environment.html#2070" class="Function Operator">∙</a> <a id="3215" href="Motivation.POPLMark2.STLC.html#3151" class="Bound">u</a><a id="3216" class="Symbol">)</a> <a id="3218" href="Motivation.POPLMark2.STLC.html#3144" class="Bound">ρ</a><a id="3219" class="Symbol">)</a> <a id="3221" class="Symbol">(</a><a id="3222" href="Motivation.POPLMark2.STLC.html#2258" class="InductiveConstructor">β</a> <a id="3224" class="Symbol">_</a> <a id="3226" class="Symbol">_)</a>
<a id="3229" href="Motivation.POPLMark2.STLC.html#3070" class="Function">sub^↝</a> <a id="3235" href="Motivation.POPLMark2.STLC.html#3235" class="Bound">ρ</a> <a id="3237" class="Symbol">(</a><a id="3238" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a> <a id="3242" href="Motivation.POPLMark2.STLC.html#3242" class="Bound">r</a><a id="3243" class="Symbol">)</a>    <a id="3248" class="Symbol">=</a> <a id="3250" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a> <a id="3254" class="Symbol">(</a><a id="3255" href="Motivation.POPLMark2.STLC.html#3070" class="Function">sub^↝</a> <a id="3261" class="Symbol">_</a> <a id="3263" href="Motivation.POPLMark2.STLC.html#3242" class="Bound">r</a><a id="3264" class="Symbol">)</a>
<a id="3266" href="Motivation.POPLMark2.STLC.html#3070" class="Function">sub^↝</a> <a id="3272" href="Motivation.POPLMark2.STLC.html#3272" class="Bound">ρ</a> <a id="3274" class="Symbol">(</a><a id="3275" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="3280" href="Motivation.POPLMark2.STLC.html#3280" class="Bound">f</a> <a id="3282" href="Motivation.POPLMark2.STLC.html#3282" class="Bound">r</a><a id="3283" class="Symbol">)</a> <a id="3285" class="Symbol">=</a> <a id="3287" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="3292" class="Symbol">(</a><a id="3293" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="3297" href="Motivation.POPLMark2.STLC.html#3272" class="Bound">ρ</a> <a id="3299" href="Motivation.POPLMark2.STLC.html#3280" class="Bound">f</a><a id="3300" class="Symbol">)</a> <a id="3302" class="Symbol">(</a><a id="3303" href="Motivation.POPLMark2.STLC.html#3070" class="Function">sub^↝</a> <a id="3309" href="Motivation.POPLMark2.STLC.html#3272" class="Bound">ρ</a> <a id="3311" href="Motivation.POPLMark2.STLC.html#3282" class="Bound">r</a><a id="3312" class="Symbol">)</a>
<a id="3314" href="Motivation.POPLMark2.STLC.html#3070" class="Function">sub^↝</a> <a id="3320" href="Motivation.POPLMark2.STLC.html#3320" class="Bound">ρ</a> <a id="3322" class="Symbol">(</a><a id="3323" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="3328" href="Motivation.POPLMark2.STLC.html#3328" class="Bound">r</a> <a id="3330" href="Motivation.POPLMark2.STLC.html#3330" class="Bound">t</a><a id="3331" class="Symbol">)</a> <a id="3333" class="Symbol">=</a> <a id="3335" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="3340" class="Symbol">(</a><a id="3341" href="Motivation.POPLMark2.STLC.html#3070" class="Function">sub^↝</a> <a id="3347" href="Motivation.POPLMark2.STLC.html#3320" class="Bound">ρ</a> <a id="3349" href="Motivation.POPLMark2.STLC.html#3328" class="Bound">r</a><a id="3350" class="Symbol">)</a> <a id="3352" class="Symbol">(</a><a id="3353" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="3357" href="Motivation.POPLMark2.STLC.html#3320" class="Bound">ρ</a> <a id="3359" href="Motivation.POPLMark2.STLC.html#3330" class="Bound">t</a><a id="3360" class="Symbol">)</a>

<a id="[/0]^↝"></a><a id="3363" href="Motivation.POPLMark2.STLC.html#3363" class="Function">[/0]^↝</a> <a id="3370" class="Symbol">:</a> <a id="3372" class="Symbol">∀</a> <a id="3374" class="Symbol">{</a><a id="3375" href="Motivation.POPLMark2.STLC.html#3375" class="Bound">σ</a> <a id="3377" href="Motivation.POPLMark2.STLC.html#3377" class="Bound">τ</a> <a id="3379" href="Motivation.POPLMark2.STLC.html#3379" class="Bound">Γ</a> <a id="3381" href="Motivation.POPLMark2.STLC.html#3381" class="Bound">b</a> <a id="3383" href="Motivation.POPLMark2.STLC.html#3383" class="Bound">b′</a><a id="3385" class="Symbol">}</a> <a id="3387" class="Symbol">→</a> <a id="3389" class="Symbol">(</a><a id="3390" href="Motivation.POPLMark2.STLC.html#3375" class="Bound">σ</a> <a id="3392" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="3394" href="Motivation.POPLMark2.STLC.html#3379" class="Bound">Γ</a><a id="3395" class="Symbol">)</a> <a id="3397" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="3399" href="Motivation.POPLMark2.STLC.html#3377" class="Bound">τ</a> <a id="3401" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="3403" href="Motivation.POPLMark2.STLC.html#3381" class="Bound">b</a> <a id="3405" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="3407" href="Motivation.POPLMark2.STLC.html#3383" class="Bound">b′</a> <a id="3410" class="Symbol">→</a> <a id="3412" class="Symbol">∀</a> <a id="3414" href="Motivation.POPLMark2.STLC.html#3414" class="Bound">u</a> <a id="3416" class="Symbol">→</a> <a id="3418" href="Motivation.POPLMark2.STLC.html#3379" class="Bound">Γ</a> <a id="3420" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="3422" href="Motivation.POPLMark2.STLC.html#3377" class="Bound">τ</a> <a id="3424" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="3426" href="Motivation.POPLMark2.STLC.html#3381" class="Bound">b</a> <a id="3428" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="3430" href="Motivation.POPLMark2.STLC.html#3414" class="Bound">u</a> <a id="3432" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a> <a id="3436" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="3438" href="Motivation.POPLMark2.STLC.html#3383" class="Bound">b′</a> <a id="3441" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="3443" href="Motivation.POPLMark2.STLC.html#3414" class="Bound">u</a> <a id="3445" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a>
<a id="3449" href="Motivation.POPLMark2.STLC.html#3363" class="Function">[/0]^↝</a> <a id="3456" href="Motivation.POPLMark2.STLC.html#3456" class="Bound">r</a> <a id="3458" href="Motivation.POPLMark2.STLC.html#3458" class="Bound">u</a> <a id="3460" class="Symbol">=</a> <a id="3462" href="Motivation.POPLMark2.STLC.html#3070" class="Function">sub^↝</a> <a id="3468" class="Symbol">(</a><a id="3469" href="Motivation.POPLMark2.STLC.html#3458" class="Bound">u</a> <a id="3471" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="3474" class="Symbol">)</a> <a id="3476" href="Motivation.POPLMark2.STLC.html#3456" class="Bound">r</a>

<a id="3479" class="Comment">-- Lemma 1.4</a>
<a id="↝⋆^R"></a><a id="3492" href="Motivation.POPLMark2.STLC.html#3492" class="Function">↝⋆^R</a> <a id="3497" class="Symbol">:</a> <a id="3499" href="rel.html#251" class="Record">Rel</a> <a id="3503" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="3508" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a>
<a id="3513" href="rel.html#324" class="Field">rel</a> <a id="3517" href="Motivation.POPLMark2.STLC.html#3492" class="Function">↝⋆^R</a> <a id="3522" class="Symbol">=</a> <a id="3524" class="Symbol">_</a> <a id="3526" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="3528" class="Symbol">_</a> <a id="3530" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋_↝⋆_</a>

<a id="[v↦t↝⋆t]"></a><a id="3537" href="Motivation.POPLMark2.STLC.html#3537" class="Function">[v↦t↝⋆t]</a> <a id="3546" class="Symbol">:</a> <a id="3548" class="Symbol">∀</a> <a id="3550" class="Symbol">{</a><a id="3551" href="Motivation.POPLMark2.STLC.html#3551" class="Bound">Γ</a> <a id="3553" href="Motivation.POPLMark2.STLC.html#3553" class="Bound">Δ</a><a id="3554" class="Symbol">}</a> <a id="3556" class="Symbol">{</a><a id="3557" href="Motivation.POPLMark2.STLC.html#3557" class="Bound">ρ</a> <a id="3559" class="Symbol">:</a> <a id="3561" class="Symbol">(</a><a id="3562" href="Motivation.POPLMark2.STLC.html#3551" class="Bound">Γ</a> <a id="3564" href="environment.html#309" class="Record Operator">─Env</a><a id="3568" class="Symbol">)</a> <a id="3570" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="3575" href="Motivation.POPLMark2.STLC.html#3553" class="Bound">Δ</a><a id="3576" class="Symbol">}</a> <a id="3578" class="Symbol">→</a> <a id="3580" href="rel.html#431" class="Record Operator">rel.∀[</a> <a id="3587" href="Motivation.POPLMark2.STLC.html#3492" class="Function">↝⋆^R</a> <a id="3592" href="rel.html#431" class="Record Operator">]</a> <a id="3594" href="Motivation.POPLMark2.STLC.html#3557" class="Bound">ρ</a> <a id="3596" href="Motivation.POPLMark2.STLC.html#3557" class="Bound">ρ</a>
<a id="3598" href="rel.html#561" class="Field">lookup^R</a> <a id="3607" href="Motivation.POPLMark2.STLC.html#3537" class="Function">[v↦t↝⋆t]</a> <a id="3616" href="Motivation.POPLMark2.STLC.html#3616" class="Bound">k</a> <a id="3618" class="Symbol">=</a> <a id="3620" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">S.ε</a>

<a id="3625" class="Comment">-- 1., 2., 3., 4.: cf. Star&#39;s gmap</a>
<a id="3660" class="Comment">-- 5.</a>
<a id="sub^↝⋆"></a><a id="3666" href="Motivation.POPLMark2.STLC.html#3666" class="Function">sub^↝⋆</a> <a id="3673" class="Symbol">:</a> <a id="3675" class="Symbol">∀</a> <a id="3677" class="Symbol">{</a><a id="3678" href="Motivation.POPLMark2.STLC.html#3678" class="Bound">σ</a> <a id="3680" href="Motivation.POPLMark2.STLC.html#3680" class="Bound">Γ</a> <a id="3682" href="Motivation.POPLMark2.STLC.html#3682" class="Bound">Δ</a><a id="3683" class="Symbol">}</a> <a id="3685" class="Symbol">(</a><a id="3686" href="Motivation.POPLMark2.STLC.html#3686" class="Bound">t</a> <a id="3688" class="Symbol">:</a> <a id="3690" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="3695" href="Motivation.POPLMark2.STLC.html#3678" class="Bound">σ</a> <a id="3697" href="Motivation.POPLMark2.STLC.html#3680" class="Bound">Γ</a><a id="3698" class="Symbol">)</a> <a id="3700" class="Symbol">{</a><a id="3701" href="Motivation.POPLMark2.STLC.html#3701" class="Bound">ρ</a> <a id="3703" href="Motivation.POPLMark2.STLC.html#3703" class="Bound">ρ′</a><a id="3705" class="Symbol">}</a> <a id="3707" class="Symbol">→</a>
         <a id="3718" href="rel.html#431" class="Record Operator">rel.∀[</a> <a id="3725" href="Motivation.POPLMark2.STLC.html#3492" class="Function">↝⋆^R</a> <a id="3730" href="rel.html#431" class="Record Operator">]</a> <a id="3732" href="Motivation.POPLMark2.STLC.html#3701" class="Bound">ρ</a> <a id="3734" href="Motivation.POPLMark2.STLC.html#3703" class="Bound">ρ′</a> <a id="3737" class="Symbol">→</a> <a id="3739" href="Motivation.POPLMark2.STLC.html#3682" class="Bound">Δ</a> <a id="3741" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="3743" href="Motivation.POPLMark2.STLC.html#3678" class="Bound">σ</a> <a id="3745" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋</a> <a id="3747" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="3751" href="Motivation.POPLMark2.STLC.html#3701" class="Bound">ρ</a> <a id="3753" href="Motivation.POPLMark2.STLC.html#3686" class="Bound">t</a> <a id="3755" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">↝⋆</a> <a id="3758" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="3762" href="Motivation.POPLMark2.STLC.html#3703" class="Bound">ρ′</a> <a id="3765" href="Motivation.POPLMark2.STLC.html#3686" class="Bound">t</a>
<a id="3767" href="Motivation.POPLMark2.STLC.html#3666" class="Function">sub^↝⋆</a> <a id="3774" href="Motivation.POPLMark2.STLC.html#3774" class="Bound">t</a> <a id="3776" href="Motivation.POPLMark2.STLC.html#3776" class="Bound">ρ^R</a> <a id="3780" class="Symbol">=</a> <a id="3782" href="Generic.Simulation.html#1573" class="Function">Sim.sim</a> <a id="3790" href="Motivation.POPLMark2.STLC.html#3809" class="Function">sim</a> <a id="3794" href="Motivation.POPLMark2.STLC.html#3776" class="Bound">ρ^R</a> <a id="3798" href="Motivation.POPLMark2.STLC.html#3774" class="Bound">t</a> <a id="3800" class="Keyword">where</a>

  <a id="3809" href="Motivation.POPLMark2.STLC.html#3809" class="Function">sim</a> <a id="3813" class="Symbol">:</a> <a id="3815" href="Generic.Simulation.html#861" class="Record">Sim</a> <a id="3819" href="Motivation.POPLMark2.STLC.html#3492" class="Function">↝⋆^R</a> <a id="3824" href="Motivation.POPLMark2.STLC.html#3492" class="Function">↝⋆^R</a> <a id="3829" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="3835" href="Generic.Semantics.Syntactic.html#792" class="Function">Substitution</a> <a id="3848" href="Generic.Semantics.Syntactic.html#792" class="Function">Substitution</a>
  <a id="3863" href="Generic.Simulation.html#938" class="Field">Sim.th^R</a>  <a id="3873" href="Motivation.POPLMark2.STLC.html#3809" class="Function">sim</a> <a id="3877" class="Symbol">=</a> <a id="3879" class="Symbol">λ</a> <a id="3881" href="Motivation.POPLMark2.STLC.html#3881" class="Bound">ρ</a> <a id="3883" class="Symbol">→</a> <a id="3885" href="Relation.Binary.Closure.ReflexiveTransitive.html#1479" class="Function">S.gmap</a> <a id="3892" class="Symbol">_</a> <a id="3894" class="Symbol">(</a><a id="3895" href="Motivation.POPLMark2.STLC.html#2772" class="Function">th^↝</a> <a id="3900" href="Motivation.POPLMark2.STLC.html#3881" class="Bound">ρ</a><a id="3901" class="Symbol">)</a>
  <a id="3905" href="Generic.Simulation.html#1093" class="Field">Sim.var^R</a> <a id="3915" href="Motivation.POPLMark2.STLC.html#3809" class="Function">sim</a> <a id="3919" class="Symbol">=</a> <a id="3921" href="Function.html#1058" class="Function">id</a>
  <a id="3926" href="Generic.Simulation.html#1219" class="Field">Sim.alg^R</a> <a id="3936" href="Motivation.POPLMark2.STLC.html#3809" class="Function">sim</a> <a id="3940" class="Symbol">=</a> <a id="3942" class="Symbol">λ</a> <a id="3944" class="Keyword">where</a>
    <a id="3954" class="Symbol">(</a><a id="3955" href="Motivation.POPLMark2.STLC.html#3955" class="Bound">f</a> <a id="3957" href="Motivation.POPLMark2.STLC.html#1724" class="InductiveConstructor Operator">`∙&#39;</a> <a id="3961" href="Motivation.POPLMark2.STLC.html#3961" class="Bound">t</a><a id="3962" class="Symbol">)</a> <a id="3964" class="Symbol">{</a><a id="3965" href="Motivation.POPLMark2.STLC.html#3965" class="Bound">ρ₁</a><a id="3967" class="Symbol">}</a> <a id="3969" class="Symbol">{</a><a id="3970" href="Motivation.POPLMark2.STLC.html#3970" class="Bound">ρ₂</a><a id="3972" class="Symbol">}</a> <a id="3974" href="Motivation.POPLMark2.STLC.html#3974" class="Bound">ρ^R</a> <a id="3978" class="Symbol">(</a><a id="3979" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="3984" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3986" href="Motivation.POPLMark2.STLC.html#3986" class="Bound">f^R</a> <a id="3990" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3992" href="Motivation.POPLMark2.STLC.html#3992" class="Bound">t^R</a> <a id="3996" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3998" class="Symbol">_)</a> <a id="4001" class="Symbol">→</a> <a id="4003" href="Relation.Binary.Closure.ReflexiveTransitive.html#1479" class="Function">S.gmap</a> <a id="4010" class="Symbol">_</a> <a id="4012" class="Symbol">(λ</a> <a id="4015" href="Motivation.POPLMark2.STLC.html#4015" class="Bound">f</a> <a id="4017" class="Symbol">→</a> <a id="4019" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="4024" href="Motivation.POPLMark2.STLC.html#4015" class="Bound">f</a> <a id="4026" class="Symbol">(</a><a id="4027" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="4031" href="Motivation.POPLMark2.STLC.html#3965" class="Bound">ρ₁</a> <a id="4034" href="Motivation.POPLMark2.STLC.html#3961" class="Bound">t</a><a id="4035" class="Symbol">))</a> <a id="4038" href="Motivation.POPLMark2.STLC.html#3986" class="Bound">f^R</a>
                                                <a id="4090" href="Relation.Binary.Closure.ReflexiveTransitive.html#787" class="Function Operator">S.◅◅</a> <a id="4095" href="Relation.Binary.Closure.ReflexiveTransitive.html#1479" class="Function">S.gmap</a> <a id="4102" class="Symbol">_</a> <a id="4104" class="Symbol">(</a><a id="4105" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="4110" class="Symbol">(</a><a id="4111" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="4115" href="Motivation.POPLMark2.STLC.html#3970" class="Bound">ρ₂</a> <a id="4118" href="Motivation.POPLMark2.STLC.html#3955" class="Bound">f</a><a id="4119" class="Symbol">))</a> <a id="4122" href="Motivation.POPLMark2.STLC.html#3992" class="Bound">t^R</a>
    <a id="4130" class="Symbol">(</a><a id="4131" href="Motivation.POPLMark2.STLC.html#1683" class="InductiveConstructor">`λ&#39;</a> <a id="4135" href="Motivation.POPLMark2.STLC.html#4135" class="Bound">b</a><a id="4136" class="Symbol">)</a> <a id="4138" href="Motivation.POPLMark2.STLC.html#4138" class="Bound">ρ^R</a> <a id="4142" class="Symbol">(</a><a id="4143" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="4148" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4150" href="Motivation.POPLMark2.STLC.html#4150" class="Bound">b^R</a> <a id="4154" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4156" class="Symbol">_)</a> <a id="4159" class="Symbol">→</a> <a id="4161" href="Relation.Binary.Closure.ReflexiveTransitive.html#1479" class="Function">S.gmap</a> <a id="4168" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="4171" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a> <a id="4175" class="Symbol">(</a><a id="4176" href="Motivation.POPLMark2.STLC.html#4150" class="Bound">b^R</a> <a id="4180" class="Symbol">_</a> <a id="4182" href="Motivation.POPLMark2.STLC.html#3537" class="Function">[v↦t↝⋆t]</a><a id="4190" class="Symbol">)</a>

<a id="[/0]^↝⋆"></a><a id="4193" href="Motivation.POPLMark2.STLC.html#4193" class="Function">[/0]^↝⋆</a> <a id="4201" class="Symbol">:</a> <a id="4203" class="Symbol">∀</a> <a id="4205" class="Symbol">{</a><a id="4206" href="Motivation.POPLMark2.STLC.html#4206" class="Bound">σ</a> <a id="4208" href="Motivation.POPLMark2.STLC.html#4208" class="Bound">τ</a> <a id="4210" href="Motivation.POPLMark2.STLC.html#4210" class="Bound">Γ</a><a id="4211" class="Symbol">}</a> <a id="4213" href="Motivation.POPLMark2.STLC.html#4213" class="Bound">t</a> <a id="4215" class="Symbol">{</a><a id="4216" href="Motivation.POPLMark2.STLC.html#4216" class="Bound">u</a> <a id="4218" href="Motivation.POPLMark2.STLC.html#4218" class="Bound">u′</a><a id="4220" class="Symbol">}</a> <a id="4222" class="Symbol">→</a> <a id="4224" href="Motivation.POPLMark2.STLC.html#4210" class="Bound">Γ</a> <a id="4226" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="4228" href="Motivation.POPLMark2.STLC.html#4206" class="Bound">σ</a> <a id="4230" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="4232" href="Motivation.POPLMark2.STLC.html#4216" class="Bound">u</a> <a id="4234" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="4236" href="Motivation.POPLMark2.STLC.html#4218" class="Bound">u′</a> <a id="4239" class="Symbol">→</a> <a id="4241" href="Motivation.POPLMark2.STLC.html#4210" class="Bound">Γ</a> <a id="4243" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="4245" href="Motivation.POPLMark2.STLC.html#4208" class="Bound">τ</a> <a id="4247" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋</a> <a id="4249" href="Motivation.POPLMark2.STLC.html#4213" class="Bound">t</a> <a id="4251" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="4253" href="Motivation.POPLMark2.STLC.html#4216" class="Bound">u</a> <a id="4255" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a> <a id="4259" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">↝⋆</a> <a id="4262" href="Motivation.POPLMark2.STLC.html#4213" class="Bound">t</a> <a id="4264" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="4266" href="Motivation.POPLMark2.STLC.html#4218" class="Bound">u′</a> <a id="4269" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a>
<a id="4273" href="Motivation.POPLMark2.STLC.html#4193" class="Function">[/0]^↝⋆</a> <a id="4281" href="Motivation.POPLMark2.STLC.html#4281" class="Bound">t</a> <a id="4283" href="Motivation.POPLMark2.STLC.html#4283" class="Bound">r</a> <a id="4285" class="Symbol">=</a> <a id="4287" href="Motivation.POPLMark2.STLC.html#3666" class="Function">sub^↝⋆</a> <a id="4294" href="Motivation.POPLMark2.STLC.html#4281" class="Bound">t</a> <a id="4296" class="Symbol">(</a><a id="4297" href="Motivation.POPLMark2.STLC.html#3537" class="Function">[v↦t↝⋆t]</a> <a id="4306" href="rel.html#901" class="Function Operator">∙^R</a> <a id="4310" href="Relation.Binary.Closure.ReflexiveTransitive.html#3286" class="Function">S.return</a> <a id="4319" href="Motivation.POPLMark2.STLC.html#4283" class="Bound">r</a><a id="4320" class="Symbol">)</a>

<a id="4323" class="Comment">-- Inversion lemmas for the interaction between ren, ∙, λ and ↝</a>

<a id="th⁻¹^`∙"></a><a id="4388" href="Motivation.POPLMark2.STLC.html#4388" class="Function">th⁻¹^`∙</a> <a id="4396" class="Symbol">:</a> <a id="4398" class="Symbol">∀</a> <a id="4400" class="Symbol">{</a><a id="4401" href="Motivation.POPLMark2.STLC.html#4401" class="Bound">σ</a> <a id="4403" href="Motivation.POPLMark2.STLC.html#4403" class="Bound">τ</a> <a id="4405" href="Motivation.POPLMark2.STLC.html#4405" class="Bound">Γ</a> <a id="4407" href="Motivation.POPLMark2.STLC.html#4407" class="Bound">Δ</a><a id="4408" class="Symbol">}</a> <a id="4410" class="Symbol">(</a><a id="4411" href="Motivation.POPLMark2.STLC.html#4411" class="Bound">u</a> <a id="4413" class="Symbol">:</a> <a id="4415" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="4420" href="Motivation.POPLMark2.STLC.html#4403" class="Bound">τ</a> <a id="4422" href="Motivation.POPLMark2.STLC.html#4405" class="Bound">Γ</a><a id="4423" class="Symbol">)</a> <a id="4425" class="Symbol">{</a><a id="4426" href="Motivation.POPLMark2.STLC.html#4426" class="Bound">f</a> <a id="4428" class="Symbol">:</a> <a id="4430" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="4435" class="Symbol">(</a><a id="4436" href="Motivation.POPLMark2.STLC.html#4401" class="Bound">σ</a> <a id="4438" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="4440" href="Motivation.POPLMark2.STLC.html#4403" class="Bound">τ</a><a id="4441" class="Symbol">)</a> <a id="4443" href="Motivation.POPLMark2.STLC.html#4407" class="Bound">Δ</a><a id="4444" class="Symbol">}</a> <a id="4446" class="Symbol">{</a><a id="4447" href="Motivation.POPLMark2.STLC.html#4447" class="Bound">t</a><a id="4448" class="Symbol">}</a> <a id="4450" href="Motivation.POPLMark2.STLC.html#4450" class="Bound">ρ</a> <a id="4452" class="Symbol">→</a> <a id="4454" href="Motivation.POPLMark2.STLC.html#4426" class="Bound">f</a> <a id="4456" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="4459" href="Motivation.POPLMark2.STLC.html#4447" class="Bound">t</a> <a id="4461" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4463" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="4467" href="Motivation.POPLMark2.STLC.html#4450" class="Bound">ρ</a> <a id="4469" href="Motivation.POPLMark2.STLC.html#4411" class="Bound">u</a> <a id="4471" class="Symbol">→</a>
          <a id="4483" href="Data.Product.html#880" class="Function">∃</a> <a id="4485" class="Symbol">λ</a> <a id="4487" href="Motivation.POPLMark2.STLC.html#4487" class="Bound">f′</a> <a id="4490" class="Symbol">→</a> <a id="4492" href="Data.Product.html#880" class="Function">∃</a> <a id="4494" class="Symbol">λ</a> <a id="4496" href="Motivation.POPLMark2.STLC.html#4496" class="Bound">t′</a> <a id="4499" class="Symbol">→</a> <a id="4501" href="Motivation.POPLMark2.STLC.html#4487" class="Bound">f′</a> <a id="4504" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="4507" href="Motivation.POPLMark2.STLC.html#4496" class="Bound">t′</a> <a id="4510" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4512" href="Motivation.POPLMark2.STLC.html#4411" class="Bound">u</a> <a id="4514" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="4516" href="Motivation.POPLMark2.STLC.html#4426" class="Bound">f</a> <a id="4518" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4520" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="4524" href="Motivation.POPLMark2.STLC.html#4450" class="Bound">ρ</a> <a id="4526" href="Motivation.POPLMark2.STLC.html#4487" class="Bound">f′</a> <a id="4529" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="4531" href="Motivation.POPLMark2.STLC.html#4447" class="Bound">t</a> <a id="4533" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4535" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="4539" href="Motivation.POPLMark2.STLC.html#4450" class="Bound">ρ</a> <a id="4541" href="Motivation.POPLMark2.STLC.html#4496" class="Bound">t′</a>
<a id="4544" href="Motivation.POPLMark2.STLC.html#4388" class="Function">th⁻¹^`∙</a> <a id="4552" class="Symbol">(</a><a id="4553" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="4558" class="Symbol">_)</a>   <a id="4563" href="Motivation.POPLMark2.STLC.html#4563" class="Bound">ρ</a> <a id="4565" class="Symbol">()</a>
<a id="4568" href="Motivation.POPLMark2.STLC.html#4388" class="Function">th⁻¹^`∙</a> <a id="4576" class="Symbol">(</a><a id="4577" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="4580" class="Symbol">_)</a>     <a id="4587" href="Motivation.POPLMark2.STLC.html#4587" class="Bound">ρ</a> <a id="4589" class="Symbol">()</a>
<a id="4592" href="Motivation.POPLMark2.STLC.html#4388" class="Function">th⁻¹^`∙</a> <a id="4600" class="Symbol">(</a><a id="4601" href="Motivation.POPLMark2.STLC.html#4601" class="Bound">f′</a> <a id="4604" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="4607" href="Motivation.POPLMark2.STLC.html#4607" class="Bound">t′</a><a id="4609" class="Symbol">)</a> <a id="4611" href="Motivation.POPLMark2.STLC.html#4611" class="Bound">ρ</a> <a id="4613" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="4618" class="Symbol">=</a> <a id="4620" href="Motivation.POPLMark2.STLC.html#4601" class="Bound">f′</a> <a id="4623" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4625" href="Motivation.POPLMark2.STLC.html#4607" class="Bound">t′</a> <a id="4628" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4630" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="4635" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4637" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="4642" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4644" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="th⁻¹^`λ"></a><a id="4650" href="Motivation.POPLMark2.STLC.html#4650" class="Function">th⁻¹^`λ</a> <a id="4658" class="Symbol">:</a> <a id="4660" class="Symbol">∀</a> <a id="4662" class="Symbol">{</a><a id="4663" href="Motivation.POPLMark2.STLC.html#4663" class="Bound">σ</a> <a id="4665" href="Motivation.POPLMark2.STLC.html#4665" class="Bound">τ</a> <a id="4667" href="Motivation.POPLMark2.STLC.html#4667" class="Bound">Γ</a> <a id="4669" href="Motivation.POPLMark2.STLC.html#4669" class="Bound">Δ</a><a id="4670" class="Symbol">}</a> <a id="4672" class="Symbol">(</a><a id="4673" href="Motivation.POPLMark2.STLC.html#4673" class="Bound">u</a> <a id="4675" class="Symbol">:</a> <a id="4677" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="4682" class="Symbol">(</a><a id="4683" href="Motivation.POPLMark2.STLC.html#4663" class="Bound">σ</a> <a id="4685" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="4687" href="Motivation.POPLMark2.STLC.html#4665" class="Bound">τ</a><a id="4688" class="Symbol">)</a> <a id="4690" href="Motivation.POPLMark2.STLC.html#4667" class="Bound">Γ</a><a id="4691" class="Symbol">)</a> <a id="4693" class="Symbol">{</a><a id="4694" href="Motivation.POPLMark2.STLC.html#4694" class="Bound">b</a> <a id="4696" class="Symbol">:</a> <a id="4698" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="4703" href="Motivation.POPLMark2.STLC.html#4665" class="Bound">τ</a> <a id="4705" class="Symbol">(</a><a id="4706" href="Motivation.POPLMark2.STLC.html#4663" class="Bound">σ</a> <a id="4708" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="4710" href="Motivation.POPLMark2.STLC.html#4669" class="Bound">Δ</a><a id="4711" class="Symbol">)}</a> <a id="4714" href="Motivation.POPLMark2.STLC.html#4714" class="Bound">ρ</a> <a id="4716" class="Symbol">→</a> <a id="4718" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="4721" href="Motivation.POPLMark2.STLC.html#4694" class="Bound">b</a> <a id="4723" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4725" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="4729" href="Motivation.POPLMark2.STLC.html#4714" class="Bound">ρ</a> <a id="4731" href="Motivation.POPLMark2.STLC.html#4673" class="Bound">u</a> <a id="4733" class="Symbol">→</a>
          <a id="4745" href="Data.Product.html#880" class="Function">∃</a> <a id="4747" class="Symbol">λ</a> <a id="4749" href="Motivation.POPLMark2.STLC.html#4749" class="Bound">b′</a> <a id="4752" class="Symbol">→</a> <a id="4754" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="4757" href="Motivation.POPLMark2.STLC.html#4749" class="Bound">b′</a> <a id="4760" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4762" href="Motivation.POPLMark2.STLC.html#4673" class="Bound">u</a> <a id="4764" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="4766" href="Motivation.POPLMark2.STLC.html#4694" class="Bound">b</a> <a id="4768" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4770" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="4774" class="Symbol">(</a><a id="4775" href="varlike.html#1372" class="Function">lift</a> <a id="4780" href="varlike.html#863" class="Function">vl^Var</a> <a id="4787" class="Symbol">(</a><a id="4788" href="Motivation.POPLMark2.STLC.html#4663" class="Bound">σ</a> <a id="4790" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="4792" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="4794" class="Symbol">)</a> <a id="4796" href="Motivation.POPLMark2.STLC.html#4714" class="Bound">ρ</a><a id="4797" class="Symbol">)</a> <a id="4799" href="Motivation.POPLMark2.STLC.html#4749" class="Bound">b′</a>
<a id="4802" href="Motivation.POPLMark2.STLC.html#4650" class="Function">th⁻¹^`λ</a> <a id="4810" class="Symbol">(</a><a id="4811" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="4816" class="Symbol">_)</a> <a id="4819" href="Motivation.POPLMark2.STLC.html#4819" class="Bound">ρ</a> <a id="4821" class="Symbol">()</a>
<a id="4824" href="Motivation.POPLMark2.STLC.html#4650" class="Function">th⁻¹^`λ</a> <a id="4832" class="Symbol">(_</a> <a id="4835" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="4838" class="Symbol">_)</a> <a id="4841" href="Motivation.POPLMark2.STLC.html#4841" class="Bound">ρ</a> <a id="4843" class="Symbol">()</a>
<a id="4846" href="Motivation.POPLMark2.STLC.html#4650" class="Function">th⁻¹^`λ</a> <a id="4854" class="Symbol">(</a><a id="4855" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="4858" href="Motivation.POPLMark2.STLC.html#4858" class="Bound">b′</a><a id="4860" class="Symbol">)</a>  <a id="4863" href="Motivation.POPLMark2.STLC.html#4863" class="Bound">ρ</a> <a id="4865" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="4870" class="Symbol">=</a> <a id="4872" href="Motivation.POPLMark2.STLC.html#4858" class="Bound">b′</a> <a id="4875" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4877" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="4882" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4884" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="th⁻¹^↝"></a><a id="4890" href="Motivation.POPLMark2.STLC.html#4890" class="Function">th⁻¹^↝</a> <a id="4897" class="Symbol">:</a> <a id="4899" class="Symbol">∀</a> <a id="4901" class="Symbol">{</a><a id="4902" href="Motivation.POPLMark2.STLC.html#4902" class="Bound">σ</a> <a id="4904" href="Motivation.POPLMark2.STLC.html#4904" class="Bound">Γ</a> <a id="4906" href="Motivation.POPLMark2.STLC.html#4906" class="Bound">Δ</a> <a id="4908" href="Motivation.POPLMark2.STLC.html#4908" class="Bound">u′</a><a id="4910" class="Symbol">}</a> <a id="4912" href="Motivation.POPLMark2.STLC.html#4912" class="Bound">t</a> <a id="4914" href="Motivation.POPLMark2.STLC.html#4914" class="Bound">ρ</a> <a id="4916" class="Symbol">→</a> <a id="4918" href="Motivation.POPLMark2.STLC.html#4906" class="Bound">Δ</a> <a id="4920" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="4922" href="Motivation.POPLMark2.STLC.html#4902" class="Bound">σ</a> <a id="4924" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="4926" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="4930" href="Motivation.POPLMark2.STLC.html#4914" class="Bound">ρ</a> <a id="4932" href="Motivation.POPLMark2.STLC.html#4912" class="Bound">t</a> <a id="4934" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="4936" href="Motivation.POPLMark2.STLC.html#4908" class="Bound">u′</a> <a id="4939" class="Symbol">→</a>
          <a id="4951" href="Data.Product.html#880" class="Function">∃</a> <a id="4953" class="Symbol">λ</a> <a id="4955" href="Motivation.POPLMark2.STLC.html#4955" class="Bound">u</a> <a id="4957" class="Symbol">→</a> <a id="4959" href="Motivation.POPLMark2.STLC.html#4908" class="Bound">u′</a> <a id="4962" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4964" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="4968" href="Motivation.POPLMark2.STLC.html#4914" class="Bound">ρ</a> <a id="4970" href="Motivation.POPLMark2.STLC.html#4955" class="Bound">u</a> <a id="4972" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="4974" href="Motivation.POPLMark2.STLC.html#4904" class="Bound">Γ</a> <a id="4976" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="4978" href="Motivation.POPLMark2.STLC.html#4902" class="Bound">σ</a> <a id="4980" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="4982" href="Motivation.POPLMark2.STLC.html#4912" class="Bound">t</a> <a id="4984" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="4986" href="Motivation.POPLMark2.STLC.html#4955" class="Bound">u</a>
<a id="4988" href="Motivation.POPLMark2.STLC.html#4890" class="Function">th⁻¹^↝</a> <a id="4995" class="Symbol">(</a><a id="4996" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="5001" href="Motivation.POPLMark2.STLC.html#5001" class="Bound">v</a><a id="5002" class="Symbol">)</a> <a id="5004" href="Motivation.POPLMark2.STLC.html#5004" class="Bound">ρ</a> <a id="5006" class="Symbol">()</a>
<a id="5009" href="Motivation.POPLMark2.STLC.html#4890" class="Function">th⁻¹^↝</a> <a id="5016" class="Symbol">(</a><a id="5017" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="5020" href="Motivation.POPLMark2.STLC.html#5020" class="Bound">b</a> <a id="5022" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="5025" href="Motivation.POPLMark2.STLC.html#5025" class="Bound">t</a><a id="5026" class="Symbol">)</a> <a id="5028" href="Motivation.POPLMark2.STLC.html#5028" class="Bound">ρ</a> <a id="5030" class="Symbol">(</a><a id="5031" href="Motivation.POPLMark2.STLC.html#2258" class="InductiveConstructor">β</a> <a id="5033" class="Symbol">_</a> <a id="5035" class="Symbol">_)</a> <a id="5038" class="Symbol">=</a> <a id="5040" href="Motivation.POPLMark2.STLC.html#5020" class="Bound">b</a> <a id="5042" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="5044" href="Motivation.POPLMark2.STLC.html#5025" class="Bound">t</a> <a id="5046" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a> <a id="5050" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5052" href="Generic.Fusion.Syntactic.html#5467" class="Function">renβ</a> <a id="5057" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="5063" href="Motivation.POPLMark2.STLC.html#5020" class="Bound">b</a> <a id="5065" class="Symbol">(</a><a id="5066" href="environment.html#515" class="Function">ε</a> <a id="5068" href="environment.html#2070" class="Function Operator">∙</a> <a id="5070" href="Motivation.POPLMark2.STLC.html#5025" class="Bound">t</a><a id="5071" class="Symbol">)</a> <a id="5073" href="Motivation.POPLMark2.STLC.html#5028" class="Bound">ρ</a> <a id="5075" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5077" href="Motivation.POPLMark2.STLC.html#2258" class="InductiveConstructor">β</a> <a id="5079" href="Motivation.POPLMark2.STLC.html#5020" class="Bound">b</a> <a id="5081" href="Motivation.POPLMark2.STLC.html#5025" class="Bound">t</a>
<a id="5083" href="Motivation.POPLMark2.STLC.html#4890" class="Function">th⁻¹^↝</a> <a id="5090" class="Symbol">(</a><a id="5091" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="5094" href="Motivation.POPLMark2.STLC.html#5094" class="Bound">t</a><a id="5095" class="Symbol">)</a>      <a id="5102" href="Motivation.POPLMark2.STLC.html#5102" class="Bound">ρ</a> <a id="5104" class="Symbol">(</a><a id="5105" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a> <a id="5109" href="Motivation.POPLMark2.STLC.html#5109" class="Bound">r</a><a id="5110" class="Symbol">)</a> <a id="5112" class="Symbol">=</a>
  <a id="5116" class="Keyword">let</a> <a id="5120" class="Symbol">(</a><a id="5121" href="Motivation.POPLMark2.STLC.html#5121" class="Bound">t′</a> <a id="5124" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5126" href="Motivation.POPLMark2.STLC.html#5126" class="Bound">eq</a> <a id="5129" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5131" href="Motivation.POPLMark2.STLC.html#5131" class="Bound">r′</a><a id="5133" class="Symbol">)</a> <a id="5135" class="Symbol">=</a> <a id="5137" href="Motivation.POPLMark2.STLC.html#4890" class="Function">th⁻¹^↝</a> <a id="5144" href="Motivation.POPLMark2.STLC.html#5094" class="Bound">t</a> <a id="5146" class="Symbol">_</a> <a id="5148" href="Motivation.POPLMark2.STLC.html#5109" class="Bound">r</a> <a id="5150" class="Keyword">in</a> <a id="5153" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="5156" href="Motivation.POPLMark2.STLC.html#5121" class="Bound">t′</a> <a id="5159" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5161" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="5166" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="5169" href="Motivation.POPLMark2.STLC.html#5126" class="Bound">eq</a> <a id="5172" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5174" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a> <a id="5178" href="Motivation.POPLMark2.STLC.html#5131" class="Bound">r′</a>
<a id="5181" href="Motivation.POPLMark2.STLC.html#4890" class="CatchallClause Function">th⁻¹^↝</a><a id="5187" class="CatchallClause"> </a><a id="5188" class="CatchallClause Symbol">(</a><a id="5189" href="Motivation.POPLMark2.STLC.html#5189" class="CatchallClause Bound">f</a><a id="5190" class="CatchallClause"> </a><a id="5191" href="Motivation.POPLMark2.STLC.html#1802" class="CatchallClause InductiveConstructor Operator">`∙</a><a id="5193" class="CatchallClause"> </a><a id="5194" href="Motivation.POPLMark2.STLC.html#5194" class="CatchallClause Bound">t</a><a id="5195" class="CatchallClause Symbol">)</a><a id="5196" class="CatchallClause"> </a><a id="5197" href="Motivation.POPLMark2.STLC.html#5197" class="CatchallClause Bound">ρ</a><a id="5198" class="CatchallClause"> </a><a id="5199" class="CatchallClause Symbol">(</a><a id="5200" href="Motivation.POPLMark2.STLC.html#2407" class="CatchallClause InductiveConstructor">[∙]₁</a><a id="5204" class="CatchallClause"> </a><a id="5205" class="CatchallClause DottedPattern Symbol">._</a><a id="5207" class="CatchallClause"> </a><a id="5208" href="Motivation.POPLMark2.STLC.html#5208" class="CatchallClause Bound">r</a><a id="5209" class="CatchallClause Symbol">)</a> <a id="5211" class="Symbol">=</a>
  <a id="5215" class="Keyword">let</a> <a id="5219" class="Symbol">(</a><a id="5220" href="Motivation.POPLMark2.STLC.html#5220" class="Bound">t′</a> <a id="5223" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5225" href="Motivation.POPLMark2.STLC.html#5225" class="Bound">eq</a> <a id="5228" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5230" href="Motivation.POPLMark2.STLC.html#5230" class="Bound">r′</a><a id="5232" class="Symbol">)</a> <a id="5234" class="Symbol">=</a> <a id="5236" href="Motivation.POPLMark2.STLC.html#4890" class="Function">th⁻¹^↝</a> <a id="5243" href="Motivation.POPLMark2.STLC.html#5194" class="Bound">t</a> <a id="5245" href="Motivation.POPLMark2.STLC.html#5197" class="Bound">ρ</a> <a id="5247" href="Motivation.POPLMark2.STLC.html#5208" class="Bound">r</a> <a id="5249" class="Keyword">in</a> <a id="5252" href="Motivation.POPLMark2.STLC.html#5189" class="Bound">f</a> <a id="5254" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="5257" href="Motivation.POPLMark2.STLC.html#5220" class="Bound">t′</a> <a id="5260" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5262" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="5267" class="Symbol">(</a><a id="5268" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="5272" href="Motivation.POPLMark2.STLC.html#5197" class="Bound">ρ</a> <a id="5274" href="Motivation.POPLMark2.STLC.html#5189" class="Bound">f</a> <a id="5276" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙_</a><a id="5279" class="Symbol">)</a> <a id="5281" href="Motivation.POPLMark2.STLC.html#5225" class="Bound">eq</a> <a id="5284" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5286" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="5291" class="Symbol">_</a> <a id="5293" href="Motivation.POPLMark2.STLC.html#5230" class="Bound">r′</a>
<a id="5296" href="Motivation.POPLMark2.STLC.html#4890" class="CatchallClause Function">th⁻¹^↝</a><a id="5302" class="CatchallClause"> </a><a id="5303" class="CatchallClause Symbol">(</a><a id="5304" href="Motivation.POPLMark2.STLC.html#5304" class="CatchallClause Bound">f</a><a id="5305" class="CatchallClause"> </a><a id="5306" href="Motivation.POPLMark2.STLC.html#1802" class="CatchallClause InductiveConstructor Operator">`∙</a><a id="5308" class="CatchallClause"> </a><a id="5309" href="Motivation.POPLMark2.STLC.html#5309" class="CatchallClause Bound">t</a><a id="5310" class="CatchallClause Symbol">)</a><a id="5311" class="CatchallClause"> </a><a id="5312" href="Motivation.POPLMark2.STLC.html#5312" class="CatchallClause Bound">ρ</a><a id="5313" class="CatchallClause"> </a><a id="5314" class="CatchallClause Symbol">(</a><a id="5315" href="Motivation.POPLMark2.STLC.html#2472" class="CatchallClause InductiveConstructor">[∙]₂</a><a id="5319" class="CatchallClause"> </a><a id="5320" href="Motivation.POPLMark2.STLC.html#5320" class="CatchallClause Bound">r</a><a id="5321" class="CatchallClause"> </a><a id="5322" class="CatchallClause DottedPattern Symbol">._</a><a id="5324" class="CatchallClause Symbol">)</a> <a id="5326" class="Symbol">=</a>
  <a id="5330" class="Keyword">let</a> <a id="5334" class="Symbol">(</a><a id="5335" href="Motivation.POPLMark2.STLC.html#5335" class="Bound">f′</a> <a id="5338" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5340" href="Motivation.POPLMark2.STLC.html#5340" class="Bound">eq</a> <a id="5343" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5345" href="Motivation.POPLMark2.STLC.html#5345" class="Bound">r′</a><a id="5347" class="Symbol">)</a> <a id="5349" class="Symbol">=</a> <a id="5351" href="Motivation.POPLMark2.STLC.html#4890" class="Function">th⁻¹^↝</a> <a id="5358" href="Motivation.POPLMark2.STLC.html#5304" class="Bound">f</a> <a id="5360" href="Motivation.POPLMark2.STLC.html#5312" class="Bound">ρ</a> <a id="5362" href="Motivation.POPLMark2.STLC.html#5320" class="Bound">r</a> <a id="5364" class="Keyword">in</a> <a id="5367" href="Motivation.POPLMark2.STLC.html#5335" class="Bound">f′</a> <a id="5370" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="5373" href="Motivation.POPLMark2.STLC.html#5309" class="Bound">t</a> <a id="5375" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5377" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="5382" class="Symbol">(</a><a id="5383" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙</a> <a id="5387" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="5391" href="Motivation.POPLMark2.STLC.html#5312" class="Bound">ρ</a> <a id="5393" href="Motivation.POPLMark2.STLC.html#5309" class="Bound">t</a><a id="5394" class="Symbol">)</a> <a id="5396" href="Motivation.POPLMark2.STLC.html#5340" class="Bound">eq</a> <a id="5399" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5401" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="5406" href="Motivation.POPLMark2.STLC.html#5345" class="Bound">r′</a> <a id="5409" class="Symbol">_</a>

<a id="th⁻¹^↝⋆"></a><a id="5412" href="Motivation.POPLMark2.STLC.html#5412" class="Function">th⁻¹^↝⋆</a> <a id="5420" class="Symbol">:</a> <a id="5422" class="Symbol">∀</a> <a id="5424" class="Symbol">{</a><a id="5425" href="Motivation.POPLMark2.STLC.html#5425" class="Bound">σ</a> <a id="5427" href="Motivation.POPLMark2.STLC.html#5427" class="Bound">Γ</a> <a id="5429" href="Motivation.POPLMark2.STLC.html#5429" class="Bound">Δ</a> <a id="5431" href="Motivation.POPLMark2.STLC.html#5431" class="Bound">u′</a><a id="5433" class="Symbol">}</a> <a id="5435" href="Motivation.POPLMark2.STLC.html#5435" class="Bound">t</a> <a id="5437" href="Motivation.POPLMark2.STLC.html#5437" class="Bound">ρ</a> <a id="5439" class="Symbol">→</a> <a id="5441" href="Motivation.POPLMark2.STLC.html#5429" class="Bound">Δ</a> <a id="5443" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="5445" href="Motivation.POPLMark2.STLC.html#5425" class="Bound">σ</a> <a id="5447" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋</a> <a id="5449" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="5453" href="Motivation.POPLMark2.STLC.html#5437" class="Bound">ρ</a> <a id="5455" href="Motivation.POPLMark2.STLC.html#5435" class="Bound">t</a> <a id="5457" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">↝⋆</a> <a id="5460" href="Motivation.POPLMark2.STLC.html#5431" class="Bound">u′</a> <a id="5463" class="Symbol">→</a>
          <a id="5475" href="Data.Product.html#880" class="Function">∃</a> <a id="5477" class="Symbol">λ</a> <a id="5479" href="Motivation.POPLMark2.STLC.html#5479" class="Bound">u</a> <a id="5481" class="Symbol">→</a> <a id="5483" href="Motivation.POPLMark2.STLC.html#5431" class="Bound">u′</a> <a id="5486" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5488" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="5492" href="Motivation.POPLMark2.STLC.html#5437" class="Bound">ρ</a> <a id="5494" href="Motivation.POPLMark2.STLC.html#5479" class="Bound">u</a> <a id="5496" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="5498" href="Motivation.POPLMark2.STLC.html#5427" class="Bound">Γ</a> <a id="5500" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="5502" href="Motivation.POPLMark2.STLC.html#5425" class="Bound">σ</a> <a id="5504" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋</a> <a id="5506" href="Motivation.POPLMark2.STLC.html#5435" class="Bound">t</a> <a id="5508" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">↝⋆</a> <a id="5511" href="Motivation.POPLMark2.STLC.html#5479" class="Bound">u</a>
<a id="5513" href="Motivation.POPLMark2.STLC.html#5412" class="Function">th⁻¹^↝⋆</a> <a id="5521" class="Symbol">{</a><a id="5522" href="Motivation.POPLMark2.STLC.html#5522" class="Bound">σ</a><a id="5523" class="Symbol">}</a> <a id="5525" href="Motivation.POPLMark2.STLC.html#5525" class="Bound">t</a> <a id="5527" href="Motivation.POPLMark2.STLC.html#5527" class="Bound">ρ</a> <a id="5529" href="Motivation.POPLMark2.STLC.html#5529" class="Bound">rs</a> <a id="5532" class="Symbol">=</a> <a id="5534" href="Motivation.POPLMark2.STLC.html#5558" class="Function">go</a> <a id="5537" href="Motivation.POPLMark2.STLC.html#5525" class="Bound">t</a> <a id="5539" href="Motivation.POPLMark2.STLC.html#5527" class="Bound">ρ</a> <a id="5541" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="5546" href="Motivation.POPLMark2.STLC.html#5529" class="Bound">rs</a> <a id="5549" class="Keyword">where</a>

  <a id="5558" href="Motivation.POPLMark2.STLC.html#5558" class="Function">go</a> <a id="5561" class="Symbol">:</a> <a id="5563" class="Symbol">∀</a> <a id="5565" class="Symbol">{</a><a id="5566" href="Motivation.POPLMark2.STLC.html#5566" class="Bound">Γ</a> <a id="5568" href="Motivation.POPLMark2.STLC.html#5568" class="Bound">Δ</a><a id="5569" class="Symbol">}</a> <a id="5571" href="Motivation.POPLMark2.STLC.html#5571" class="Bound">t</a> <a id="5573" href="Motivation.POPLMark2.STLC.html#5573" class="Bound">ρ</a> <a id="5575" class="Symbol">→</a> <a id="5577" class="Symbol">∀</a> <a id="5579" class="Symbol">{</a><a id="5580" href="Motivation.POPLMark2.STLC.html#5580" class="Bound">t′</a> <a id="5583" href="Motivation.POPLMark2.STLC.html#5583" class="Bound">u′</a><a id="5585" class="Symbol">}</a> <a id="5587" class="Symbol">→</a> <a id="5589" href="Motivation.POPLMark2.STLC.html#5580" class="Bound">t′</a> <a id="5592" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5594" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="5598" href="Motivation.POPLMark2.STLC.html#5573" class="Bound">ρ</a> <a id="5600" href="Motivation.POPLMark2.STLC.html#5571" class="Bound">t</a> <a id="5602" class="Symbol">→</a> <a id="5604" href="Motivation.POPLMark2.STLC.html#5568" class="Bound">Δ</a> <a id="5606" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="5608" href="Motivation.POPLMark2.STLC.html#5522" class="Bound">σ</a> <a id="5610" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋</a> <a id="5612" href="Motivation.POPLMark2.STLC.html#5580" class="Bound">t′</a> <a id="5615" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">↝⋆</a> <a id="5618" href="Motivation.POPLMark2.STLC.html#5583" class="Bound">u′</a> <a id="5621" class="Symbol">→</a>
       <a id="5630" href="Data.Product.html#880" class="Function">∃</a> <a id="5632" class="Symbol">λ</a> <a id="5634" href="Motivation.POPLMark2.STLC.html#5634" class="Bound">u</a> <a id="5636" class="Symbol">→</a> <a id="5638" href="Motivation.POPLMark2.STLC.html#5583" class="Bound">u′</a> <a id="5641" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5643" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="5647" href="Motivation.POPLMark2.STLC.html#5573" class="Bound">ρ</a> <a id="5649" href="Motivation.POPLMark2.STLC.html#5634" class="Bound">u</a> <a id="5651" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="5653" href="Motivation.POPLMark2.STLC.html#5566" class="Bound">Γ</a> <a id="5655" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="5657" href="Motivation.POPLMark2.STLC.html#5522" class="Bound">σ</a> <a id="5659" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋</a> <a id="5661" href="Motivation.POPLMark2.STLC.html#5571" class="Bound">t</a> <a id="5663" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">↝⋆</a> <a id="5666" href="Motivation.POPLMark2.STLC.html#5634" class="Bound">u</a>
  <a id="5670" href="Motivation.POPLMark2.STLC.html#5558" class="Function">go</a> <a id="5673" href="Motivation.POPLMark2.STLC.html#5673" class="Bound">t</a> <a id="5675" href="Motivation.POPLMark2.STLC.html#5675" class="Bound">ρ</a> <a id="5677" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="5682" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">Star.ε</a>        <a id="5696" class="Symbol">=</a> <a id="5698" href="Motivation.POPLMark2.STLC.html#5673" class="Bound">t</a> <a id="5700" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5702" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="5707" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5709" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">Star.ε</a>
  <a id="5718" href="Motivation.POPLMark2.STLC.html#5558" class="Function">go</a> <a id="5721" href="Motivation.POPLMark2.STLC.html#5721" class="Bound">t</a> <a id="5723" href="Motivation.POPLMark2.STLC.html#5723" class="Bound">ρ</a> <a id="5725" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="5730" class="Symbol">(</a><a id="5731" href="Motivation.POPLMark2.STLC.html#5731" class="Bound">r</a> <a id="5733" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">Star.◅</a> <a id="5740" href="Motivation.POPLMark2.STLC.html#5740" class="Bound">rs</a><a id="5742" class="Symbol">)</a> <a id="5744" class="Symbol">=</a>
    <a id="5750" class="Keyword">let</a> <a id="5754" class="Symbol">(</a><a id="5755" href="Motivation.POPLMark2.STLC.html#5755" class="Bound">u</a> <a id="5757" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5759" href="Motivation.POPLMark2.STLC.html#5759" class="Bound">eq</a> <a id="5762" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5764" href="Motivation.POPLMark2.STLC.html#5764" class="Bound">r′</a><a id="5766" class="Symbol">)</a>   <a id="5770" class="Symbol">=</a> <a id="5772" href="Motivation.POPLMark2.STLC.html#4890" class="Function">th⁻¹^↝</a> <a id="5779" href="Motivation.POPLMark2.STLC.html#5721" class="Bound">t</a> <a id="5781" href="Motivation.POPLMark2.STLC.html#5723" class="Bound">ρ</a> <a id="5783" href="Motivation.POPLMark2.STLC.html#5731" class="Bound">r</a> <a id="5785" class="Keyword">in</a>
    <a id="5792" class="Keyword">let</a> <a id="5796" class="Symbol">(</a><a id="5797" href="Motivation.POPLMark2.STLC.html#5797" class="Bound">v</a> <a id="5799" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5801" href="Motivation.POPLMark2.STLC.html#5801" class="Bound">eq′</a> <a id="5805" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5807" href="Motivation.POPLMark2.STLC.html#5807" class="Bound">rs′</a><a id="5810" class="Symbol">)</a> <a id="5812" class="Symbol">=</a> <a id="5814" href="Motivation.POPLMark2.STLC.html#5558" class="Function">go</a> <a id="5817" href="Motivation.POPLMark2.STLC.html#5755" class="Bound">u</a> <a id="5819" href="Motivation.POPLMark2.STLC.html#5723" class="Bound">ρ</a> <a id="5821" href="Motivation.POPLMark2.STLC.html#5759" class="Bound">eq</a> <a id="5824" href="Motivation.POPLMark2.STLC.html#5740" class="Bound">rs</a> <a id="5827" class="Keyword">in</a>
    <a id="5834" href="Motivation.POPLMark2.STLC.html#5797" class="Bound">v</a> <a id="5836" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5838" href="Motivation.POPLMark2.STLC.html#5801" class="Bound">eq′</a> <a id="5842" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5844" href="Motivation.POPLMark2.STLC.html#5764" class="Bound">r′</a> <a id="5847" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">Star.◅</a> <a id="5854" href="Motivation.POPLMark2.STLC.html#5807" class="Bound">rs′</a>

<a id="5859" class="Comment">-- Section 4 Defining Strongly Normalizing Terms</a>
<a id="5908" class="Comment">-------------------------------------------------------------------</a>

<a id="5977" class="Comment">-- Section 3.1 Definition of Strong Normalization via Accessibility Relation</a>
<a id="6054" class="Comment">-- Inductive definition of Strong Normalisation as the least set of</a>
<a id="6122" class="Comment">-- terms closed under reduction</a>

<a id="Closed"></a><a id="6155" href="Motivation.POPLMark2.STLC.html#6155" class="Function">Closed</a> <a id="6162" class="Symbol">:</a> <a id="6164" class="Symbol">∀</a> <a id="6166" class="Symbol">{</a><a id="6167" href="Motivation.POPLMark2.STLC.html#6167" class="Bound">σ</a> <a id="6169" href="Motivation.POPLMark2.STLC.html#6169" class="Bound">Γ</a><a id="6170" class="Symbol">}</a> <a id="6172" class="Symbol">→</a> <a id="6174" class="Symbol">(</a><a id="6175" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="6180" href="Motivation.POPLMark2.STLC.html#6167" class="Bound">σ</a> <a id="6182" href="Motivation.POPLMark2.STLC.html#6169" class="Bound">Γ</a> <a id="6184" class="Symbol">→</a> <a id="6186" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="6191" href="Motivation.POPLMark2.STLC.html#6167" class="Bound">σ</a> <a id="6193" href="Motivation.POPLMark2.STLC.html#6169" class="Bound">Γ</a> <a id="6195" class="Symbol">→</a> <a id="6197" class="PrimitiveType">Set</a><a id="6200" class="Symbol">)</a> <a id="6202" class="Symbol">→</a>
         <a id="6213" class="Symbol">(</a><a id="6214" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="6219" href="Motivation.POPLMark2.STLC.html#6167" class="Bound">σ</a> <a id="6221" href="Motivation.POPLMark2.STLC.html#6169" class="Bound">Γ</a> <a id="6223" class="Symbol">→</a> <a id="6225" class="PrimitiveType">Set</a><a id="6228" class="Symbol">)</a> <a id="6230" class="Symbol">→</a> <a id="6232" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="6237" href="Motivation.POPLMark2.STLC.html#6167" class="Bound">σ</a> <a id="6239" href="Motivation.POPLMark2.STLC.html#6169" class="Bound">Γ</a> <a id="6241" class="Symbol">→</a> <a id="6243" class="PrimitiveType">Set</a>
<a id="6247" href="Motivation.POPLMark2.STLC.html#6155" class="Function">Closed</a> <a id="6254" href="Motivation.POPLMark2.STLC.html#6254" class="Bound">red</a> <a id="6258" href="Motivation.POPLMark2.STLC.html#6258" class="Bound">R</a> <a id="6260" href="Motivation.POPLMark2.STLC.html#6260" class="Bound">t</a> <a id="6262" class="Symbol">=</a> <a id="6264" class="Symbol">∀</a> <a id="6266" class="Symbol">{</a><a id="6267" href="Motivation.POPLMark2.STLC.html#6267" class="Bound">u</a><a id="6268" class="Symbol">}</a> <a id="6270" class="Symbol">→</a> <a id="6272" href="Motivation.POPLMark2.STLC.html#6254" class="Bound">red</a> <a id="6276" href="Motivation.POPLMark2.STLC.html#6260" class="Bound">t</a> <a id="6278" href="Motivation.POPLMark2.STLC.html#6267" class="Bound">u</a> <a id="6280" class="Symbol">→</a> <a id="6282" href="Motivation.POPLMark2.STLC.html#6258" class="Bound">R</a> <a id="6284" href="Motivation.POPLMark2.STLC.html#6267" class="Bound">u</a>

<a id="6287" class="Comment">-- Definition 3.1</a>
<a id="6305" class="Keyword">infix</a> <a id="6311" class="Number">3</a> <a id="6313" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">_⊢sn_∋_&lt;_</a> <a id="6323" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">_⊢sn_∋_</a>
<a id="6331" class="Keyword">data</a> <a id="_⊢sn_∋_&lt;_"></a><a id="6336" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">_⊢sn_∋_&lt;_</a> <a id="6346" href="Motivation.POPLMark2.STLC.html#6346" class="Bound">Γ</a> <a id="6348" href="Motivation.POPLMark2.STLC.html#6348" class="Bound">σ</a> <a id="6350" class="Symbol">(</a><a id="6351" href="Motivation.POPLMark2.STLC.html#6351" class="Bound">t</a> <a id="6353" class="Symbol">:</a> <a id="6355" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="6360" href="Motivation.POPLMark2.STLC.html#6348" class="Bound">σ</a> <a id="6362" href="Motivation.POPLMark2.STLC.html#6346" class="Bound">Γ</a><a id="6363" class="Symbol">)</a> <a id="6365" class="Symbol">:</a> <a id="6367" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a> <a id="6372" class="Symbol">→</a> <a id="6374" class="PrimitiveType">Set</a> <a id="6378" class="Keyword">where</a>
  <a id="_⊢sn_∋_&lt;_.sn"></a><a id="6386" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="6389" class="Symbol">:</a> <a id="6391" class="Symbol">∀</a> <a id="6393" class="Symbol">{</a><a id="6394" href="Motivation.POPLMark2.STLC.html#6394" class="Bound">i</a><a id="6395" class="Symbol">}</a> <a id="6397" class="Symbol">→</a> <a id="6399" href="Motivation.POPLMark2.STLC.html#6155" class="Function">Closed</a> <a id="6406" class="Symbol">(</a><a id="6407" href="Motivation.POPLMark2.STLC.html#6346" class="Bound">Γ</a> <a id="6409" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="6411" href="Motivation.POPLMark2.STLC.html#6348" class="Bound">σ</a> <a id="6413" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋_↝_</a><a id="6417" class="Symbol">)</a> <a id="6419" class="Symbol">(</a><a id="6420" href="Motivation.POPLMark2.STLC.html#6346" class="Bound">Γ</a> <a id="6422" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="6426" href="Motivation.POPLMark2.STLC.html#6348" class="Bound">σ</a> <a id="6428" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋_&lt;</a> <a id="6432" href="Motivation.POPLMark2.STLC.html#6394" class="Bound">i</a><a id="6433" class="Symbol">)</a> <a id="6435" href="Motivation.POPLMark2.STLC.html#6351" class="Bound">t</a> <a id="6437" class="Symbol">→</a> <a id="6439" href="Motivation.POPLMark2.STLC.html#6346" class="Bound">Γ</a> <a id="6441" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="6445" href="Motivation.POPLMark2.STLC.html#6348" class="Bound">σ</a> <a id="6447" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="6449" href="Motivation.POPLMark2.STLC.html#6351" class="Bound">t</a> <a id="6451" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="6453" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="6455" href="Motivation.POPLMark2.STLC.html#6394" class="Bound">i</a>

<a id="_⊢sn_∋_"></a><a id="6458" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">_⊢sn_∋_</a> <a id="6466" class="Symbol">=</a> <a id="6468" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">_⊢sn_∋_&lt;</a> <a id="6477" class="Symbol">_</a>

<a id="Closed-sn"></a><a id="6480" href="Motivation.POPLMark2.STLC.html#6480" class="Function">Closed-sn</a> <a id="6490" class="Symbol">:</a> <a id="6492" class="Symbol">∀</a> <a id="6494" class="Symbol">{</a><a id="6495" href="Motivation.POPLMark2.STLC.html#6495" class="Bound">σ</a> <a id="6497" href="Motivation.POPLMark2.STLC.html#6497" class="Bound">Γ</a> <a id="6499" href="Motivation.POPLMark2.STLC.html#6499" class="Bound">t</a><a id="6500" class="Symbol">}</a> <a id="6502" class="Symbol">→</a> <a id="6504" href="Motivation.POPLMark2.STLC.html#6497" class="Bound">Γ</a> <a id="6506" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="6510" href="Motivation.POPLMark2.STLC.html#6495" class="Bound">σ</a> <a id="6512" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="6514" href="Motivation.POPLMark2.STLC.html#6499" class="Bound">t</a> <a id="6516" class="Symbol">→</a> <a id="6518" href="Motivation.POPLMark2.STLC.html#6155" class="Function">Closed</a> <a id="6525" class="Symbol">(</a><a id="6526" href="Motivation.POPLMark2.STLC.html#6497" class="Bound">Γ</a> <a id="6528" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="6530" href="Motivation.POPLMark2.STLC.html#6495" class="Bound">σ</a> <a id="6532" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋_↝_</a><a id="6536" class="Symbol">)</a> <a id="6538" class="Symbol">(</a><a id="6539" href="Motivation.POPLMark2.STLC.html#6497" class="Bound">Γ</a> <a id="6541" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="6545" href="Motivation.POPLMark2.STLC.html#6495" class="Bound">σ</a> <a id="6547" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋_</a><a id="6549" class="Symbol">)</a> <a id="6551" href="Motivation.POPLMark2.STLC.html#6499" class="Bound">t</a>
<a id="6553" href="Motivation.POPLMark2.STLC.html#6480" class="Function">Closed-sn</a> <a id="6563" class="Symbol">(</a><a id="6564" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="6567" href="Motivation.POPLMark2.STLC.html#6567" class="Bound">t^SN</a><a id="6571" class="Symbol">)</a> <a id="6573" class="Symbol">=</a> <a id="6575" href="Motivation.POPLMark2.STLC.html#6567" class="Bound">t^SN</a>

<a id="6581" class="Comment">-- Lemma 4.1 Closure of sn under ↝⋆</a>
<a id="Closed⋆-sn"></a><a id="6617" href="Motivation.POPLMark2.STLC.html#6617" class="Function">Closed⋆-sn</a> <a id="6628" class="Symbol">:</a> <a id="6630" class="Symbol">∀</a> <a id="6632" class="Symbol">{</a><a id="6633" href="Motivation.POPLMark2.STLC.html#6633" class="Bound">σ</a> <a id="6635" href="Motivation.POPLMark2.STLC.html#6635" class="Bound">Γ</a> <a id="6637" href="Motivation.POPLMark2.STLC.html#6637" class="Bound">t</a><a id="6638" class="Symbol">}</a> <a id="6640" class="Symbol">→</a> <a id="6642" href="Motivation.POPLMark2.STLC.html#6635" class="Bound">Γ</a> <a id="6644" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="6648" href="Motivation.POPLMark2.STLC.html#6633" class="Bound">σ</a> <a id="6650" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="6652" href="Motivation.POPLMark2.STLC.html#6637" class="Bound">t</a> <a id="6654" class="Symbol">→</a> <a id="6656" href="Motivation.POPLMark2.STLC.html#6155" class="Function">Closed</a> <a id="6663" class="Symbol">(</a><a id="6664" href="Motivation.POPLMark2.STLC.html#6635" class="Bound">Γ</a> <a id="6666" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="6668" href="Motivation.POPLMark2.STLC.html#6633" class="Bound">σ</a> <a id="6670" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋_↝⋆_</a><a id="6675" class="Symbol">)</a> <a id="6677" class="Symbol">(</a><a id="6678" href="Motivation.POPLMark2.STLC.html#6635" class="Bound">Γ</a> <a id="6680" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="6684" href="Motivation.POPLMark2.STLC.html#6633" class="Bound">σ</a> <a id="6686" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋_</a><a id="6688" class="Symbol">)</a> <a id="6690" href="Motivation.POPLMark2.STLC.html#6637" class="Bound">t</a>
<a id="6692" href="Motivation.POPLMark2.STLC.html#6617" class="Function">Closed⋆-sn</a> <a id="6703" href="Motivation.POPLMark2.STLC.html#6703" class="Bound">t^SN</a> <a id="6708" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">Star.ε</a>        <a id="6722" class="Symbol">=</a> <a id="6724" href="Motivation.POPLMark2.STLC.html#6703" class="Bound">t^SN</a>
<a id="6729" href="Motivation.POPLMark2.STLC.html#6617" class="Function">Closed⋆-sn</a> <a id="6740" href="Motivation.POPLMark2.STLC.html#6740" class="Bound">t^SN</a> <a id="6745" class="Symbol">(</a><a id="6746" href="Motivation.POPLMark2.STLC.html#6746" class="Bound">r</a> <a id="6748" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">Star.◅</a> <a id="6755" href="Motivation.POPLMark2.STLC.html#6755" class="Bound">rs</a><a id="6757" class="Symbol">)</a> <a id="6759" class="Symbol">=</a> <a id="6761" href="Motivation.POPLMark2.STLC.html#6617" class="Function">Closed⋆-sn</a> <a id="6772" class="Symbol">(</a><a id="6773" href="Motivation.POPLMark2.STLC.html#6480" class="Function">Closed-sn</a> <a id="6783" href="Motivation.POPLMark2.STLC.html#6740" class="Bound">t^SN</a> <a id="6788" href="Motivation.POPLMark2.STLC.html#6746" class="Bound">r</a><a id="6789" class="Symbol">)</a> <a id="6791" href="Motivation.POPLMark2.STLC.html#6755" class="Bound">rs</a>

<a id="6795" class="Comment">-- Lemma 4.2 Weakening of strongly normalizing terms</a>
<a id="th^sn"></a><a id="6848" href="Motivation.POPLMark2.STLC.html#6848" class="Function">th^sn</a> <a id="6854" class="Symbol">:</a> <a id="6856" class="Symbol">∀</a> <a id="6858" class="Symbol">{</a><a id="6859" href="Motivation.POPLMark2.STLC.html#6859" class="Bound">σ</a> <a id="6861" href="Motivation.POPLMark2.STLC.html#6861" class="Bound">Γ</a> <a id="6863" href="Motivation.POPLMark2.STLC.html#6863" class="Bound">Δ</a> <a id="6865" href="Motivation.POPLMark2.STLC.html#6865" class="Bound">t</a><a id="6866" class="Symbol">}</a> <a id="6868" href="Motivation.POPLMark2.STLC.html#6868" class="Bound">ρ</a> <a id="6870" class="Symbol">→</a> <a id="6872" href="Motivation.POPLMark2.STLC.html#6861" class="Bound">Γ</a> <a id="6874" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="6878" href="Motivation.POPLMark2.STLC.html#6859" class="Bound">σ</a> <a id="6880" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="6882" href="Motivation.POPLMark2.STLC.html#6865" class="Bound">t</a> <a id="6884" class="Symbol">→</a> <a id="6886" href="Motivation.POPLMark2.STLC.html#6863" class="Bound">Δ</a> <a id="6888" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="6892" href="Motivation.POPLMark2.STLC.html#6859" class="Bound">σ</a> <a id="6894" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="6896" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="6900" href="Motivation.POPLMark2.STLC.html#6868" class="Bound">ρ</a> <a id="6902" href="Motivation.POPLMark2.STLC.html#6865" class="Bound">t</a>
<a id="6904" href="Motivation.POPLMark2.STLC.html#6848" class="Function">th^sn</a> <a id="6910" href="Motivation.POPLMark2.STLC.html#6910" class="Bound">ρ</a> <a id="6912" class="Symbol">(</a><a id="6913" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="6916" href="Motivation.POPLMark2.STLC.html#6916" class="Bound">t^SN</a><a id="6920" class="Symbol">)</a> <a id="6922" class="Symbol">=</a> <a id="6924" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="6927" href="Function.html#1881" class="Function Operator">$</a> <a id="6929" class="Symbol">λ</a> <a id="6931" href="Motivation.POPLMark2.STLC.html#6931" class="Bound">r</a> <a id="6933" class="Symbol">→</a>
  <a id="6937" class="Keyword">let</a> <a id="6941" class="Symbol">(_</a> <a id="6944" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6946" href="Motivation.POPLMark2.STLC.html#6946" class="Bound">eq</a> <a id="6949" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6951" href="Motivation.POPLMark2.STLC.html#6951" class="Bound">r′</a><a id="6953" class="Symbol">)</a> <a id="6955" class="Symbol">=</a> <a id="6957" href="Motivation.POPLMark2.STLC.html#4890" class="Function">th⁻¹^↝</a> <a id="6964" class="Symbol">_</a> <a id="6966" href="Motivation.POPLMark2.STLC.html#6910" class="Bound">ρ</a> <a id="6968" href="Motivation.POPLMark2.STLC.html#6931" class="Bound">r</a>
  <a id="6972" class="Keyword">in</a> <a id="6975" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="6981" class="Symbol">(_</a> <a id="6984" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="6988" class="Symbol">_</a> <a id="6990" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋_</a><a id="6992" class="Symbol">)</a> <a id="6994" class="Symbol">(</a><a id="6995" href="Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a> <a id="6999" href="Motivation.POPLMark2.STLC.html#6946" class="Bound">eq</a><a id="7001" class="Symbol">)</a> <a id="7003" href="Function.html#1881" class="Function Operator">$</a> <a id="7005" href="Motivation.POPLMark2.STLC.html#6848" class="Function">th^sn</a> <a id="7011" href="Motivation.POPLMark2.STLC.html#6910" class="Bound">ρ</a> <a id="7013" class="Symbol">(</a><a id="7014" href="Motivation.POPLMark2.STLC.html#6916" class="Bound">t^SN</a> <a id="7019" href="Motivation.POPLMark2.STLC.html#6951" class="Bound">r′</a><a id="7021" class="Symbol">)</a>

<a id="7024" class="Comment">-- Lemma 4.3 Anti-renaming (Strengthening) of strongly normalizing terms</a>
<a id="th⁻¹^sn"></a><a id="7097" href="Motivation.POPLMark2.STLC.html#7097" class="Function">th⁻¹^sn</a> <a id="7105" class="Symbol">:</a> <a id="7107" class="Symbol">∀</a> <a id="7109" class="Symbol">{</a><a id="7110" href="Motivation.POPLMark2.STLC.html#7110" class="Bound">σ</a> <a id="7112" href="Motivation.POPLMark2.STLC.html#7112" class="Bound">Γ</a> <a id="7114" href="Motivation.POPLMark2.STLC.html#7114" class="Bound">Δ</a> <a id="7116" href="Motivation.POPLMark2.STLC.html#7116" class="Bound">t</a><a id="7117" class="Symbol">}</a> <a id="7119" href="Motivation.POPLMark2.STLC.html#7119" class="Bound">ρ</a> <a id="7121" class="Symbol">→</a> <a id="7123" href="Motivation.POPLMark2.STLC.html#7114" class="Bound">Δ</a> <a id="7125" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="7129" href="Motivation.POPLMark2.STLC.html#7110" class="Bound">σ</a> <a id="7131" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="7133" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="7137" href="Motivation.POPLMark2.STLC.html#7119" class="Bound">ρ</a> <a id="7139" href="Motivation.POPLMark2.STLC.html#7116" class="Bound">t</a> <a id="7141" class="Symbol">→</a> <a id="7143" href="Motivation.POPLMark2.STLC.html#7112" class="Bound">Γ</a> <a id="7145" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="7149" href="Motivation.POPLMark2.STLC.html#7110" class="Bound">σ</a> <a id="7151" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="7153" href="Motivation.POPLMark2.STLC.html#7116" class="Bound">t</a>
<a id="7155" href="Motivation.POPLMark2.STLC.html#7097" class="Function">th⁻¹^sn</a> <a id="7163" href="Motivation.POPLMark2.STLC.html#7163" class="Bound">ρ</a> <a id="7165" class="Symbol">(</a><a id="7166" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="7169" href="Motivation.POPLMark2.STLC.html#7169" class="Bound">tρ^sn</a><a id="7174" class="Symbol">)</a> <a id="7176" class="Symbol">=</a> <a id="7178" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="7181" class="Symbol">(λ</a> <a id="7184" href="Motivation.POPLMark2.STLC.html#7184" class="Bound">r</a> <a id="7186" class="Symbol">→</a> <a id="7188" href="Motivation.POPLMark2.STLC.html#7097" class="Function">th⁻¹^sn</a> <a id="7196" href="Motivation.POPLMark2.STLC.html#7163" class="Bound">ρ</a> <a id="7198" class="Symbol">(</a><a id="7199" href="Motivation.POPLMark2.STLC.html#7169" class="Bound">tρ^sn</a> <a id="7205" class="Symbol">(</a><a id="7206" href="Motivation.POPLMark2.STLC.html#2772" class="Function">th^↝</a> <a id="7211" href="Motivation.POPLMark2.STLC.html#7163" class="Bound">ρ</a> <a id="7213" href="Motivation.POPLMark2.STLC.html#7184" class="Bound">r</a><a id="7214" class="Symbol">)))</a>

<a id="7219" class="Comment">-- Lemma 4.4 Properties of strongly normalizing terms</a>

<a id="7274" class="Comment">-- 1.</a>
<a id="sub⁻¹^sn"></a><a id="7280" href="Motivation.POPLMark2.STLC.html#7280" class="Function">sub⁻¹^sn</a> <a id="7289" class="Symbol">:</a> <a id="7291" class="Symbol">∀</a> <a id="7293" class="Symbol">{</a><a id="7294" href="Motivation.POPLMark2.STLC.html#7294" class="Bound">σ</a> <a id="7296" href="Motivation.POPLMark2.STLC.html#7296" class="Bound">Γ</a> <a id="7298" href="Motivation.POPLMark2.STLC.html#7298" class="Bound">Δ</a><a id="7299" class="Symbol">}</a> <a id="7301" href="Motivation.POPLMark2.STLC.html#7301" class="Bound">t</a> <a id="7303" href="Motivation.POPLMark2.STLC.html#7303" class="Bound">ρ</a> <a id="7305" class="Symbol">→</a> <a id="7307" href="Motivation.POPLMark2.STLC.html#7298" class="Bound">Δ</a> <a id="7309" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="7313" href="Motivation.POPLMark2.STLC.html#7294" class="Bound">σ</a> <a id="7315" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="7317" class="Symbol">(</a><a id="7318" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="7322" href="Motivation.POPLMark2.STLC.html#7303" class="Bound">ρ</a> <a id="7324" href="Motivation.POPLMark2.STLC.html#7301" class="Bound">t</a><a id="7325" class="Symbol">)</a> <a id="7327" class="Symbol">→</a> <a id="7329" href="Motivation.POPLMark2.STLC.html#7296" class="Bound">Γ</a> <a id="7331" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="7335" href="Motivation.POPLMark2.STLC.html#7294" class="Bound">σ</a> <a id="7337" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="7339" href="Motivation.POPLMark2.STLC.html#7301" class="Bound">t</a>
<a id="7341" href="Motivation.POPLMark2.STLC.html#7280" class="Function">sub⁻¹^sn</a> <a id="7350" href="Motivation.POPLMark2.STLC.html#7350" class="Bound">t</a> <a id="7352" href="Motivation.POPLMark2.STLC.html#7352" class="Bound">ρ</a> <a id="7354" class="Symbol">(</a><a id="7355" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="7358" href="Motivation.POPLMark2.STLC.html#7358" class="Bound">tρ^sn</a><a id="7363" class="Symbol">)</a> <a id="7365" class="Symbol">=</a> <a id="7367" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="7370" class="Symbol">(λ</a> <a id="7373" href="Motivation.POPLMark2.STLC.html#7373" class="Bound">r</a> <a id="7375" class="Symbol">→</a> <a id="7377" href="Motivation.POPLMark2.STLC.html#7280" class="Function">sub⁻¹^sn</a> <a id="7386" class="Symbol">_</a> <a id="7388" href="Motivation.POPLMark2.STLC.html#7352" class="Bound">ρ</a> <a id="7390" class="Symbol">(</a><a id="7391" href="Motivation.POPLMark2.STLC.html#7358" class="Bound">tρ^sn</a> <a id="7397" class="Symbol">(</a><a id="7398" href="Motivation.POPLMark2.STLC.html#3070" class="Function">sub^↝</a> <a id="7404" href="Motivation.POPLMark2.STLC.html#7352" class="Bound">ρ</a> <a id="7406" href="Motivation.POPLMark2.STLC.html#7373" class="Bound">r</a><a id="7407" class="Symbol">)))</a>

<a id="[/0]⁻¹^sn"></a><a id="7412" href="Motivation.POPLMark2.STLC.html#7412" class="Function">[/0]⁻¹^sn</a> <a id="7422" class="Symbol">:</a> <a id="7424" class="Symbol">∀</a> <a id="7426" class="Symbol">{</a><a id="7427" href="Motivation.POPLMark2.STLC.html#7427" class="Bound">σ</a> <a id="7429" href="Motivation.POPLMark2.STLC.html#7429" class="Bound">τ</a> <a id="7431" href="Motivation.POPLMark2.STLC.html#7431" class="Bound">Γ</a><a id="7432" class="Symbol">}</a> <a id="7434" href="Motivation.POPLMark2.STLC.html#7434" class="Bound">t</a> <a id="7436" href="Motivation.POPLMark2.STLC.html#7436" class="Bound">u</a> <a id="7438" class="Symbol">→</a> <a id="7440" href="Motivation.POPLMark2.STLC.html#7431" class="Bound">Γ</a> <a id="7442" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="7446" href="Motivation.POPLMark2.STLC.html#7429" class="Bound">τ</a> <a id="7448" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="7450" class="Symbol">(</a><a id="7451" href="Motivation.POPLMark2.STLC.html#7434" class="Bound">t</a> <a id="7453" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="7455" href="Motivation.POPLMark2.STLC.html#7436" class="Bound">u</a> <a id="7457" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="7460" class="Symbol">)</a> <a id="7462" class="Symbol">→</a> <a id="7464" class="Symbol">(</a><a id="7465" href="Motivation.POPLMark2.STLC.html#7427" class="Bound">σ</a> <a id="7467" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="7469" href="Motivation.POPLMark2.STLC.html#7431" class="Bound">Γ</a><a id="7470" class="Symbol">)</a> <a id="7472" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="7476" href="Motivation.POPLMark2.STLC.html#7429" class="Bound">τ</a> <a id="7478" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="7480" href="Motivation.POPLMark2.STLC.html#7434" class="Bound">t</a>
<a id="7482" href="Motivation.POPLMark2.STLC.html#7412" class="Function">[/0]⁻¹^sn</a> <a id="7492" href="Motivation.POPLMark2.STLC.html#7492" class="Bound">t</a> <a id="7494" href="Motivation.POPLMark2.STLC.html#7494" class="Bound">u</a> <a id="7496" href="Motivation.POPLMark2.STLC.html#7496" class="Bound">t[u]^sn</a> <a id="7504" class="Symbol">=</a> <a id="7506" href="Motivation.POPLMark2.STLC.html#7280" class="Function">sub⁻¹^sn</a> <a id="7515" href="Motivation.POPLMark2.STLC.html#7492" class="Bound">t</a> <a id="7517" class="Symbol">(</a><a id="7518" href="Motivation.POPLMark2.STLC.html#7494" class="Bound">u</a> <a id="7520" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="7523" class="Symbol">)</a> <a id="7525" href="Motivation.POPLMark2.STLC.html#7496" class="Bound">t[u]^sn</a>

<a id="7534" class="Comment">-- 2.</a>
<a id="`λ^sn"></a><a id="7540" href="Motivation.POPLMark2.STLC.html#7540" class="Function">`λ^sn</a> <a id="7546" class="Symbol">:</a> <a id="7548" class="Symbol">∀</a> <a id="7550" class="Symbol">{</a><a id="7551" href="Motivation.POPLMark2.STLC.html#7551" class="Bound">σ</a> <a id="7553" href="Motivation.POPLMark2.STLC.html#7553" class="Bound">τ</a> <a id="7555" href="Motivation.POPLMark2.STLC.html#7555" class="Bound">Γ</a> <a id="7557" href="Motivation.POPLMark2.STLC.html#7557" class="Bound">t</a><a id="7558" class="Symbol">}</a> <a id="7560" class="Symbol">→</a> <a id="7562" class="Symbol">(</a><a id="7563" href="Motivation.POPLMark2.STLC.html#7551" class="Bound">σ</a> <a id="7565" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="7567" href="Motivation.POPLMark2.STLC.html#7555" class="Bound">Γ</a><a id="7568" class="Symbol">)</a> <a id="7570" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="7574" href="Motivation.POPLMark2.STLC.html#7553" class="Bound">τ</a> <a id="7576" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="7578" href="Motivation.POPLMark2.STLC.html#7557" class="Bound">t</a> <a id="7580" class="Symbol">→</a> <a id="7582" href="Motivation.POPLMark2.STLC.html#7555" class="Bound">Γ</a> <a id="7584" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="7588" href="Motivation.POPLMark2.STLC.html#7551" class="Bound">σ</a> <a id="7590" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="7592" href="Motivation.POPLMark2.STLC.html#7553" class="Bound">τ</a> <a id="7594" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="7596" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="7599" href="Motivation.POPLMark2.STLC.html#7557" class="Bound">t</a>
<a id="7601" href="Motivation.POPLMark2.STLC.html#7540" class="Function">`λ^sn</a> <a id="7607" class="Symbol">(</a><a id="7608" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="7611" href="Motivation.POPLMark2.STLC.html#7611" class="Bound">t^R</a><a id="7614" class="Symbol">)</a> <a id="7616" class="Symbol">=</a> <a id="7618" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="7621" class="Symbol">λ</a> <a id="7623" class="Symbol">{</a> <a id="7625" class="Symbol">(</a><a id="7626" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a> <a id="7630" href="Motivation.POPLMark2.STLC.html#7630" class="Bound">r</a><a id="7631" class="Symbol">)</a> <a id="7633" class="Symbol">→</a> <a id="7635" href="Motivation.POPLMark2.STLC.html#7540" class="Function">`λ^sn</a> <a id="7641" class="Symbol">(</a><a id="7642" href="Motivation.POPLMark2.STLC.html#7611" class="Bound">t^R</a> <a id="7646" href="Motivation.POPLMark2.STLC.html#7630" class="Bound">r</a><a id="7647" class="Symbol">)</a> <a id="7649" class="Symbol">}</a>

<a id="7652" class="Comment">-- 3.</a>
<a id="`∙t⁻¹^sn"></a><a id="7658" href="Motivation.POPLMark2.STLC.html#7658" class="Function">`∙t⁻¹^sn</a> <a id="7667" class="Symbol">:</a> <a id="7669" class="Symbol">∀</a> <a id="7671" class="Symbol">{</a><a id="7672" href="Motivation.POPLMark2.STLC.html#7672" class="Bound">σ</a> <a id="7674" href="Motivation.POPLMark2.STLC.html#7674" class="Bound">τ</a> <a id="7676" href="Motivation.POPLMark2.STLC.html#7676" class="Bound">Γ</a> <a id="7678" href="Motivation.POPLMark2.STLC.html#7678" class="Bound">f</a> <a id="7680" href="Motivation.POPLMark2.STLC.html#7680" class="Bound">t</a> <a id="7682" href="Motivation.POPLMark2.STLC.html#7682" class="Bound">i</a><a id="7683" class="Symbol">}</a> <a id="7685" class="Symbol">→</a> <a id="7687" href="Motivation.POPLMark2.STLC.html#7676" class="Bound">Γ</a> <a id="7689" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="7693" href="Motivation.POPLMark2.STLC.html#7674" class="Bound">τ</a> <a id="7695" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="7697" class="Symbol">(</a><a id="7698" href="Motivation.POPLMark2.STLC.html#7678" class="Bound">f</a> <a id="7700" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="7703" href="Motivation.POPLMark2.STLC.html#7680" class="Bound">t</a><a id="7704" class="Symbol">)</a> <a id="7706" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="7708" href="Motivation.POPLMark2.STLC.html#7682" class="Bound">i</a> <a id="7710" class="Symbol">→</a> <a id="7712" href="Motivation.POPLMark2.STLC.html#7676" class="Bound">Γ</a> <a id="7714" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="7718" href="Motivation.POPLMark2.STLC.html#7672" class="Bound">σ</a> <a id="7720" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="7722" href="Motivation.POPLMark2.STLC.html#7674" class="Bound">τ</a> <a id="7724" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="7726" href="Motivation.POPLMark2.STLC.html#7678" class="Bound">f</a> <a id="7728" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="7730" href="Motivation.POPLMark2.STLC.html#7682" class="Bound">i</a>
<a id="7732" href="Motivation.POPLMark2.STLC.html#7658" class="Function">`∙t⁻¹^sn</a> <a id="7741" class="Symbol">(</a><a id="7742" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="7745" href="Motivation.POPLMark2.STLC.html#7745" class="Bound">ft^sn</a><a id="7750" class="Symbol">)</a> <a id="7752" class="Symbol">=</a> <a id="7754" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="7757" class="Symbol">(λ</a> <a id="7760" href="Motivation.POPLMark2.STLC.html#7760" class="Bound">r</a> <a id="7762" class="Symbol">→</a> <a id="7764" href="Motivation.POPLMark2.STLC.html#7658" class="Function">`∙t⁻¹^sn</a> <a id="7773" class="Symbol">(</a><a id="7774" href="Motivation.POPLMark2.STLC.html#7745" class="Bound">ft^sn</a> <a id="7780" class="Symbol">(</a><a id="7781" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="7786" href="Motivation.POPLMark2.STLC.html#7760" class="Bound">r</a> <a id="7788" class="Symbol">_)))</a>

<a id="f`∙⁻¹^sn"></a><a id="7794" href="Motivation.POPLMark2.STLC.html#7794" class="Function">f`∙⁻¹^sn</a> <a id="7803" class="Symbol">:</a> <a id="7805" class="Symbol">∀</a> <a id="7807" class="Symbol">{</a><a id="7808" href="Motivation.POPLMark2.STLC.html#7808" class="Bound">σ</a> <a id="7810" href="Motivation.POPLMark2.STLC.html#7810" class="Bound">τ</a> <a id="7812" href="Motivation.POPLMark2.STLC.html#7812" class="Bound">Γ</a> <a id="7814" href="Motivation.POPLMark2.STLC.html#7814" class="Bound">f</a> <a id="7816" href="Motivation.POPLMark2.STLC.html#7816" class="Bound">t</a> <a id="7818" href="Motivation.POPLMark2.STLC.html#7818" class="Bound">i</a><a id="7819" class="Symbol">}</a> <a id="7821" class="Symbol">→</a> <a id="7823" href="Motivation.POPLMark2.STLC.html#7812" class="Bound">Γ</a> <a id="7825" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="7829" href="Motivation.POPLMark2.STLC.html#7810" class="Bound">τ</a> <a id="7831" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="7833" class="Symbol">(</a><a id="7834" href="Motivation.POPLMark2.STLC.html#7814" class="Bound">f</a> <a id="7836" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="7839" href="Motivation.POPLMark2.STLC.html#7816" class="Bound">t</a><a id="7840" class="Symbol">)</a> <a id="7842" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="7844" href="Motivation.POPLMark2.STLC.html#7818" class="Bound">i</a> <a id="7846" class="Symbol">→</a> <a id="7848" href="Motivation.POPLMark2.STLC.html#7812" class="Bound">Γ</a> <a id="7850" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="7854" href="Motivation.POPLMark2.STLC.html#7808" class="Bound">σ</a> <a id="7856" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="7858" href="Motivation.POPLMark2.STLC.html#7816" class="Bound">t</a> <a id="7860" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="7862" href="Motivation.POPLMark2.STLC.html#7818" class="Bound">i</a>
<a id="7864" href="Motivation.POPLMark2.STLC.html#7794" class="Function">f`∙⁻¹^sn</a> <a id="7873" class="Symbol">(</a><a id="7874" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="7877" href="Motivation.POPLMark2.STLC.html#7877" class="Bound">ft^sn</a><a id="7882" class="Symbol">)</a> <a id="7884" class="Symbol">=</a> <a id="7886" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="7889" class="Symbol">(λ</a> <a id="7892" href="Motivation.POPLMark2.STLC.html#7892" class="Bound">r</a> <a id="7894" class="Symbol">→</a> <a id="7896" href="Motivation.POPLMark2.STLC.html#7794" class="Function">f`∙⁻¹^sn</a> <a id="7905" class="Symbol">(</a><a id="7906" href="Motivation.POPLMark2.STLC.html#7877" class="Bound">ft^sn</a> <a id="7912" class="Symbol">(</a><a id="7913" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="7918" class="Symbol">_</a> <a id="7920" href="Motivation.POPLMark2.STLC.html#7892" class="Bound">r</a><a id="7921" class="Symbol">)))</a>

<a id="`∙⁻¹^sn"></a><a id="7926" href="Motivation.POPLMark2.STLC.html#7926" class="Function">`∙⁻¹^sn</a> <a id="7934" class="Symbol">:</a> <a id="7936" class="Symbol">∀</a> <a id="7938" class="Symbol">{</a><a id="7939" href="Motivation.POPLMark2.STLC.html#7939" class="Bound">σ</a> <a id="7941" href="Motivation.POPLMark2.STLC.html#7941" class="Bound">τ</a> <a id="7943" href="Motivation.POPLMark2.STLC.html#7943" class="Bound">Γ</a> <a id="7945" href="Motivation.POPLMark2.STLC.html#7945" class="Bound">f</a> <a id="7947" href="Motivation.POPLMark2.STLC.html#7947" class="Bound">t</a> <a id="7949" href="Motivation.POPLMark2.STLC.html#7949" class="Bound">i</a><a id="7950" class="Symbol">}</a> <a id="7952" class="Symbol">→</a> <a id="7954" href="Motivation.POPLMark2.STLC.html#7943" class="Bound">Γ</a> <a id="7956" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="7960" href="Motivation.POPLMark2.STLC.html#7941" class="Bound">τ</a> <a id="7962" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="7964" class="Symbol">(</a><a id="7965" href="Motivation.POPLMark2.STLC.html#7945" class="Bound">f</a> <a id="7967" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="7970" href="Motivation.POPLMark2.STLC.html#7947" class="Bound">t</a><a id="7971" class="Symbol">)</a> <a id="7973" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="7975" href="Motivation.POPLMark2.STLC.html#7949" class="Bound">i</a> <a id="7977" class="Symbol">→</a> <a id="7979" href="Motivation.POPLMark2.STLC.html#7943" class="Bound">Γ</a> <a id="7981" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="7985" href="Motivation.POPLMark2.STLC.html#7939" class="Bound">σ</a> <a id="7987" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="7989" href="Motivation.POPLMark2.STLC.html#7941" class="Bound">τ</a> <a id="7991" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="7993" href="Motivation.POPLMark2.STLC.html#7945" class="Bound">f</a> <a id="7995" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="7997" href="Motivation.POPLMark2.STLC.html#7949" class="Bound">i</a> <a id="7999" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="8001" href="Motivation.POPLMark2.STLC.html#7943" class="Bound">Γ</a> <a id="8003" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="8007" href="Motivation.POPLMark2.STLC.html#7939" class="Bound">σ</a> <a id="8009" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="8011" href="Motivation.POPLMark2.STLC.html#7947" class="Bound">t</a> <a id="8013" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="8015" href="Motivation.POPLMark2.STLC.html#7949" class="Bound">i</a>
<a id="8017" href="Motivation.POPLMark2.STLC.html#7926" class="Function">`∙⁻¹^sn</a> <a id="8025" href="Motivation.POPLMark2.STLC.html#8025" class="Bound">ft^sn</a> <a id="8031" class="Symbol">=</a> <a id="8033" href="Motivation.POPLMark2.STLC.html#7658" class="Function">`∙t⁻¹^sn</a> <a id="8042" href="Motivation.POPLMark2.STLC.html#8025" class="Bound">ft^sn</a> <a id="8048" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8050" href="Motivation.POPLMark2.STLC.html#7794" class="Function">f`∙⁻¹^sn</a> <a id="8059" href="Motivation.POPLMark2.STLC.html#8025" class="Bound">ft^sn</a>

<a id="8066" class="Comment">-- 4.</a>
<a id="`λ⁻¹^sn"></a><a id="8072" href="Motivation.POPLMark2.STLC.html#8072" class="Function">`λ⁻¹^sn</a> <a id="8080" class="Symbol">:</a> <a id="8082" class="Symbol">∀</a> <a id="8084" class="Symbol">{</a><a id="8085" href="Motivation.POPLMark2.STLC.html#8085" class="Bound">σ</a> <a id="8087" href="Motivation.POPLMark2.STLC.html#8087" class="Bound">τ</a> <a id="8089" href="Motivation.POPLMark2.STLC.html#8089" class="Bound">Γ</a> <a id="8091" href="Motivation.POPLMark2.STLC.html#8091" class="Bound">t</a> <a id="8093" href="Motivation.POPLMark2.STLC.html#8093" class="Bound">i</a><a id="8094" class="Symbol">}</a> <a id="8096" class="Symbol">→</a> <a id="8098" href="Motivation.POPLMark2.STLC.html#8089" class="Bound">Γ</a> <a id="8100" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="8104" href="Motivation.POPLMark2.STLC.html#8085" class="Bound">σ</a> <a id="8106" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="8108" href="Motivation.POPLMark2.STLC.html#8087" class="Bound">τ</a> <a id="8110" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="8112" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="8115" href="Motivation.POPLMark2.STLC.html#8091" class="Bound">t</a> <a id="8117" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="8119" href="Motivation.POPLMark2.STLC.html#8093" class="Bound">i</a> <a id="8121" class="Symbol">→</a> <a id="8123" class="Symbol">(</a><a id="8124" href="Motivation.POPLMark2.STLC.html#8085" class="Bound">σ</a> <a id="8126" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="8128" href="Motivation.POPLMark2.STLC.html#8089" class="Bound">Γ</a><a id="8129" class="Symbol">)</a> <a id="8131" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="8135" href="Motivation.POPLMark2.STLC.html#8087" class="Bound">τ</a> <a id="8137" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="8139" href="Motivation.POPLMark2.STLC.html#8091" class="Bound">t</a> <a id="8141" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="8143" href="Motivation.POPLMark2.STLC.html#8093" class="Bound">i</a>
<a id="8145" href="Motivation.POPLMark2.STLC.html#8072" class="Function">`λ⁻¹^sn</a> <a id="8153" class="Symbol">(</a><a id="8154" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="8157" href="Motivation.POPLMark2.STLC.html#8157" class="Bound">λt^sn</a><a id="8162" class="Symbol">)</a> <a id="8164" class="Symbol">=</a> <a id="8166" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="8169" class="Symbol">(λ</a> <a id="8172" href="Motivation.POPLMark2.STLC.html#8172" class="Bound">r</a> <a id="8174" class="Symbol">→</a> <a id="8176" href="Motivation.POPLMark2.STLC.html#8072" class="Function">`λ⁻¹^sn</a> <a id="8184" class="Symbol">(</a><a id="8185" href="Motivation.POPLMark2.STLC.html#8157" class="Bound">λt^sn</a> <a id="8191" class="Symbol">(</a><a id="8192" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a> <a id="8196" href="Motivation.POPLMark2.STLC.html#8172" class="Bound">r</a><a id="8197" class="Symbol">)))</a>

<a id="8202" class="Comment">-- Evaluation contexts indexed by the Scope, the type of the hole, and the</a>
<a id="8277" class="Comment">-- type of the overall expression.</a>

<a id="8313" class="Keyword">infix</a> <a id="8319" class="Number">3</a> <a id="8321" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">_∣_⊢_</a> <a id="8327" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">_∣_⊢[_]_∋_&lt;_</a> <a id="8340" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">_∣_⊢[_]_∋_</a> <a id="8351" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">_∣_⊢sn_∋_</a>
<a id="8361" class="Keyword">data</a> <a id="_∣_⊢_"></a><a id="8366" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">_∣_⊢_</a> <a id="8372" href="Motivation.POPLMark2.STLC.html#8372" class="Bound">Γ</a> <a id="8374" href="Motivation.POPLMark2.STLC.html#8374" class="Bound">α</a> <a id="8376" class="Symbol">:</a> <a id="8378" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a> <a id="8383" class="Symbol">→</a> <a id="8385" class="PrimitiveType">Set</a> <a id="8389" class="Keyword">where</a>
  <a id="_∣_⊢_.&lt;&gt;"></a><a id="8397" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a>  <a id="8401" class="Symbol">:</a> <a id="8403" href="Motivation.POPLMark2.STLC.html#8372" class="Bound">Γ</a> <a id="8405" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="8407" href="Motivation.POPLMark2.STLC.html#8374" class="Bound">α</a> <a id="8409" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="8411" href="Motivation.POPLMark2.STLC.html#8374" class="Bound">α</a>
  <a id="_∣_⊢_.app"></a><a id="8415" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="8419" class="Symbol">:</a> <a id="8421" class="Symbol">∀</a> <a id="8423" class="Symbol">{</a><a id="8424" href="Motivation.POPLMark2.STLC.html#8424" class="Bound">σ</a> <a id="8426" href="Motivation.POPLMark2.STLC.html#8426" class="Bound">τ</a><a id="8427" class="Symbol">}</a> <a id="8429" class="Symbol">→</a> <a id="8431" href="Motivation.POPLMark2.STLC.html#8372" class="Bound">Γ</a> <a id="8433" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="8435" href="Motivation.POPLMark2.STLC.html#8374" class="Bound">α</a> <a id="8437" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="8439" href="Motivation.POPLMark2.STLC.html#8424" class="Bound">σ</a> <a id="8441" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="8443" href="Motivation.POPLMark2.STLC.html#8426" class="Bound">τ</a> <a id="8445" class="Symbol">→</a> <a id="8447" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="8452" href="Motivation.POPLMark2.STLC.html#8424" class="Bound">σ</a> <a id="8454" href="Motivation.POPLMark2.STLC.html#8372" class="Bound">Γ</a> <a id="8456" class="Symbol">→</a> <a id="8458" href="Motivation.POPLMark2.STLC.html#8372" class="Bound">Γ</a> <a id="8460" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="8462" href="Motivation.POPLMark2.STLC.html#8374" class="Bound">α</a> <a id="8464" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="8466" href="Motivation.POPLMark2.STLC.html#8426" class="Bound">τ</a>

<a id="8469" class="Keyword">data</a> <a id="_∣_⊢[_]_∋_&lt;_"></a><a id="8474" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">_∣_⊢[_]_∋_&lt;_</a> <a id="8487" href="Motivation.POPLMark2.STLC.html#8487" class="Bound">Γ</a> <a id="8489" href="Motivation.POPLMark2.STLC.html#8489" class="Bound">α</a> <a id="8491" class="Symbol">(</a><a id="8492" href="Motivation.POPLMark2.STLC.html#8492" class="Bound">R</a> <a id="8494" class="Symbol">:</a> <a id="8496" class="Symbol">∀</a> <a id="8498" href="Motivation.POPLMark2.STLC.html#8498" class="Bound">Γ</a> <a id="8500" href="Motivation.POPLMark2.STLC.html#8500" class="Bound">σ</a> <a id="8502" class="Symbol">→</a> <a id="8504" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="8509" href="Motivation.POPLMark2.STLC.html#8500" class="Bound">σ</a> <a id="8511" href="Motivation.POPLMark2.STLC.html#8498" class="Bound">Γ</a> <a id="8513" class="Symbol">→</a> <a id="8515" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a> <a id="8520" class="Symbol">→</a> <a id="8522" class="PrimitiveType">Set</a><a id="8525" class="Symbol">)</a> <a id="8527" class="Symbol">:</a> <a id="8529" class="Symbol">∀</a> <a id="8531" href="Motivation.POPLMark2.STLC.html#8531" class="Bound">τ</a> <a id="8533" class="Symbol">(</a><a id="8534" href="Motivation.POPLMark2.STLC.html#8534" class="Bound">c</a> <a id="8536" class="Symbol">:</a> <a id="8538" href="Motivation.POPLMark2.STLC.html#8487" class="Bound">Γ</a> <a id="8540" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="8542" href="Motivation.POPLMark2.STLC.html#8489" class="Bound">α</a> <a id="8544" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="8546" href="Motivation.POPLMark2.STLC.html#8531" class="Bound">τ</a><a id="8547" class="Symbol">)</a> <a id="8549" class="Symbol">→</a> <a id="8551" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a> <a id="8556" class="Symbol">→</a> <a id="8558" class="PrimitiveType">Set</a> <a id="8562" class="Keyword">where</a>
  <a id="_∣_⊢[_]_∋_&lt;_.&lt;&gt;"></a><a id="8570" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a>  <a id="8574" class="Symbol">:</a> <a id="8576" class="Symbol">∀</a> <a id="8578" class="Symbol">{</a><a id="8579" href="Motivation.POPLMark2.STLC.html#8579" class="Bound">i</a><a id="8580" class="Symbol">}</a> <a id="8582" class="Symbol">→</a> <a id="8584" href="Motivation.POPLMark2.STLC.html#8487" class="Bound">Γ</a> <a id="8586" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">∣</a> <a id="8588" href="Motivation.POPLMark2.STLC.html#8489" class="Bound">α</a> <a id="8590" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">⊢[</a> <a id="8593" href="Motivation.POPLMark2.STLC.html#8492" class="Bound">R</a> <a id="8595" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">]</a> <a id="8597" href="Motivation.POPLMark2.STLC.html#8489" class="Bound">α</a> <a id="8599" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">∋</a> <a id="8601" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a> <a id="8604" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">&lt;</a> <a id="8606" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="8608" href="Motivation.POPLMark2.STLC.html#8579" class="Bound">i</a>
  <a id="_∣_⊢[_]_∋_&lt;_.app"></a><a id="8612" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="8616" class="Symbol">:</a> <a id="8618" class="Symbol">∀</a> <a id="8620" class="Symbol">{</a><a id="8621" href="Motivation.POPLMark2.STLC.html#8621" class="Bound">σ</a> <a id="8623" href="Motivation.POPLMark2.STLC.html#8623" class="Bound">τ</a> <a id="8625" href="Motivation.POPLMark2.STLC.html#8625" class="Bound">c</a> <a id="8627" href="Motivation.POPLMark2.STLC.html#8627" class="Bound">t</a> <a id="8629" href="Motivation.POPLMark2.STLC.html#8629" class="Bound">i</a><a id="8630" class="Symbol">}</a> <a id="8632" class="Symbol">→</a> <a id="8634" href="Motivation.POPLMark2.STLC.html#8487" class="Bound">Γ</a> <a id="8636" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">∣</a> <a id="8638" href="Motivation.POPLMark2.STLC.html#8489" class="Bound">α</a> <a id="8640" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">⊢[</a> <a id="8643" href="Motivation.POPLMark2.STLC.html#8492" class="Bound">R</a> <a id="8645" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">]</a> <a id="8647" href="Motivation.POPLMark2.STLC.html#8621" class="Bound">σ</a> <a id="8649" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="8651" href="Motivation.POPLMark2.STLC.html#8623" class="Bound">τ</a> <a id="8653" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">∋</a> <a id="8655" href="Motivation.POPLMark2.STLC.html#8625" class="Bound">c</a> <a id="8657" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">&lt;</a> <a id="8659" href="Motivation.POPLMark2.STLC.html#8629" class="Bound">i</a> <a id="8661" class="Symbol">→</a> <a id="8663" href="Motivation.POPLMark2.STLC.html#8492" class="Bound">R</a> <a id="8665" href="Motivation.POPLMark2.STLC.html#8487" class="Bound">Γ</a> <a id="8667" href="Motivation.POPLMark2.STLC.html#8621" class="Bound">σ</a> <a id="8669" href="Motivation.POPLMark2.STLC.html#8627" class="Bound">t</a> <a id="8671" href="Motivation.POPLMark2.STLC.html#8629" class="Bound">i</a> <a id="8673" class="Symbol">→</a> <a id="8675" href="Motivation.POPLMark2.STLC.html#8487" class="Bound">Γ</a> <a id="8677" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">∣</a> <a id="8679" href="Motivation.POPLMark2.STLC.html#8489" class="Bound">α</a> <a id="8681" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">⊢[</a> <a id="8684" href="Motivation.POPLMark2.STLC.html#8492" class="Bound">R</a> <a id="8686" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">]</a> <a id="8688" href="Motivation.POPLMark2.STLC.html#8623" class="Bound">τ</a> <a id="8690" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">∋</a> <a id="8692" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="8696" href="Motivation.POPLMark2.STLC.html#8625" class="Bound">c</a> <a id="8698" href="Motivation.POPLMark2.STLC.html#8627" class="Bound">t</a> <a id="8700" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">&lt;</a> <a id="8702" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="8704" href="Motivation.POPLMark2.STLC.html#8629" class="Bound">i</a>

<a id="_∣_⊢[_]_∋_"></a><a id="8707" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">_∣_⊢[_]_∋_</a> <a id="8718" class="Symbol">=</a> <a id="8720" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">_∣_⊢[_]_∋_&lt;</a> <a id="8732" class="Symbol">_</a>
<a id="_∣_⊢sn_∋_"></a><a id="8734" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">_∣_⊢sn_∋_</a> <a id="8744" class="Symbol">=</a> <a id="8746" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">_∣_⊢[</a> <a id="8752" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">_⊢sn_∋_&lt;_</a> <a id="8762" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">]_∋_</a>

<a id="cut"></a><a id="8768" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="8772" class="Symbol">:</a> <a id="8774" class="Symbol">∀</a> <a id="8776" class="Symbol">{</a><a id="8777" href="Motivation.POPLMark2.STLC.html#8777" class="Bound">Γ</a> <a id="8779" href="Motivation.POPLMark2.STLC.html#8779" class="Bound">α</a> <a id="8781" href="Motivation.POPLMark2.STLC.html#8781" class="Bound">σ</a><a id="8782" class="Symbol">}</a> <a id="8784" class="Symbol">→</a> <a id="8786" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="8791" href="Motivation.POPLMark2.STLC.html#8779" class="Bound">α</a> <a id="8793" href="Motivation.POPLMark2.STLC.html#8777" class="Bound">Γ</a> <a id="8795" class="Symbol">→</a> <a id="8797" href="Motivation.POPLMark2.STLC.html#8777" class="Bound">Γ</a> <a id="8799" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="8801" href="Motivation.POPLMark2.STLC.html#8779" class="Bound">α</a> <a id="8803" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="8805" href="Motivation.POPLMark2.STLC.html#8781" class="Bound">σ</a> <a id="8807" class="Symbol">→</a> <a id="8809" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="8814" href="Motivation.POPLMark2.STLC.html#8781" class="Bound">σ</a> <a id="8816" href="Motivation.POPLMark2.STLC.html#8777" class="Bound">Γ</a>
<a id="8818" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="8822" href="Motivation.POPLMark2.STLC.html#8822" class="Bound">t</a> <a id="8824" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a>        <a id="8834" class="Symbol">=</a> <a id="8836" href="Motivation.POPLMark2.STLC.html#8822" class="Bound">t</a>
<a id="8838" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="8842" href="Motivation.POPLMark2.STLC.html#8842" class="Bound">t</a> <a id="8844" class="Symbol">(</a><a id="8845" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="8849" href="Motivation.POPLMark2.STLC.html#8849" class="Bound">c</a> <a id="8851" href="Motivation.POPLMark2.STLC.html#8851" class="Bound">u</a><a id="8852" class="Symbol">)</a> <a id="8854" class="Symbol">=</a> <a id="8856" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="8860" href="Motivation.POPLMark2.STLC.html#8842" class="Bound">t</a> <a id="8862" href="Motivation.POPLMark2.STLC.html#8849" class="Bound">c</a> <a id="8864" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="8867" href="Motivation.POPLMark2.STLC.html#8851" class="Bound">u</a>

<a id="8870" class="Comment">-- Lemma 4.5 Multi-step Reductions with Evaluation Contexts</a>
<a id="cut^↝"></a><a id="8930" href="Motivation.POPLMark2.STLC.html#8930" class="Function">cut^↝</a> <a id="8936" class="Symbol">:</a> <a id="8938" class="Symbol">∀</a> <a id="8940" class="Symbol">{</a><a id="8941" href="Motivation.POPLMark2.STLC.html#8941" class="Bound">Γ</a> <a id="8943" href="Motivation.POPLMark2.STLC.html#8943" class="Bound">α</a> <a id="8945" href="Motivation.POPLMark2.STLC.html#8945" class="Bound">σ</a> <a id="8947" href="Motivation.POPLMark2.STLC.html#8947" class="Bound">t</a> <a id="8949" href="Motivation.POPLMark2.STLC.html#8949" class="Bound">u</a><a id="8950" class="Symbol">}</a> <a id="8952" href="Motivation.POPLMark2.STLC.html#8952" class="Bound">c</a> <a id="8954" class="Symbol">→</a> <a id="8956" href="Motivation.POPLMark2.STLC.html#8941" class="Bound">Γ</a> <a id="8958" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="8960" href="Motivation.POPLMark2.STLC.html#8943" class="Bound">α</a> <a id="8962" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="8964" href="Motivation.POPLMark2.STLC.html#8947" class="Bound">t</a> <a id="8966" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="8968" href="Motivation.POPLMark2.STLC.html#8949" class="Bound">u</a> <a id="8970" class="Symbol">→</a> <a id="8972" href="Motivation.POPLMark2.STLC.html#8941" class="Bound">Γ</a> <a id="8974" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="8976" href="Motivation.POPLMark2.STLC.html#8945" class="Bound">σ</a> <a id="8978" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="8980" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="8984" href="Motivation.POPLMark2.STLC.html#8947" class="Bound">t</a> <a id="8986" href="Motivation.POPLMark2.STLC.html#8952" class="Bound">c</a> <a id="8988" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="8990" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="8994" href="Motivation.POPLMark2.STLC.html#8949" class="Bound">u</a> <a id="8996" href="Motivation.POPLMark2.STLC.html#8952" class="Bound">c</a>
<a id="8998" href="Motivation.POPLMark2.STLC.html#8930" class="Function">cut^↝</a> <a id="9004" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a>        <a id="9014" href="Motivation.POPLMark2.STLC.html#9014" class="Bound">r</a> <a id="9016" class="Symbol">=</a> <a id="9018" href="Motivation.POPLMark2.STLC.html#9014" class="Bound">r</a>
<a id="9020" href="Motivation.POPLMark2.STLC.html#8930" class="Function">cut^↝</a> <a id="9026" class="Symbol">(</a><a id="9027" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="9031" href="Motivation.POPLMark2.STLC.html#9031" class="Bound">c</a> <a id="9033" href="Motivation.POPLMark2.STLC.html#9033" class="Bound">t</a><a id="9034" class="Symbol">)</a> <a id="9036" href="Motivation.POPLMark2.STLC.html#9036" class="Bound">r</a> <a id="9038" class="Symbol">=</a> <a id="9040" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="9045" class="Symbol">(</a><a id="9046" href="Motivation.POPLMark2.STLC.html#8930" class="Function">cut^↝</a> <a id="9052" href="Motivation.POPLMark2.STLC.html#9031" class="Bound">c</a> <a id="9054" href="Motivation.POPLMark2.STLC.html#9036" class="Bound">r</a><a id="9055" class="Symbol">)</a> <a id="9057" href="Motivation.POPLMark2.STLC.html#9033" class="Bound">t</a>

<a id="cut^↝⋆"></a><a id="9060" href="Motivation.POPLMark2.STLC.html#9060" class="Function">cut^↝⋆</a> <a id="9067" class="Symbol">:</a> <a id="9069" class="Symbol">∀</a> <a id="9071" class="Symbol">{</a><a id="9072" href="Motivation.POPLMark2.STLC.html#9072" class="Bound">Γ</a> <a id="9074" href="Motivation.POPLMark2.STLC.html#9074" class="Bound">α</a> <a id="9076" href="Motivation.POPLMark2.STLC.html#9076" class="Bound">σ</a> <a id="9078" href="Motivation.POPLMark2.STLC.html#9078" class="Bound">t</a> <a id="9080" href="Motivation.POPLMark2.STLC.html#9080" class="Bound">u</a><a id="9081" class="Symbol">}</a> <a id="9083" href="Motivation.POPLMark2.STLC.html#9083" class="Bound">c</a> <a id="9085" class="Symbol">→</a> <a id="9087" href="Motivation.POPLMark2.STLC.html#9072" class="Bound">Γ</a> <a id="9089" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="9091" href="Motivation.POPLMark2.STLC.html#9074" class="Bound">α</a> <a id="9093" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋</a> <a id="9095" href="Motivation.POPLMark2.STLC.html#9078" class="Bound">t</a> <a id="9097" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">↝⋆</a> <a id="9100" href="Motivation.POPLMark2.STLC.html#9080" class="Bound">u</a> <a id="9102" class="Symbol">→</a> <a id="9104" href="Motivation.POPLMark2.STLC.html#9072" class="Bound">Γ</a> <a id="9106" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">⊢</a> <a id="9108" href="Motivation.POPLMark2.STLC.html#9076" class="Bound">σ</a> <a id="9110" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">∋</a> <a id="9112" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="9116" href="Motivation.POPLMark2.STLC.html#9078" class="Bound">t</a> <a id="9118" href="Motivation.POPLMark2.STLC.html#9083" class="Bound">c</a> <a id="9120" href="Motivation.POPLMark2.STLC.html#2544" class="Function Operator">↝⋆</a> <a id="9123" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="9127" href="Motivation.POPLMark2.STLC.html#9080" class="Bound">u</a> <a id="9129" href="Motivation.POPLMark2.STLC.html#9083" class="Bound">c</a>
<a id="9131" href="Motivation.POPLMark2.STLC.html#9060" class="Function">cut^↝⋆</a> <a id="9138" href="Motivation.POPLMark2.STLC.html#9138" class="Bound">c</a> <a id="9140" class="Symbol">=</a> <a id="9142" href="Relation.Binary.Closure.ReflexiveTransitive.html#1479" class="Function">S.gmap</a> <a id="9149" class="Symbol">(</a><a id="9150" href="Function.html#1526" class="Function">flip</a> <a id="9155" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="9159" href="Motivation.POPLMark2.STLC.html#9138" class="Bound">c</a><a id="9160" class="Symbol">)</a> <a id="9162" class="Symbol">(</a><a id="9163" href="Motivation.POPLMark2.STLC.html#8930" class="Function">cut^↝</a> <a id="9169" href="Motivation.POPLMark2.STLC.html#9138" class="Bound">c</a><a id="9170" class="Symbol">)</a>

<a id="9173" class="Comment">-- Lemma 4.6 Evaluation Contexts</a>
<a id="9206" class="Comment">-- Neutrality in the sense of Girard: not (value constructor)-headed</a>
<a id="9275" class="Keyword">data</a> <a id="Neutral"></a><a id="9280" href="Motivation.POPLMark2.STLC.html#9280" class="Datatype">Neutral</a> <a id="9288" class="Symbol">{</a><a id="9289" href="Motivation.POPLMark2.STLC.html#9289" class="Bound">Γ</a> <a id="9291" href="Motivation.POPLMark2.STLC.html#9291" class="Bound">σ</a><a id="9292" class="Symbol">}</a> <a id="9294" class="Symbol">:</a> <a id="9296" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="9301" href="Motivation.POPLMark2.STLC.html#9291" class="Bound">σ</a> <a id="9303" href="Motivation.POPLMark2.STLC.html#9289" class="Bound">Γ</a> <a id="9305" class="Symbol">→</a> <a id="9307" class="PrimitiveType">Set</a> <a id="9311" class="Keyword">where</a>
  <a id="Neutral.var"></a><a id="9319" href="Motivation.POPLMark2.STLC.html#9319" class="InductiveConstructor">var</a> <a id="9323" class="Symbol">:</a> <a id="9325" class="Symbol">∀</a> <a id="9327" href="Motivation.POPLMark2.STLC.html#9327" class="Bound">v</a> <a id="9329" class="Symbol">→</a> <a id="9331" href="Motivation.POPLMark2.STLC.html#9280" class="Datatype">Neutral</a> <a id="9339" class="Symbol">(</a><a id="9340" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="9345" href="Motivation.POPLMark2.STLC.html#9327" class="Bound">v</a><a id="9346" class="Symbol">)</a>
  <a id="Neutral.app"></a><a id="9350" href="Motivation.POPLMark2.STLC.html#9350" class="InductiveConstructor">app</a> <a id="9354" class="Symbol">:</a> <a id="9356" class="Symbol">∀</a> <a id="9358" class="Symbol">{</a><a id="9359" href="Motivation.POPLMark2.STLC.html#9359" class="Bound">τ</a><a id="9360" class="Symbol">}</a> <a id="9362" href="Motivation.POPLMark2.STLC.html#9362" class="Bound">f</a> <a id="9364" class="Symbol">(</a><a id="9365" href="Motivation.POPLMark2.STLC.html#9365" class="Bound">t</a> <a id="9367" class="Symbol">:</a> <a id="9369" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="9374" href="Motivation.POPLMark2.STLC.html#9359" class="Bound">τ</a> <a id="9376" href="Motivation.POPLMark2.STLC.html#9289" class="Bound">Γ</a><a id="9377" class="Symbol">)</a> <a id="9379" class="Symbol">→</a> <a id="9381" href="Motivation.POPLMark2.STLC.html#9280" class="Datatype">Neutral</a> <a id="9389" class="Symbol">(</a><a id="9390" href="Motivation.POPLMark2.STLC.html#9362" class="Bound">f</a> <a id="9392" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="9395" href="Motivation.POPLMark2.STLC.html#9365" class="Bound">t</a><a id="9396" class="Symbol">)</a>

<a id="cut⁻¹‿sn^↝"></a><a id="9399" href="Motivation.POPLMark2.STLC.html#9399" class="Function">cut⁻¹‿sn^↝</a> <a id="9410" class="Symbol">:</a> <a id="9412" class="Symbol">∀</a> <a id="9414" class="Symbol">{</a><a id="9415" href="Motivation.POPLMark2.STLC.html#9415" class="Bound">Γ</a> <a id="9417" href="Motivation.POPLMark2.STLC.html#9417" class="Bound">α</a> <a id="9419" href="Motivation.POPLMark2.STLC.html#9419" class="Bound">σ</a> <a id="9421" href="Motivation.POPLMark2.STLC.html#9421" class="Bound">u</a> <a id="9423" href="Motivation.POPLMark2.STLC.html#9423" class="Bound">c</a> <a id="9425" href="Motivation.POPLMark2.STLC.html#9425" class="Bound">t</a><a id="9426" class="Symbol">}</a> <a id="9428" class="Symbol">→</a> <a id="9430" href="Motivation.POPLMark2.STLC.html#9415" class="Bound">Γ</a> <a id="9432" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∣</a> <a id="9434" href="Motivation.POPLMark2.STLC.html#9417" class="Bound">α</a> <a id="9436" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">⊢sn</a> <a id="9440" href="Motivation.POPLMark2.STLC.html#9419" class="Bound">σ</a> <a id="9442" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∋</a> <a id="9444" href="Motivation.POPLMark2.STLC.html#9423" class="Bound">c</a> <a id="9446" class="Symbol">→</a> <a id="9448" href="Motivation.POPLMark2.STLC.html#9280" class="Datatype">Neutral</a> <a id="9456" href="Motivation.POPLMark2.STLC.html#9425" class="Bound">t</a> <a id="9458" class="Symbol">→</a> <a id="9460" href="Motivation.POPLMark2.STLC.html#9415" class="Bound">Γ</a> <a id="9462" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="9464" href="Motivation.POPLMark2.STLC.html#9419" class="Bound">σ</a> <a id="9466" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="9468" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="9472" href="Motivation.POPLMark2.STLC.html#9425" class="Bound">t</a> <a id="9474" href="Motivation.POPLMark2.STLC.html#9423" class="Bound">c</a> <a id="9476" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="9478" href="Motivation.POPLMark2.STLC.html#9421" class="Bound">u</a> <a id="9480" class="Symbol">→</a>
               <a id="9497" class="Symbol">(</a><a id="9498" href="Data.Product.html#880" class="Function">∃</a> <a id="9500" class="Symbol">λ</a> <a id="9502" href="Motivation.POPLMark2.STLC.html#9502" class="Bound">t′</a> <a id="9505" class="Symbol">→</a> <a id="9507" href="Motivation.POPLMark2.STLC.html#9421" class="Bound">u</a> <a id="9509" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="9511" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="9515" href="Motivation.POPLMark2.STLC.html#9502" class="Bound">t′</a> <a id="9518" href="Motivation.POPLMark2.STLC.html#9423" class="Bound">c</a> <a id="9520" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="9522" href="Motivation.POPLMark2.STLC.html#9415" class="Bound">Γ</a> <a id="9524" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="9526" href="Motivation.POPLMark2.STLC.html#9417" class="Bound">α</a> <a id="9528" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="9530" href="Motivation.POPLMark2.STLC.html#9425" class="Bound">t</a> <a id="9532" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="9534" href="Motivation.POPLMark2.STLC.html#9502" class="Bound">t′</a><a id="9536" class="Symbol">)</a>
             <a id="9551" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9553" class="Symbol">(</a><a id="9554" href="Data.Product.html#880" class="Function">∃</a> <a id="9556" class="Symbol">λ</a> <a id="9558" href="Motivation.POPLMark2.STLC.html#9558" class="Bound">c′</a> <a id="9561" class="Symbol">→</a> <a id="9563" href="Motivation.POPLMark2.STLC.html#9421" class="Bound">u</a> <a id="9565" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="9567" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="9571" href="Motivation.POPLMark2.STLC.html#9425" class="Bound">t</a> <a id="9573" href="Motivation.POPLMark2.STLC.html#9558" class="Bound">c′</a> <a id="9576" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="9578" href="Motivation.POPLMark2.STLC.html#9415" class="Bound">Γ</a> <a id="9580" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∣</a> <a id="9582" href="Motivation.POPLMark2.STLC.html#9417" class="Bound">α</a> <a id="9584" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">⊢sn</a> <a id="9588" href="Motivation.POPLMark2.STLC.html#9419" class="Bound">σ</a> <a id="9590" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∋</a> <a id="9592" href="Motivation.POPLMark2.STLC.html#9558" class="Bound">c′</a>
               <a id="9610" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="9612" class="Symbol">∀</a> <a id="9614" href="Motivation.POPLMark2.STLC.html#9614" class="Bound">t′</a> <a id="9617" class="Symbol">→</a> <a id="9619" href="Motivation.POPLMark2.STLC.html#9415" class="Bound">Γ</a> <a id="9621" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="9623" href="Motivation.POPLMark2.STLC.html#9419" class="Bound">σ</a> <a id="9625" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="9627" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="9631" href="Motivation.POPLMark2.STLC.html#9614" class="Bound">t′</a> <a id="9634" href="Motivation.POPLMark2.STLC.html#9423" class="Bound">c</a> <a id="9636" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="9638" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="9642" href="Motivation.POPLMark2.STLC.html#9614" class="Bound">t′</a> <a id="9645" href="Motivation.POPLMark2.STLC.html#9558" class="Bound">c′</a><a id="9647" class="Symbol">)</a>
<a id="9649" class="Comment">-- reduction in the plugged subterm</a>
<a id="9685" href="Motivation.POPLMark2.STLC.html#9399" class="Function">cut⁻¹‿sn^↝</a> <a id="9696" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a> <a id="9699" href="Motivation.POPLMark2.STLC.html#9699" class="Bound">ne</a> <a id="9702" href="Motivation.POPLMark2.STLC.html#9702" class="Bound">r</a> <a id="9704" class="Symbol">=</a> <a id="9706" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="9711" class="Symbol">(_</a> <a id="9714" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9716" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="9721" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9723" href="Motivation.POPLMark2.STLC.html#9702" class="Bound">r</a><a id="9724" class="Symbol">)</a>
<a id="9726" class="Comment">-- no redexes at the interface thanks to Girard neutrality</a>
<a id="9785" href="Motivation.POPLMark2.STLC.html#9399" class="Function">cut⁻¹‿sn^↝</a> <a id="9796" class="Symbol">(</a><a id="9797" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="9801" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a> <a id="9804" href="Motivation.POPLMark2.STLC.html#9804" class="Bound">t^sn</a><a id="9808" class="Symbol">)</a> <a id="9810" class="Symbol">()</a> <a id="9813" class="Symbol">(</a><a id="9814" href="Motivation.POPLMark2.STLC.html#2258" class="InductiveConstructor">β</a> <a id="9816" href="Motivation.POPLMark2.STLC.html#9816" class="Bound">b</a> <a id="9818" href="Motivation.POPLMark2.STLC.html#9818" class="Bound">t</a><a id="9819" class="Symbol">)</a>
<a id="9821" class="Comment">-- reduction in the context</a>
<a id="9849" href="Motivation.POPLMark2.STLC.html#9399" class="CatchallClause Function">cut⁻¹‿sn^↝</a><a id="9859" class="CatchallClause"> </a><a id="9860" class="CatchallClause Symbol">(</a><a id="9861" href="Motivation.POPLMark2.STLC.html#8612" class="CatchallClause InductiveConstructor">app</a><a id="9864" class="CatchallClause"> </a><a id="9865" href="Motivation.POPLMark2.STLC.html#9865" class="CatchallClause Bound">c^sn</a><a id="9869" class="CatchallClause"> </a><a id="9870" href="Motivation.POPLMark2.STLC.html#9870" class="CatchallClause Bound">t^sn</a><a id="9874" class="CatchallClause Symbol">)</a><a id="9875" class="CatchallClause"> </a><a id="9876" href="Motivation.POPLMark2.STLC.html#9876" class="CatchallClause Bound">ne</a><a id="9878" class="CatchallClause"> </a><a id="9879" class="CatchallClause Symbol">(</a><a id="9880" href="Motivation.POPLMark2.STLC.html#2407" class="CatchallClause InductiveConstructor">[∙]₁</a><a id="9884" class="CatchallClause"> </a><a id="9885" class="CatchallClause Symbol">_</a><a id="9886" class="CatchallClause"> </a><a id="9887" href="Motivation.POPLMark2.STLC.html#9887" class="CatchallClause Bound">r</a><a id="9888" class="CatchallClause Symbol">)</a> <a id="9890" class="Symbol">=</a>
  <a id="9894" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="9899" class="Symbol">(_</a> <a id="9902" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9904" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="9909" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9911" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="9915" href="Motivation.POPLMark2.STLC.html#9865" class="Bound">c^sn</a> <a id="9920" class="Symbol">(</a><a id="9921" href="Motivation.POPLMark2.STLC.html#6480" class="Function">Closed-sn</a> <a id="9931" href="Motivation.POPLMark2.STLC.html#9870" class="Bound">t^sn</a> <a id="9936" href="Motivation.POPLMark2.STLC.html#9887" class="Bound">r</a><a id="9937" class="Symbol">)</a> <a id="9939" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9941" class="Symbol">λ</a> <a id="9943" href="Motivation.POPLMark2.STLC.html#9943" class="Bound">u</a> <a id="9945" class="Symbol">→</a> <a id="9947" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="9952" class="Symbol">_</a> <a id="9954" href="Motivation.POPLMark2.STLC.html#9887" class="Bound">r</a><a id="9955" class="Symbol">)</a>
<a id="9957" class="Comment">-- structural cases: reduction happens deeper</a>
<a id="10003" href="Motivation.POPLMark2.STLC.html#9399" class="CatchallClause Function">cut⁻¹‿sn^↝</a><a id="10013" class="CatchallClause"> </a><a id="10014" class="CatchallClause Symbol">(</a><a id="10015" href="Motivation.POPLMark2.STLC.html#8612" class="CatchallClause InductiveConstructor">app</a><a id="10018" class="CatchallClause"> </a><a id="10019" href="Motivation.POPLMark2.STLC.html#10019" class="CatchallClause Bound">c^sn</a><a id="10023" class="CatchallClause"> </a><a id="10024" href="Motivation.POPLMark2.STLC.html#10024" class="CatchallClause Bound">t^sn</a><a id="10028" class="CatchallClause Symbol">)</a><a id="10029" class="CatchallClause"> </a><a id="10030" href="Motivation.POPLMark2.STLC.html#10030" class="CatchallClause Bound">ne</a><a id="10032" class="CatchallClause"> </a><a id="10033" class="CatchallClause Symbol">(</a><a id="10034" href="Motivation.POPLMark2.STLC.html#2472" class="CatchallClause InductiveConstructor">[∙]₂</a><a id="10038" class="CatchallClause"> </a><a id="10039" href="Motivation.POPLMark2.STLC.html#10039" class="CatchallClause Bound">r</a><a id="10040" class="CatchallClause"> </a><a id="10041" href="Motivation.POPLMark2.STLC.html#10041" class="CatchallClause Bound">t</a><a id="10042" class="CatchallClause Symbol">)</a> <a id="10044" class="Keyword">with</a> <a id="10049" href="Motivation.POPLMark2.STLC.html#9399" class="Function">cut⁻¹‿sn^↝</a> <a id="10060" href="Motivation.POPLMark2.STLC.html#10019" class="Bound">c^sn</a> <a id="10065" href="Motivation.POPLMark2.STLC.html#10030" class="Bound">ne</a> <a id="10068" href="Motivation.POPLMark2.STLC.html#10039" class="Bound">r</a>
<a id="10070" class="Symbol">...</a> <a id="10074" class="Symbol">|</a> <a id="10076" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="10081" class="Symbol">(</a><a id="10082" href="Motivation.POPLMark2.STLC.html#10082" class="Bound">t′</a> <a id="10085" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10087" href="Motivation.POPLMark2.STLC.html#10087" class="Bound">eq</a> <a id="10090" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10092" href="Motivation.POPLMark2.STLC.html#10092" class="Bound">r′</a><a id="10094" class="Symbol">)</a>         <a id="10104" class="Symbol">=</a> <a id="10106" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="10111" class="Symbol">(</a><a id="10112" href="Motivation.POPLMark2.STLC.html#10082" class="Bound">t′</a> <a id="10115" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10117" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="10122" class="Symbol">(</a><a id="10123" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙</a> <a id="10127" class="Bound">t</a><a id="10128" class="Symbol">)</a> <a id="10130" href="Motivation.POPLMark2.STLC.html#10087" class="Bound">eq</a> <a id="10133" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10135" href="Motivation.POPLMark2.STLC.html#10092" class="Bound">r′</a><a id="10137" class="Symbol">)</a>
<a id="10139" class="Symbol">...</a> <a id="10143" class="Symbol">|</a> <a id="10145" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="10150" class="Symbol">(</a><a id="10151" href="Motivation.POPLMark2.STLC.html#10151" class="Bound">c′</a> <a id="10154" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10156" href="Motivation.POPLMark2.STLC.html#10156" class="Bound">eq</a> <a id="10159" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10161" href="Motivation.POPLMark2.STLC.html#10161" class="Bound">c′^sn</a> <a id="10167" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10169" href="Motivation.POPLMark2.STLC.html#10169" class="Bound">r′</a><a id="10171" class="Symbol">)</a> <a id="10173" class="Symbol">=</a>
  <a id="10177" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="10182" class="Symbol">(</a><a id="10183" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="10187" href="Motivation.POPLMark2.STLC.html#10151" class="Bound">c′</a> <a id="10190" class="Bound">t</a> <a id="10192" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10194" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="10199" class="Symbol">(</a><a id="10200" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙</a> <a id="10204" class="Bound">t</a><a id="10205" class="Symbol">)</a> <a id="10207" href="Motivation.POPLMark2.STLC.html#10156" class="Bound">eq</a> <a id="10210" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10212" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="10216" href="Motivation.POPLMark2.STLC.html#10161" class="Bound">c′^sn</a> <a id="10222" class="Bound">t^sn</a> <a id="10227" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10229" class="Symbol">λ</a> <a id="10231" href="Motivation.POPLMark2.STLC.html#10231" class="Bound">u</a> <a id="10233" class="Symbol">→</a> <a id="10235" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="10240" class="Symbol">(</a><a id="10241" href="Motivation.POPLMark2.STLC.html#10169" class="Bound">r′</a> <a id="10244" href="Motivation.POPLMark2.STLC.html#10231" class="Bound">u</a><a id="10245" class="Symbol">)</a> <a id="10247" class="Bound">t</a><a id="10248" class="Symbol">)</a>

<a id="cut⁻¹^↝"></a><a id="10251" href="Motivation.POPLMark2.STLC.html#10251" class="Function">cut⁻¹^↝</a> <a id="10259" class="Symbol">:</a> <a id="10261" class="Symbol">∀</a> <a id="10263" class="Symbol">{</a><a id="10264" href="Motivation.POPLMark2.STLC.html#10264" class="Bound">Γ</a> <a id="10266" href="Motivation.POPLMark2.STLC.html#10266" class="Bound">α</a> <a id="10268" href="Motivation.POPLMark2.STLC.html#10268" class="Bound">σ</a> <a id="10270" href="Motivation.POPLMark2.STLC.html#10270" class="Bound">u</a><a id="10271" class="Symbol">}</a> <a id="10273" href="Motivation.POPLMark2.STLC.html#10273" class="Bound">c</a> <a id="10275" class="Symbol">{</a><a id="10276" href="Motivation.POPLMark2.STLC.html#10276" class="Bound">v</a> <a id="10278" class="Symbol">:</a> <a id="10280" href="var.html#553" class="Datatype">Var</a> <a id="10284" href="Motivation.POPLMark2.STLC.html#10266" class="Bound">α</a> <a id="10286" href="Motivation.POPLMark2.STLC.html#10264" class="Bound">Γ</a><a id="10287" class="Symbol">}</a> <a id="10289" class="Symbol">→</a> <a id="10291" href="Motivation.POPLMark2.STLC.html#10264" class="Bound">Γ</a> <a id="10293" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="10295" href="Motivation.POPLMark2.STLC.html#10268" class="Bound">σ</a> <a id="10297" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="10299" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="10303" class="Symbol">(</a><a id="10304" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="10309" href="Motivation.POPLMark2.STLC.html#10276" class="Bound">v</a><a id="10310" class="Symbol">)</a> <a id="10312" href="Motivation.POPLMark2.STLC.html#10273" class="Bound">c</a> <a id="10314" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝</a> <a id="10316" href="Motivation.POPLMark2.STLC.html#10270" class="Bound">u</a> <a id="10318" class="Symbol">→</a>
          <a id="10330" href="Data.Product.html#880" class="Function">∃</a> <a id="10332" class="Symbol">λ</a> <a id="10334" href="Motivation.POPLMark2.STLC.html#10334" class="Bound">c′</a> <a id="10337" class="Symbol">→</a> <a id="10339" href="Motivation.POPLMark2.STLC.html#10270" class="Bound">u</a> <a id="10341" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="10343" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="10347" class="Symbol">(</a><a id="10348" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="10353" href="Motivation.POPLMark2.STLC.html#10276" class="Bound">v</a><a id="10354" class="Symbol">)</a> <a id="10356" href="Motivation.POPLMark2.STLC.html#10334" class="Bound">c′</a>
<a id="10359" href="Motivation.POPLMark2.STLC.html#10251" class="Function">cut⁻¹^↝</a> <a id="10367" class="Symbol">(</a><a id="10368" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="10372" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a> <a id="10375" href="Motivation.POPLMark2.STLC.html#10375" class="Bound">t</a><a id="10376" class="Symbol">)</a> <a id="10378" class="Symbol">(</a><a id="10379" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="10384" class="Symbol">_</a> <a id="10386" href="Motivation.POPLMark2.STLC.html#10386" class="Bound">r</a><a id="10387" class="Symbol">)</a>  <a id="10390" class="Symbol">=</a> <a id="10392" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="10396" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a> <a id="10399" class="Symbol">_</a> <a id="10401" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10403" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
<a id="10408" href="Motivation.POPLMark2.STLC.html#10251" class="CatchallClause Function">cut⁻¹^↝</a><a id="10415" class="CatchallClause"> </a><a id="10416" class="CatchallClause Symbol">(</a><a id="10417" href="Motivation.POPLMark2.STLC.html#8415" class="CatchallClause InductiveConstructor">app</a><a id="10420" class="CatchallClause"> </a><a id="10421" href="Motivation.POPLMark2.STLC.html#10421" class="CatchallClause Bound">c</a><a id="10422" class="CatchallClause"> </a><a id="10423" href="Motivation.POPLMark2.STLC.html#10423" class="CatchallClause Bound">t</a><a id="10424" class="CatchallClause Symbol">)</a><a id="10425" class="CatchallClause">  </a><a id="10427" class="CatchallClause Symbol">(</a><a id="10428" href="Motivation.POPLMark2.STLC.html#2407" class="CatchallClause InductiveConstructor">[∙]₁</a><a id="10432" class="CatchallClause"> </a><a id="10433" class="CatchallClause Symbol">_</a><a id="10434" class="CatchallClause"> </a><a id="10435" href="Motivation.POPLMark2.STLC.html#10435" class="CatchallClause Bound">r</a><a id="10436" class="CatchallClause Symbol">)</a>  <a id="10439" class="Symbol">=</a> <a id="10441" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="10445" href="Motivation.POPLMark2.STLC.html#10421" class="Bound">c</a> <a id="10447" class="Symbol">_</a> <a id="10449" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10451" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
<a id="10456" href="Motivation.POPLMark2.STLC.html#10251" class="CatchallClause Function">cut⁻¹^↝</a><a id="10463" class="CatchallClause"> </a><a id="10464" class="CatchallClause Symbol">(</a><a id="10465" href="Motivation.POPLMark2.STLC.html#8415" class="CatchallClause InductiveConstructor">app</a><a id="10468" class="CatchallClause"> </a><a id="10469" href="Motivation.POPLMark2.STLC.html#10469" class="CatchallClause Bound">c</a><a id="10470" class="CatchallClause"> </a><a id="10471" href="Motivation.POPLMark2.STLC.html#10471" class="CatchallClause Bound">t</a><a id="10472" class="CatchallClause Symbol">)</a><a id="10473" class="CatchallClause">  </a><a id="10475" class="CatchallClause Symbol">(</a><a id="10476" href="Motivation.POPLMark2.STLC.html#2472" class="CatchallClause InductiveConstructor">[∙]₂</a><a id="10480" class="CatchallClause"> </a><a id="10481" href="Motivation.POPLMark2.STLC.html#10481" class="CatchallClause Bound">r</a><a id="10482" class="CatchallClause"> </a><a id="10483" class="CatchallClause DottedPattern Symbol">.</a><a id="10484" href="Motivation.POPLMark2.STLC.html#10471" class="CatchallClause DottedPattern Bound">t</a><a id="10485" class="CatchallClause Symbol">)</a> <a id="10487" class="Symbol">=</a>
  <a id="10491" class="Keyword">let</a> <a id="10495" class="Symbol">(</a><a id="10496" href="Motivation.POPLMark2.STLC.html#10496" class="Bound">c′</a> <a id="10499" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10501" href="Motivation.POPLMark2.STLC.html#10501" class="Bound">r′</a><a id="10503" class="Symbol">)</a> <a id="10505" class="Symbol">=</a> <a id="10507" href="Motivation.POPLMark2.STLC.html#10251" class="Function">cut⁻¹^↝</a> <a id="10515" href="Motivation.POPLMark2.STLC.html#10469" class="Bound">c</a> <a id="10517" href="Motivation.POPLMark2.STLC.html#10481" class="Bound">r</a> <a id="10519" class="Keyword">in</a> <a id="10522" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="10526" href="Motivation.POPLMark2.STLC.html#10496" class="Bound">c′</a> <a id="10529" class="Symbol">_</a> <a id="10531" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10533" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="10538" class="Symbol">(</a><a id="10539" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙</a> <a id="10543" class="Symbol">_)</a> <a id="10546" href="Motivation.POPLMark2.STLC.html#10501" class="Bound">r′</a>
<a id="10549" href="Motivation.POPLMark2.STLC.html#10251" class="Function">cut⁻¹^↝</a> <a id="10557" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a>         <a id="10568" class="Symbol">()</a>

<a id="cut⁻¹^sn"></a><a id="10572" href="Motivation.POPLMark2.STLC.html#10572" class="Function">cut⁻¹^sn</a> <a id="10581" class="Symbol">:</a> <a id="10583" class="Symbol">∀</a> <a id="10585" class="Symbol">{</a><a id="10586" href="Motivation.POPLMark2.STLC.html#10586" class="Bound">Γ</a> <a id="10588" href="Motivation.POPLMark2.STLC.html#10588" class="Bound">α</a> <a id="10590" href="Motivation.POPLMark2.STLC.html#10590" class="Bound">σ</a><a id="10591" class="Symbol">}</a> <a id="10593" href="Motivation.POPLMark2.STLC.html#10593" class="Bound">t</a> <a id="10595" href="Motivation.POPLMark2.STLC.html#10595" class="Bound">c</a> <a id="10597" class="Symbol">→</a> <a id="10599" href="Motivation.POPLMark2.STLC.html#10586" class="Bound">Γ</a> <a id="10601" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="10605" href="Motivation.POPLMark2.STLC.html#10590" class="Bound">σ</a> <a id="10607" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="10609" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="10613" href="Motivation.POPLMark2.STLC.html#10593" class="Bound">t</a> <a id="10615" href="Motivation.POPLMark2.STLC.html#10595" class="Bound">c</a> <a id="10617" class="Symbol">→</a> <a id="10619" class="Symbol">(</a><a id="10620" href="Motivation.POPLMark2.STLC.html#10586" class="Bound">Γ</a> <a id="10622" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∣</a> <a id="10624" href="Motivation.POPLMark2.STLC.html#10588" class="Bound">α</a> <a id="10626" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">⊢sn</a> <a id="10630" href="Motivation.POPLMark2.STLC.html#10590" class="Bound">σ</a> <a id="10632" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∋</a> <a id="10634" href="Motivation.POPLMark2.STLC.html#10595" class="Bound">c</a><a id="10635" class="Symbol">)</a> <a id="10637" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="10639" class="Symbol">(</a><a id="10640" href="Motivation.POPLMark2.STLC.html#10586" class="Bound">Γ</a> <a id="10642" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="10646" href="Motivation.POPLMark2.STLC.html#10588" class="Bound">α</a> <a id="10648" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="10650" href="Motivation.POPLMark2.STLC.html#10593" class="Bound">t</a><a id="10651" class="Symbol">)</a>
<a id="10653" href="Motivation.POPLMark2.STLC.html#10572" class="Function">cut⁻¹^sn</a> <a id="10662" href="Motivation.POPLMark2.STLC.html#10662" class="Bound">t</a> <a id="10664" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a>        <a id="10674" href="Motivation.POPLMark2.STLC.html#10674" class="Bound">t^sn</a>     <a id="10683" class="Symbol">=</a> <a id="10685" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a> <a id="10688" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10690" href="Motivation.POPLMark2.STLC.html#10674" class="Bound">t^sn</a>
<a id="10695" href="Motivation.POPLMark2.STLC.html#10572" class="Function">cut⁻¹^sn</a> <a id="10704" href="Motivation.POPLMark2.STLC.html#10704" class="Bound">t</a> <a id="10706" class="Symbol">(</a><a id="10707" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="10711" href="Motivation.POPLMark2.STLC.html#10711" class="Bound">c</a> <a id="10713" href="Motivation.POPLMark2.STLC.html#10713" class="Bound">u</a><a id="10714" class="Symbol">)</a> <a id="10716" href="Motivation.POPLMark2.STLC.html#10716" class="Bound">c[t]u^sn</a> <a id="10725" class="Symbol">=</a>
  <a id="10729" class="Keyword">let</a> <a id="10733" class="Symbol">(</a><a id="10734" href="Motivation.POPLMark2.STLC.html#10734" class="Bound">c[t]^sn</a> <a id="10742" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10744" href="Motivation.POPLMark2.STLC.html#10744" class="Bound">u^sn</a><a id="10748" class="Symbol">)</a> <a id="10750" class="Symbol">=</a> <a id="10752" href="Motivation.POPLMark2.STLC.html#7926" class="Function">`∙⁻¹^sn</a> <a id="10760" href="Motivation.POPLMark2.STLC.html#10716" class="Bound">c[t]u^sn</a> <a id="10769" class="Keyword">in</a>
  <a id="10774" class="Keyword">let</a> <a id="10778" class="Symbol">(</a><a id="10779" href="Motivation.POPLMark2.STLC.html#10779" class="Bound">c^sn</a> <a id="10784" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10786" href="Motivation.POPLMark2.STLC.html#10786" class="Bound">t^sn</a><a id="10790" class="Symbol">)</a> <a id="10792" class="Symbol">=</a> <a id="10794" href="Motivation.POPLMark2.STLC.html#10572" class="Function">cut⁻¹^sn</a> <a id="10803" href="Motivation.POPLMark2.STLC.html#10704" class="Bound">t</a> <a id="10805" href="Motivation.POPLMark2.STLC.html#10711" class="Bound">c</a> <a id="10807" href="Motivation.POPLMark2.STLC.html#10734" class="Bound">c[t]^sn</a> <a id="10815" class="Keyword">in</a> <a id="10818" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="10822" href="Motivation.POPLMark2.STLC.html#10779" class="Bound">c^sn</a> <a id="10827" href="Motivation.POPLMark2.STLC.html#10744" class="Bound">u^sn</a> <a id="10832" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10834" href="Motivation.POPLMark2.STLC.html#10786" class="Bound">t^sn</a>

<a id="10840" class="Comment">-- Lemma 4.7 Closure properties of neutral terms</a>
<a id="10889" class="Comment">-- 1.</a>
<a id="`var^sne"></a><a id="10895" href="Motivation.POPLMark2.STLC.html#10895" class="Function">`var^sne</a> <a id="10904" class="Symbol">:</a> <a id="10906" class="Symbol">∀</a> <a id="10908" class="Symbol">{</a><a id="10909" href="Motivation.POPLMark2.STLC.html#10909" class="Bound">σ</a> <a id="10911" href="Motivation.POPLMark2.STLC.html#10911" class="Bound">Γ</a><a id="10912" class="Symbol">}</a> <a id="10914" href="Motivation.POPLMark2.STLC.html#10914" class="Bound">v</a> <a id="10916" class="Symbol">→</a> <a id="10918" href="Motivation.POPLMark2.STLC.html#10911" class="Bound">Γ</a> <a id="10920" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="10924" href="Motivation.POPLMark2.STLC.html#10909" class="Bound">σ</a> <a id="10926" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="10928" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="10933" href="Motivation.POPLMark2.STLC.html#10914" class="Bound">v</a>
<a id="10935" href="Motivation.POPLMark2.STLC.html#10895" class="Function">`var^sne</a> <a id="10944" href="Motivation.POPLMark2.STLC.html#10944" class="Bound">v</a> <a id="10946" class="Symbol">=</a> <a id="10948" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="10951" class="Symbol">(λ</a> <a id="10954" class="Symbol">())</a>

<a id="10959" class="Comment">-- 2.</a>
<a id="`∙^sne"></a><a id="10965" href="Motivation.POPLMark2.STLC.html#10965" class="Function">`∙^sne</a> <a id="10972" class="Symbol">:</a> <a id="10974" class="Symbol">∀</a> <a id="10976" class="Symbol">{</a><a id="10977" href="Motivation.POPLMark2.STLC.html#10977" class="Bound">Γ</a> <a id="10979" href="Motivation.POPLMark2.STLC.html#10979" class="Bound">α</a> <a id="10981" href="Motivation.POPLMark2.STLC.html#10981" class="Bound">σ</a> <a id="10983" href="Motivation.POPLMark2.STLC.html#10983" class="Bound">τ</a> <a id="10985" href="Motivation.POPLMark2.STLC.html#10985" class="Bound">t</a><a id="10986" class="Symbol">}</a> <a id="10988" class="Symbol">{</a><a id="10989" href="Motivation.POPLMark2.STLC.html#10989" class="Bound">v</a> <a id="10991" class="Symbol">:</a> <a id="10993" href="var.html#553" class="Datatype">Var</a> <a id="10997" href="Motivation.POPLMark2.STLC.html#10979" class="Bound">α</a> <a id="10999" href="Motivation.POPLMark2.STLC.html#10977" class="Bound">Γ</a><a id="11000" class="Symbol">}</a> <a id="11002" href="Motivation.POPLMark2.STLC.html#11002" class="Bound">c</a> <a id="11004" class="Symbol">→</a> <a id="11006" href="Motivation.POPLMark2.STLC.html#10977" class="Bound">Γ</a> <a id="11008" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="11012" href="Motivation.POPLMark2.STLC.html#10981" class="Bound">σ</a> <a id="11014" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="11016" href="Motivation.POPLMark2.STLC.html#10983" class="Bound">τ</a> <a id="11018" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="11020" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="11024" class="Symbol">(</a><a id="11025" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="11030" href="Motivation.POPLMark2.STLC.html#10989" class="Bound">v</a><a id="11031" class="Symbol">)</a> <a id="11033" href="Motivation.POPLMark2.STLC.html#11002" class="Bound">c</a> <a id="11035" class="Symbol">→</a> <a id="11037" href="Motivation.POPLMark2.STLC.html#10977" class="Bound">Γ</a> <a id="11039" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="11043" href="Motivation.POPLMark2.STLC.html#10981" class="Bound">σ</a> <a id="11045" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="11047" href="Motivation.POPLMark2.STLC.html#10985" class="Bound">t</a> <a id="11049" class="Symbol">→</a>
         <a id="11060" href="Motivation.POPLMark2.STLC.html#10977" class="Bound">Γ</a> <a id="11062" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="11066" href="Motivation.POPLMark2.STLC.html#10983" class="Bound">τ</a> <a id="11068" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="11070" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="11074" class="Symbol">(</a><a id="11075" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="11080" href="Motivation.POPLMark2.STLC.html#10989" class="Bound">v</a><a id="11081" class="Symbol">)</a> <a id="11083" class="Symbol">(</a><a id="11084" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="11088" href="Motivation.POPLMark2.STLC.html#11002" class="Bound">c</a> <a id="11090" href="Motivation.POPLMark2.STLC.html#10985" class="Bound">t</a><a id="11091" class="Symbol">)</a>
<a id="11093" href="Motivation.POPLMark2.STLC.html#10965" class="Function">`∙^sne</a> <a id="11100" href="Motivation.POPLMark2.STLC.html#11100" class="Bound">c</a> <a id="11102" href="Motivation.POPLMark2.STLC.html#11102" class="Bound">f^sne</a> <a id="11108" href="Motivation.POPLMark2.STLC.html#11108" class="Bound">t^sn</a> <a id="11113" class="Symbol">=</a> <a id="11115" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="11118" class="Symbol">(</a><a id="11119" href="Motivation.POPLMark2.STLC.html#11145" class="Function">go</a> <a id="11122" href="Motivation.POPLMark2.STLC.html#11100" class="Bound">c</a> <a id="11124" href="Motivation.POPLMark2.STLC.html#11102" class="Bound">f^sne</a> <a id="11130" href="Motivation.POPLMark2.STLC.html#11108" class="Bound">t^sn</a><a id="11134" class="Symbol">)</a> <a id="11136" class="Keyword">where</a>

  <a id="11145" href="Motivation.POPLMark2.STLC.html#11145" class="Function">go</a> <a id="11148" class="Symbol">:</a> <a id="11150" class="Symbol">∀</a> <a id="11152" class="Symbol">{</a><a id="11153" href="Motivation.POPLMark2.STLC.html#11153" class="Bound">Γ</a> <a id="11155" href="Motivation.POPLMark2.STLC.html#11155" class="Bound">α</a> <a id="11157" href="Motivation.POPLMark2.STLC.html#11157" class="Bound">σ</a> <a id="11159" href="Motivation.POPLMark2.STLC.html#11159" class="Bound">τ</a> <a id="11161" href="Motivation.POPLMark2.STLC.html#11161" class="Bound">t</a><a id="11162" class="Symbol">}</a> <a id="11164" class="Symbol">{</a><a id="11165" href="Motivation.POPLMark2.STLC.html#11165" class="Bound">v</a> <a id="11167" class="Symbol">:</a> <a id="11169" href="var.html#553" class="Datatype">Var</a> <a id="11173" href="Motivation.POPLMark2.STLC.html#11155" class="Bound">α</a> <a id="11175" href="Motivation.POPLMark2.STLC.html#11153" class="Bound">Γ</a><a id="11176" class="Symbol">}</a> <a id="11178" href="Motivation.POPLMark2.STLC.html#11178" class="Bound">c</a> <a id="11180" class="Symbol">→</a> <a id="11182" href="Motivation.POPLMark2.STLC.html#11153" class="Bound">Γ</a> <a id="11184" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="11188" href="Motivation.POPLMark2.STLC.html#11157" class="Bound">σ</a> <a id="11190" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="11192" href="Motivation.POPLMark2.STLC.html#11159" class="Bound">τ</a> <a id="11194" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="11196" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="11200" class="Symbol">(</a><a id="11201" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="11206" href="Motivation.POPLMark2.STLC.html#11165" class="Bound">v</a><a id="11207" class="Symbol">)</a> <a id="11209" href="Motivation.POPLMark2.STLC.html#11178" class="Bound">c</a> <a id="11211" class="Symbol">→</a> <a id="11213" href="Motivation.POPLMark2.STLC.html#11153" class="Bound">Γ</a> <a id="11215" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="11219" href="Motivation.POPLMark2.STLC.html#11157" class="Bound">σ</a> <a id="11221" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="11223" href="Motivation.POPLMark2.STLC.html#11161" class="Bound">t</a> <a id="11225" class="Symbol">→</a>
       <a id="11234" href="Motivation.POPLMark2.STLC.html#6155" class="Function">Closed</a> <a id="11241" class="Symbol">(</a><a id="11242" href="Motivation.POPLMark2.STLC.html#11153" class="Bound">Γ</a> <a id="11244" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="11246" href="Motivation.POPLMark2.STLC.html#11159" class="Bound">τ</a> <a id="11248" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋_↝_</a><a id="11252" class="Symbol">)</a> <a id="11254" class="Symbol">(</a><a id="11255" href="Motivation.POPLMark2.STLC.html#11153" class="Bound">Γ</a> <a id="11257" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="11261" href="Motivation.POPLMark2.STLC.html#11159" class="Bound">τ</a> <a id="11263" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋_</a><a id="11265" class="Symbol">)</a> <a id="11267" class="Symbol">(</a><a id="11268" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="11272" class="Symbol">(</a><a id="11273" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="11278" href="Motivation.POPLMark2.STLC.html#11165" class="Bound">v</a><a id="11279" class="Symbol">)</a> <a id="11281" class="Symbol">(</a><a id="11282" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="11286" href="Motivation.POPLMark2.STLC.html#11178" class="Bound">c</a> <a id="11288" href="Motivation.POPLMark2.STLC.html#11161" class="Bound">t</a><a id="11289" class="Symbol">))</a>
  <a id="11294" href="Motivation.POPLMark2.STLC.html#11145" class="Function">go</a> <a id="11297" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a>        <a id="11307" href="Motivation.POPLMark2.STLC.html#11307" class="Bound">f^sne</a>      <a id="11318" href="Motivation.POPLMark2.STLC.html#11318" class="Bound">t^sn</a>      <a id="11328" class="Symbol">(</a><a id="11329" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="11334" class="Symbol">()</a> <a id="11337" href="Motivation.POPLMark2.STLC.html#11337" class="Bound">t</a><a id="11338" class="Symbol">)</a>
  <a id="11342" href="Motivation.POPLMark2.STLC.html#11145" class="CatchallClause Function">go</a><a id="11344" class="CatchallClause"> </a><a id="11345" href="Motivation.POPLMark2.STLC.html#11345" class="CatchallClause Bound">c</a><a id="11346" class="CatchallClause">         </a><a id="11355" href="Motivation.POPLMark2.STLC.html#11355" class="CatchallClause Bound">f^sne</a><a id="11360" class="CatchallClause">      </a><a id="11366" class="CatchallClause Symbol">(</a><a id="11367" href="Motivation.POPLMark2.STLC.html#6386" class="CatchallClause InductiveConstructor">sn</a><a id="11369" class="CatchallClause"> </a><a id="11370" href="Motivation.POPLMark2.STLC.html#11370" class="CatchallClause Bound">t^sn</a><a id="11374" class="CatchallClause Symbol">)</a><a id="11375" class="CatchallClause"> </a><a id="11376" class="CatchallClause Symbol">(</a><a id="11377" href="Motivation.POPLMark2.STLC.html#2407" class="CatchallClause InductiveConstructor">[∙]₁</a><a id="11381" class="CatchallClause"> </a><a id="11382" class="CatchallClause Symbol">_</a><a id="11383" class="CatchallClause"> </a><a id="11384" href="Motivation.POPLMark2.STLC.html#11384" class="CatchallClause Bound">r</a><a id="11385" class="CatchallClause Symbol">)</a> <a id="11387" class="Symbol">=</a> <a id="11389" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="11392" class="Symbol">(</a><a id="11393" href="Motivation.POPLMark2.STLC.html#11145" class="Function">go</a> <a id="11396" href="Motivation.POPLMark2.STLC.html#11345" class="Bound">c</a> <a id="11398" href="Motivation.POPLMark2.STLC.html#11355" class="Bound">f^sne</a> <a id="11404" class="Symbol">(</a><a id="11405" href="Motivation.POPLMark2.STLC.html#11370" class="Bound">t^sn</a> <a id="11410" href="Motivation.POPLMark2.STLC.html#11384" class="Bound">r</a><a id="11411" class="Symbol">))</a>
  <a id="11416" href="Motivation.POPLMark2.STLC.html#11145" class="CatchallClause Function">go</a><a id="11418" class="CatchallClause"> </a><a id="11419" href="Motivation.POPLMark2.STLC.html#11419" class="CatchallClause Bound">c</a><a id="11420" class="CatchallClause">         </a><a id="11429" class="CatchallClause Symbol">(</a><a id="11430" href="Motivation.POPLMark2.STLC.html#6386" class="CatchallClause InductiveConstructor">sn</a><a id="11432" class="CatchallClause"> </a><a id="11433" href="Motivation.POPLMark2.STLC.html#11433" class="CatchallClause Bound">f^sne</a><a id="11438" class="CatchallClause Symbol">)</a><a id="11439" class="CatchallClause"> </a><a id="11440" href="Motivation.POPLMark2.STLC.html#11440" class="CatchallClause Bound">t^sn</a><a id="11444" class="CatchallClause">      </a><a id="11450" class="CatchallClause Symbol">(</a><a id="11451" href="Motivation.POPLMark2.STLC.html#2472" class="CatchallClause InductiveConstructor">[∙]₂</a><a id="11455" class="CatchallClause"> </a><a id="11456" href="Motivation.POPLMark2.STLC.html#11456" class="CatchallClause Bound">r</a><a id="11457" class="CatchallClause"> </a><a id="11458" href="Motivation.POPLMark2.STLC.html#11458" class="CatchallClause Bound">t</a><a id="11459" class="CatchallClause Symbol">)</a> <a id="11461" class="Symbol">=</a>
    <a id="11467" class="Keyword">let</a> <a id="11471" class="Symbol">(</a><a id="11472" href="Motivation.POPLMark2.STLC.html#11472" class="Bound">c′</a> <a id="11475" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="11477" href="Motivation.POPLMark2.STLC.html#11477" class="Bound">eq</a><a id="11479" class="Symbol">)</a> <a id="11481" class="Symbol">=</a> <a id="11483" href="Motivation.POPLMark2.STLC.html#10251" class="Function">cut⁻¹^↝</a> <a id="11491" href="Motivation.POPLMark2.STLC.html#11419" class="Bound">c</a> <a id="11493" href="Motivation.POPLMark2.STLC.html#11456" class="Bound">r</a> <a id="11495" class="Keyword">in</a>
    <a id="11502" class="Keyword">let</a> <a id="11506" href="Motivation.POPLMark2.STLC.html#11506" class="Bound">r′</a> <a id="11509" class="Symbol">=</a> <a id="11511" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="11517" class="Symbol">(_</a> <a id="11520" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="11522" class="Symbol">_</a> <a id="11524" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋</a> <a id="11526" class="Symbol">_</a> <a id="11528" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">↝_</a><a id="11530" class="Symbol">)</a> <a id="11532" href="Motivation.POPLMark2.STLC.html#11477" class="Bound">eq</a> <a id="11535" href="Motivation.POPLMark2.STLC.html#11456" class="Bound">r</a> <a id="11537" class="Keyword">in</a>
    <a id="11544" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="11550" class="Symbol">(λ</a> <a id="11553" href="Motivation.POPLMark2.STLC.html#11553" class="Bound">g</a> <a id="11555" class="Symbol">→</a> <a id="11557" class="Symbol">_</a> <a id="11559" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="11563" class="Symbol">_</a> <a id="11565" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="11567" href="Motivation.POPLMark2.STLC.html#11553" class="Bound">g</a> <a id="11569" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="11572" href="Motivation.POPLMark2.STLC.html#11458" class="Bound">t</a><a id="11573" class="Symbol">)</a> <a id="11575" class="Symbol">(</a><a id="11576" href="Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a> <a id="11580" href="Motivation.POPLMark2.STLC.html#11477" class="Bound">eq</a><a id="11582" class="Symbol">)</a> <a id="11584" class="Symbol">(</a><a id="11585" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="11588" class="Symbol">(</a><a id="11589" href="Motivation.POPLMark2.STLC.html#11145" class="Function">go</a> <a id="11592" href="Motivation.POPLMark2.STLC.html#11472" class="Bound">c′</a> <a id="11595" class="Symbol">(</a><a id="11596" href="Motivation.POPLMark2.STLC.html#11433" class="Bound">f^sne</a> <a id="11602" href="Motivation.POPLMark2.STLC.html#11506" class="Bound">r′</a><a id="11604" class="Symbol">)</a> <a id="11606" href="Motivation.POPLMark2.STLC.html#11440" class="Bound">t^sn</a><a id="11610" class="Symbol">))</a>

<a id="cut^sn"></a><a id="11614" href="Motivation.POPLMark2.STLC.html#11614" class="Function">cut^sn</a> <a id="11621" class="Symbol">:</a> <a id="11623" class="Symbol">∀</a> <a id="11625" class="Symbol">{</a><a id="11626" href="Motivation.POPLMark2.STLC.html#11626" class="Bound">Γ</a> <a id="11628" href="Motivation.POPLMark2.STLC.html#11628" class="Bound">α</a> <a id="11630" href="Motivation.POPLMark2.STLC.html#11630" class="Bound">σ</a><a id="11631" class="Symbol">}</a> <a id="11633" href="Motivation.POPLMark2.STLC.html#11633" class="Bound">v</a> <a id="11635" class="Symbol">{</a><a id="11636" href="Motivation.POPLMark2.STLC.html#11636" class="Bound">c</a><a id="11637" class="Symbol">}</a> <a id="11639" class="Symbol">→</a> <a id="11641" href="Motivation.POPLMark2.STLC.html#11626" class="Bound">Γ</a> <a id="11643" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∣</a> <a id="11645" href="Motivation.POPLMark2.STLC.html#11628" class="Bound">α</a> <a id="11647" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">⊢sn</a> <a id="11651" href="Motivation.POPLMark2.STLC.html#11630" class="Bound">σ</a> <a id="11653" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∋</a> <a id="11655" href="Motivation.POPLMark2.STLC.html#11636" class="Bound">c</a> <a id="11657" class="Symbol">→</a> <a id="11659" href="Motivation.POPLMark2.STLC.html#11626" class="Bound">Γ</a> <a id="11661" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="11665" href="Motivation.POPLMark2.STLC.html#11630" class="Bound">σ</a> <a id="11667" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="11669" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="11673" class="Symbol">(</a><a id="11674" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="11679" href="Motivation.POPLMark2.STLC.html#11633" class="Bound">v</a><a id="11680" class="Symbol">)</a> <a id="11682" href="Motivation.POPLMark2.STLC.html#11636" class="Bound">c</a>
<a id="11684" href="Motivation.POPLMark2.STLC.html#11614" class="Function">cut^sn</a> <a id="11691" href="Motivation.POPLMark2.STLC.html#11691" class="Bound">v</a>           <a id="11703" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a>              <a id="11719" class="Symbol">=</a> <a id="11721" href="Motivation.POPLMark2.STLC.html#10895" class="Function">`var^sne</a> <a id="11730" href="Motivation.POPLMark2.STLC.html#11691" class="Bound">v</a>
<a id="11732" href="Motivation.POPLMark2.STLC.html#11614" class="Function">cut^sn</a> <a id="11739" href="Motivation.POPLMark2.STLC.html#11739" class="Bound">v</a> <a id="11741" class="Symbol">{</a><a id="11742" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="11746" href="Motivation.POPLMark2.STLC.html#11746" class="Bound">c</a> <a id="11748" href="Motivation.POPLMark2.STLC.html#11748" class="Bound">t</a><a id="11749" class="Symbol">}</a> <a id="11751" class="Symbol">(</a><a id="11752" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="11756" href="Motivation.POPLMark2.STLC.html#11756" class="Bound">c^sn</a> <a id="11761" href="Motivation.POPLMark2.STLC.html#11761" class="Bound">t^sn</a><a id="11765" class="Symbol">)</a> <a id="11767" class="Symbol">=</a> <a id="11769" href="Motivation.POPLMark2.STLC.html#10965" class="Function">`∙^sne</a> <a id="11776" href="Motivation.POPLMark2.STLC.html#11746" class="Bound">c</a> <a id="11778" class="Symbol">(</a><a id="11779" href="Motivation.POPLMark2.STLC.html#11614" class="Function">cut^sn</a> <a id="11786" href="Motivation.POPLMark2.STLC.html#11739" class="Bound">v</a> <a id="11788" href="Motivation.POPLMark2.STLC.html#11756" class="Bound">c^sn</a><a id="11792" class="Symbol">)</a> <a id="11794" href="Motivation.POPLMark2.STLC.html#11761" class="Bound">t^sn</a>


<a id="11801" class="Comment">-- Lemma 4.8 Composition of evaluation contexts</a>
<a id="_∘C_"></a><a id="11849" href="Motivation.POPLMark2.STLC.html#11849" class="Function Operator">_∘C_</a> <a id="11854" class="Symbol">:</a> <a id="11856" class="Symbol">∀</a> <a id="11858" class="Symbol">{</a><a id="11859" href="Motivation.POPLMark2.STLC.html#11859" class="Bound">Γ</a> <a id="11861" href="Motivation.POPLMark2.STLC.html#11861" class="Bound">α</a> <a id="11863" href="Motivation.POPLMark2.STLC.html#11863" class="Bound">β</a> <a id="11865" href="Motivation.POPLMark2.STLC.html#11865" class="Bound">σ</a><a id="11866" class="Symbol">}</a> <a id="11868" class="Symbol">→</a> <a id="11870" href="Motivation.POPLMark2.STLC.html#11859" class="Bound">Γ</a> <a id="11872" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="11874" href="Motivation.POPLMark2.STLC.html#11863" class="Bound">β</a> <a id="11876" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="11878" href="Motivation.POPLMark2.STLC.html#11865" class="Bound">σ</a> <a id="11880" class="Symbol">→</a> <a id="11882" href="Motivation.POPLMark2.STLC.html#11859" class="Bound">Γ</a> <a id="11884" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="11886" href="Motivation.POPLMark2.STLC.html#11861" class="Bound">α</a> <a id="11888" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="11890" href="Motivation.POPLMark2.STLC.html#11863" class="Bound">β</a> <a id="11892" class="Symbol">→</a> <a id="11894" href="Motivation.POPLMark2.STLC.html#11859" class="Bound">Γ</a> <a id="11896" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="11898" href="Motivation.POPLMark2.STLC.html#11861" class="Bound">α</a> <a id="11900" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="11902" href="Motivation.POPLMark2.STLC.html#11865" class="Bound">σ</a>
<a id="11904" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a>      <a id="11912" href="Motivation.POPLMark2.STLC.html#11849" class="Function Operator">∘C</a> <a id="11915" href="Motivation.POPLMark2.STLC.html#11915" class="Bound">c′</a> <a id="11918" class="Symbol">=</a> <a id="11920" href="Motivation.POPLMark2.STLC.html#11915" class="Bound">c′</a>
<a id="11923" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="11927" href="Motivation.POPLMark2.STLC.html#11927" class="Bound">c</a> <a id="11929" href="Motivation.POPLMark2.STLC.html#11929" class="Bound">t</a> <a id="11931" href="Motivation.POPLMark2.STLC.html#11849" class="Function Operator">∘C</a> <a id="11934" href="Motivation.POPLMark2.STLC.html#11934" class="Bound">c′</a> <a id="11937" class="Symbol">=</a> <a id="11939" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="11943" class="Symbol">(</a><a id="11944" href="Motivation.POPLMark2.STLC.html#11927" class="Bound">c</a> <a id="11946" href="Motivation.POPLMark2.STLC.html#11849" class="Function Operator">∘C</a> <a id="11949" href="Motivation.POPLMark2.STLC.html#11934" class="Bound">c′</a><a id="11951" class="Symbol">)</a> <a id="11953" href="Motivation.POPLMark2.STLC.html#11929" class="Bound">t</a>

<a id="cut-∘C"></a><a id="11956" href="Motivation.POPLMark2.STLC.html#11956" class="Function">cut-∘C</a> <a id="11963" class="Symbol">:</a> <a id="11965" class="Symbol">∀</a> <a id="11967" class="Symbol">{</a><a id="11968" href="Motivation.POPLMark2.STLC.html#11968" class="Bound">Γ</a> <a id="11970" href="Motivation.POPLMark2.STLC.html#11970" class="Bound">α</a> <a id="11972" href="Motivation.POPLMark2.STLC.html#11972" class="Bound">β</a> <a id="11974" href="Motivation.POPLMark2.STLC.html#11974" class="Bound">σ</a><a id="11975" class="Symbol">}</a> <a id="11977" href="Motivation.POPLMark2.STLC.html#11977" class="Bound">t</a> <a id="11979" class="Symbol">(</a><a id="11980" href="Motivation.POPLMark2.STLC.html#11980" class="Bound">c</a> <a id="11982" class="Symbol">:</a> <a id="11984" href="Motivation.POPLMark2.STLC.html#11968" class="Bound">Γ</a> <a id="11986" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="11988" href="Motivation.POPLMark2.STLC.html#11972" class="Bound">β</a> <a id="11990" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="11992" href="Motivation.POPLMark2.STLC.html#11974" class="Bound">σ</a><a id="11993" class="Symbol">)</a> <a id="11995" class="Symbol">(</a><a id="11996" href="Motivation.POPLMark2.STLC.html#11996" class="Bound">c′</a> <a id="11999" class="Symbol">:</a> <a id="12001" href="Motivation.POPLMark2.STLC.html#11968" class="Bound">Γ</a> <a id="12003" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="12005" href="Motivation.POPLMark2.STLC.html#11970" class="Bound">α</a> <a id="12007" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="12009" href="Motivation.POPLMark2.STLC.html#11972" class="Bound">β</a><a id="12010" class="Symbol">)</a> <a id="12012" class="Symbol">→</a>
         <a id="12023" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="12027" class="Symbol">(</a><a id="12028" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="12032" href="Motivation.POPLMark2.STLC.html#11977" class="Bound">t</a> <a id="12034" href="Motivation.POPLMark2.STLC.html#11996" class="Bound">c′</a><a id="12036" class="Symbol">)</a> <a id="12038" href="Motivation.POPLMark2.STLC.html#11980" class="Bound">c</a> <a id="12040" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="12042" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="12046" href="Motivation.POPLMark2.STLC.html#11977" class="Bound">t</a> <a id="12048" class="Symbol">(</a><a id="12049" href="Motivation.POPLMark2.STLC.html#11980" class="Bound">c</a> <a id="12051" href="Motivation.POPLMark2.STLC.html#11849" class="Function Operator">∘C</a> <a id="12054" href="Motivation.POPLMark2.STLC.html#11996" class="Bound">c′</a><a id="12056" class="Symbol">)</a>
<a id="12058" href="Motivation.POPLMark2.STLC.html#11956" class="Function">cut-∘C</a> <a id="12065" href="Motivation.POPLMark2.STLC.html#12065" class="Bound">t</a> <a id="12067" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a>        <a id="12077" href="Motivation.POPLMark2.STLC.html#12077" class="Bound">c′</a> <a id="12080" class="Symbol">=</a> <a id="12082" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
<a id="12087" href="Motivation.POPLMark2.STLC.html#11956" class="Function">cut-∘C</a> <a id="12094" href="Motivation.POPLMark2.STLC.html#12094" class="Bound">t</a> <a id="12096" class="Symbol">(</a><a id="12097" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="12101" href="Motivation.POPLMark2.STLC.html#12101" class="Bound">c</a> <a id="12103" href="Motivation.POPLMark2.STLC.html#12103" class="Bound">u</a><a id="12104" class="Symbol">)</a> <a id="12106" href="Motivation.POPLMark2.STLC.html#12106" class="Bound">c′</a> <a id="12109" class="Symbol">=</a> <a id="12111" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="12116" class="Symbol">(</a><a id="12117" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙</a> <a id="12121" href="Motivation.POPLMark2.STLC.html#12103" class="Bound">u</a><a id="12122" class="Symbol">)</a> <a id="12124" class="Symbol">(</a><a id="12125" href="Motivation.POPLMark2.STLC.html#11956" class="Function">cut-∘C</a> <a id="12132" href="Motivation.POPLMark2.STLC.html#12094" class="Bound">t</a> <a id="12134" href="Motivation.POPLMark2.STLC.html#12101" class="Bound">c</a> <a id="12136" href="Motivation.POPLMark2.STLC.html#12106" class="Bound">c′</a><a id="12138" class="Symbol">)</a>

<a id="∘C^R"></a><a id="12141" href="Motivation.POPLMark2.STLC.html#12141" class="Function">∘C^R</a> <a id="12146" class="Symbol">:</a> <a id="12148" class="Symbol">∀</a> <a id="12150" class="Symbol">{</a><a id="12151" href="Motivation.POPLMark2.STLC.html#12151" class="Bound">Γ</a> <a id="12153" href="Motivation.POPLMark2.STLC.html#12153" class="Bound">α</a> <a id="12155" href="Motivation.POPLMark2.STLC.html#12155" class="Bound">R</a> <a id="12157" href="Motivation.POPLMark2.STLC.html#12157" class="Bound">β</a> <a id="12159" href="Motivation.POPLMark2.STLC.html#12159" class="Bound">σ</a> <a id="12161" href="Motivation.POPLMark2.STLC.html#12161" class="Bound">c</a> <a id="12163" href="Motivation.POPLMark2.STLC.html#12163" class="Bound">c′</a><a id="12165" class="Symbol">}</a> <a id="12167" class="Symbol">→</a> <a id="12169" href="Motivation.POPLMark2.STLC.html#12151" class="Bound">Γ</a> <a id="12171" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">∣</a> <a id="12173" href="Motivation.POPLMark2.STLC.html#12157" class="Bound">β</a> <a id="12175" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">⊢[</a> <a id="12178" href="Motivation.POPLMark2.STLC.html#12155" class="Bound">R</a> <a id="12180" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">]</a> <a id="12182" href="Motivation.POPLMark2.STLC.html#12159" class="Bound">σ</a> <a id="12184" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">∋</a> <a id="12186" href="Motivation.POPLMark2.STLC.html#12161" class="Bound">c</a> <a id="12188" class="Symbol">→</a> <a id="12190" href="Motivation.POPLMark2.STLC.html#12151" class="Bound">Γ</a> <a id="12192" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">∣</a> <a id="12194" href="Motivation.POPLMark2.STLC.html#12153" class="Bound">α</a> <a id="12196" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">⊢[</a> <a id="12199" href="Motivation.POPLMark2.STLC.html#12155" class="Bound">R</a> <a id="12201" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">]</a> <a id="12203" href="Motivation.POPLMark2.STLC.html#12157" class="Bound">β</a> <a id="12205" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">∋</a> <a id="12207" href="Motivation.POPLMark2.STLC.html#12163" class="Bound">c′</a> <a id="12210" class="Symbol">→</a> <a id="12212" href="Motivation.POPLMark2.STLC.html#12151" class="Bound">Γ</a> <a id="12214" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">∣</a> <a id="12216" href="Motivation.POPLMark2.STLC.html#12153" class="Bound">α</a> <a id="12218" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">⊢[</a> <a id="12221" href="Motivation.POPLMark2.STLC.html#12155" class="Bound">R</a> <a id="12223" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">]</a> <a id="12225" href="Motivation.POPLMark2.STLC.html#12159" class="Bound">σ</a> <a id="12227" href="Motivation.POPLMark2.STLC.html#8707" class="Function Operator">∋</a> <a id="12229" href="Motivation.POPLMark2.STLC.html#12161" class="Bound">c</a> <a id="12231" href="Motivation.POPLMark2.STLC.html#11849" class="Function Operator">∘C</a> <a id="12234" href="Motivation.POPLMark2.STLC.html#12163" class="Bound">c′</a>
<a id="12237" href="Motivation.POPLMark2.STLC.html#12141" class="Function">∘C^R</a> <a id="12242" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a>              <a id="12258" href="Motivation.POPLMark2.STLC.html#12258" class="Bound">c′^R</a> <a id="12263" class="Symbol">=</a> <a id="12265" href="Motivation.POPLMark2.STLC.html#12258" class="Bound">c′^R</a>
<a id="12270" href="Motivation.POPLMark2.STLC.html#12141" class="Function">∘C^R</a> <a id="12275" class="Symbol">(</a><a id="12276" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="12280" href="Motivation.POPLMark2.STLC.html#12280" class="Bound">c^R</a> <a id="12284" href="Motivation.POPLMark2.STLC.html#12284" class="Bound">t^R</a><a id="12287" class="Symbol">)</a> <a id="12289" href="Motivation.POPLMark2.STLC.html#12289" class="Bound">c′^R</a> <a id="12294" class="Symbol">=</a> <a id="12296" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="12300" class="Symbol">(</a><a id="12301" href="Motivation.POPLMark2.STLC.html#12141" class="Function">∘C^R</a> <a id="12306" href="Motivation.POPLMark2.STLC.html#12280" class="Bound">c^R</a> <a id="12310" href="Motivation.POPLMark2.STLC.html#12289" class="Bound">c′^R</a><a id="12314" class="Symbol">)</a> <a id="12316" href="Motivation.POPLMark2.STLC.html#12284" class="Bound">t^R</a>

<a id="12321" class="Comment">-- Lemma 4.9</a>
<a id="β⁻¹^Closed-sn"></a><a id="12334" href="Motivation.POPLMark2.STLC.html#12334" class="Function">β⁻¹^Closed-sn</a> <a id="12348" class="Symbol">:</a> <a id="12350" class="Symbol">∀</a> <a id="12352" class="Symbol">{</a><a id="12353" href="Motivation.POPLMark2.STLC.html#12353" class="Bound">Γ</a> <a id="12355" href="Motivation.POPLMark2.STLC.html#12355" class="Bound">α</a> <a id="12357" href="Motivation.POPLMark2.STLC.html#12357" class="Bound">σ</a> <a id="12359" href="Motivation.POPLMark2.STLC.html#12359" class="Bound">τ</a><a id="12360" class="Symbol">}</a> <a id="12362" href="Motivation.POPLMark2.STLC.html#12362" class="Bound">c</a> <a id="12364" href="Motivation.POPLMark2.STLC.html#12364" class="Bound">b</a> <a id="12366" href="Motivation.POPLMark2.STLC.html#12366" class="Bound">u</a> <a id="12368" class="Symbol">→</a> <a id="12370" class="Symbol">(</a><a id="12371" href="Motivation.POPLMark2.STLC.html#12357" class="Bound">σ</a> <a id="12373" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="12375" href="Motivation.POPLMark2.STLC.html#12353" class="Bound">Γ</a><a id="12376" class="Symbol">)</a> <a id="12378" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="12382" href="Motivation.POPLMark2.STLC.html#12355" class="Bound">α</a> <a id="12384" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="12386" href="Motivation.POPLMark2.STLC.html#12364" class="Bound">b</a> <a id="12388" class="Symbol">→</a> <a id="12390" href="Motivation.POPLMark2.STLC.html#12353" class="Bound">Γ</a> <a id="12392" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="12396" href="Motivation.POPLMark2.STLC.html#12357" class="Bound">σ</a> <a id="12398" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="12400" href="Motivation.POPLMark2.STLC.html#12366" class="Bound">u</a> <a id="12402" class="Symbol">→</a>
                <a id="12420" href="Motivation.POPLMark2.STLC.html#12353" class="Bound">Γ</a> <a id="12422" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="12426" href="Motivation.POPLMark2.STLC.html#12359" class="Bound">τ</a> <a id="12428" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="12430" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="12434" class="Symbol">(</a><a id="12435" href="Motivation.POPLMark2.STLC.html#12364" class="Bound">b</a> <a id="12437" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="12439" href="Motivation.POPLMark2.STLC.html#12366" class="Bound">u</a> <a id="12441" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="12444" class="Symbol">)</a> <a id="12446" href="Motivation.POPLMark2.STLC.html#12362" class="Bound">c</a> <a id="12448" class="Symbol">→</a> <a id="12450" href="Motivation.POPLMark2.STLC.html#12353" class="Bound">Γ</a> <a id="12452" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∣</a> <a id="12454" href="Motivation.POPLMark2.STLC.html#12355" class="Bound">α</a> <a id="12456" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">⊢sn</a> <a id="12460" href="Motivation.POPLMark2.STLC.html#12359" class="Bound">τ</a> <a id="12462" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∋</a> <a id="12464" href="Motivation.POPLMark2.STLC.html#12362" class="Bound">c</a> <a id="12466" class="Symbol">→</a>
                <a id="12484" href="Motivation.POPLMark2.STLC.html#6155" class="Function">Closed</a> <a id="12491" class="Symbol">(</a><a id="12492" href="Motivation.POPLMark2.STLC.html#12353" class="Bound">Γ</a> <a id="12494" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">⊢</a> <a id="12496" href="Motivation.POPLMark2.STLC.html#12359" class="Bound">τ</a> <a id="12498" href="Motivation.POPLMark2.STLC.html#2189" class="Datatype Operator">∋_↝_</a><a id="12502" class="Symbol">)</a> <a id="12504" class="Symbol">(</a><a id="12505" href="Motivation.POPLMark2.STLC.html#12353" class="Bound">Γ</a> <a id="12507" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="12511" href="Motivation.POPLMark2.STLC.html#12359" class="Bound">τ</a> <a id="12513" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋_</a><a id="12515" class="Symbol">)</a> <a id="12517" class="Symbol">(</a><a id="12518" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="12522" class="Symbol">(</a><a id="12523" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="12526" href="Motivation.POPLMark2.STLC.html#12364" class="Bound">b</a> <a id="12528" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="12531" href="Motivation.POPLMark2.STLC.html#12366" class="Bound">u</a><a id="12532" class="Symbol">)</a> <a id="12534" href="Motivation.POPLMark2.STLC.html#12362" class="Bound">c</a><a id="12535" class="Symbol">)</a>
<a id="12537" href="Motivation.POPLMark2.STLC.html#12334" class="Function">β⁻¹^Closed-sn</a> <a id="12551" href="Motivation.POPLMark2.STLC.html#12551" class="Bound">c</a> <a id="12553" href="Motivation.POPLMark2.STLC.html#12553" class="Bound">b</a> <a id="12555" href="Motivation.POPLMark2.STLC.html#12555" class="Bound">u</a> <a id="12557" href="Motivation.POPLMark2.STLC.html#12557" class="Bound">b^sn</a><a id="12561" class="Symbol">@(</a><a id="12563" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="12566" href="Motivation.POPLMark2.STLC.html#12566" class="Bound">b^sn′</a><a id="12571" class="Symbol">)</a> <a id="12573" href="Motivation.POPLMark2.STLC.html#12573" class="Bound">u^sn</a><a id="12577" class="Symbol">@(</a><a id="12579" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="12582" href="Motivation.POPLMark2.STLC.html#12582" class="Bound">u^sn′</a><a id="12587" class="Symbol">)</a> <a id="12589" href="Motivation.POPLMark2.STLC.html#12589" class="Bound">c[b[u]]^sn</a><a id="12599" class="Symbol">@(</a><a id="12601" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="12604" href="Motivation.POPLMark2.STLC.html#12604" class="Bound">c[b[u]]^sn′</a><a id="12615" class="Symbol">)</a> <a id="12617" href="Motivation.POPLMark2.STLC.html#12617" class="Bound">c^sn</a> <a id="12622" href="Motivation.POPLMark2.STLC.html#12622" class="Bound">r</a>
  <a id="12626" class="Keyword">with</a> <a id="12631" href="Motivation.POPLMark2.STLC.html#9399" class="Function">cut⁻¹‿sn^↝</a> <a id="12642" href="Motivation.POPLMark2.STLC.html#12617" class="Bound">c^sn</a> <a id="12647" class="Symbol">(</a><a id="12648" href="Motivation.POPLMark2.STLC.html#9350" class="InductiveConstructor">app</a> <a id="12652" class="Symbol">(</a><a id="12653" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="12656" href="Motivation.POPLMark2.STLC.html#12553" class="Bound">b</a><a id="12657" class="Symbol">)</a> <a id="12659" href="Motivation.POPLMark2.STLC.html#12555" class="Bound">u</a><a id="12660" class="Symbol">)</a> <a id="12662" href="Motivation.POPLMark2.STLC.html#12622" class="Bound">r</a>
<a id="12664" class="Symbol">...</a> <a id="12668" class="Symbol">|</a> <a id="12670" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="12675" class="Symbol">(</a><a id="12676" class="DottedPattern Symbol">._</a> <a id="12679" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12681" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="12686" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12688" href="Motivation.POPLMark2.STLC.html#2258" class="InductiveConstructor">β</a> <a id="12690" class="DottedPattern Symbol">.</a><a id="12691" class="DottedPattern Bound">b</a> <a id="12693" class="DottedPattern Symbol">.</a><a id="12694" class="DottedPattern Bound">u</a><a id="12695" class="Symbol">)</a>          <a id="12706" class="Symbol">=</a> <a id="12708" class="Bound">c[b[u]]^sn</a>
<a id="12719" class="Symbol">...</a> <a id="12723" class="Symbol">|</a> <a id="12725" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="12730" class="Symbol">(</a><a id="12731" class="DottedPattern Symbol">._</a> <a id="12734" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12736" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="12741" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12743" href="Motivation.POPLMark2.STLC.html#2407" class="InductiveConstructor">[∙]₁</a> <a id="12748" class="DottedPattern Symbol">.(</a><a id="12750" href="Motivation.POPLMark2.STLC.html#1769" class="DottedPattern InductiveConstructor">`λ</a> <a id="12753" class="DottedPattern Bound">b</a><a id="12754" class="DottedPattern Symbol">)</a> <a id="12756" href="Motivation.POPLMark2.STLC.html#12756" class="Bound">r′</a><a id="12758" class="Symbol">)</a>  <a id="12761" class="Symbol">=</a>
  <a id="12765" class="Keyword">let</a> <a id="12769" href="Motivation.POPLMark2.STLC.html#12769" class="Bound">c[b[u]]^sn′</a> <a id="12781" class="Symbol">=</a> <a id="12783" href="Motivation.POPLMark2.STLC.html#6617" class="Function">Closed⋆-sn</a> <a id="12794" class="Bound">c[b[u]]^sn</a> <a id="12805" class="Symbol">(</a><a id="12806" href="Motivation.POPLMark2.STLC.html#9060" class="Function">cut^↝⋆</a> <a id="12813" class="Bound">c</a> <a id="12815" class="Symbol">(</a><a id="12816" href="Motivation.POPLMark2.STLC.html#4193" class="Function">[/0]^↝⋆</a> <a id="12824" class="Bound">b</a> <a id="12826" href="Motivation.POPLMark2.STLC.html#12756" class="Bound">r′</a><a id="12828" class="Symbol">))</a> <a id="12831" class="Keyword">in</a>
  <a id="12836" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="12839" class="Symbol">(</a><a id="12840" href="Motivation.POPLMark2.STLC.html#12334" class="Function">β⁻¹^Closed-sn</a> <a id="12854" class="Bound">c</a> <a id="12856" class="Bound">b</a> <a id="12858" class="Symbol">_</a> <a id="12860" class="Bound">b^sn</a> <a id="12865" class="Symbol">(</a><a id="12866" class="Bound">u^sn′</a> <a id="12872" href="Motivation.POPLMark2.STLC.html#12756" class="Bound">r′</a><a id="12874" class="Symbol">)</a> <a id="12876" href="Motivation.POPLMark2.STLC.html#12769" class="Bound">c[b[u]]^sn′</a> <a id="12888" class="Bound">c^sn</a><a id="12892" class="Symbol">)</a>
<a id="12894" class="Symbol">...</a> <a id="12898" class="Symbol">|</a> <a id="12900" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="12905" class="Symbol">(</a><a id="12906" class="DottedPattern Symbol">._</a> <a id="12909" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12911" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="12916" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12918" href="Motivation.POPLMark2.STLC.html#2472" class="InductiveConstructor">[∙]₂</a> <a id="12923" class="Symbol">(</a><a id="12924" href="Motivation.POPLMark2.STLC.html#2338" class="InductiveConstructor">[λ]</a> <a id="12928" href="Motivation.POPLMark2.STLC.html#12928" class="Bound">r′</a><a id="12930" class="Symbol">)</a> <a id="12932" class="DottedPattern Symbol">.</a><a id="12933" class="DottedPattern Bound">u</a><a id="12934" class="Symbol">)</a> <a id="12936" class="Symbol">=</a>
  <a id="12940" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="12943" class="Symbol">(</a><a id="12944" href="Motivation.POPLMark2.STLC.html#12334" class="Function">β⁻¹^Closed-sn</a> <a id="12958" class="Bound">c</a> <a id="12960" class="Symbol">_</a> <a id="12962" class="Bound">u</a> <a id="12964" class="Symbol">(</a><a id="12965" class="Bound">b^sn′</a> <a id="12971" href="Motivation.POPLMark2.STLC.html#12928" class="Bound">r′</a><a id="12973" class="Symbol">)</a> <a id="12975" class="Bound">u^sn</a> <a id="12980" class="Symbol">(</a><a id="12981" class="Bound">c[b[u]]^sn′</a> <a id="12993" class="Symbol">(</a><a id="12994" href="Motivation.POPLMark2.STLC.html#8930" class="Function">cut^↝</a> <a id="13000" class="Bound">c</a> <a id="13002" class="Symbol">(</a><a id="13003" href="Motivation.POPLMark2.STLC.html#3363" class="Function">[/0]^↝</a> <a id="13010" href="Motivation.POPLMark2.STLC.html#12928" class="Bound">r′</a> <a id="13013" class="Bound">u</a><a id="13014" class="Symbol">)))</a> <a id="13018" class="Bound">c^sn</a><a id="13022" class="Symbol">)</a>
<a id="13024" class="Symbol">...</a> <a id="13028" class="Symbol">|</a> <a id="13030" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="13035" class="Symbol">(</a><a id="13036" href="Motivation.POPLMark2.STLC.html#13036" class="Bound">c′</a> <a id="13039" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13041" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="13046" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13048" href="Motivation.POPLMark2.STLC.html#13048" class="Bound">c′^sn</a> <a id="13054" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13056" href="Motivation.POPLMark2.STLC.html#13056" class="Bound">r′</a><a id="13058" class="Symbol">)</a> <a id="13060" class="Symbol">=</a>
  <a id="13064" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="13067" class="Symbol">(</a><a id="13068" href="Motivation.POPLMark2.STLC.html#12334" class="Function">β⁻¹^Closed-sn</a> <a id="13082" href="Motivation.POPLMark2.STLC.html#13036" class="Bound">c′</a> <a id="13085" class="Bound">b</a> <a id="13087" class="Bound">u</a> <a id="13089" class="Bound">b^sn</a> <a id="13094" class="Bound">u^sn</a> <a id="13099" class="Symbol">(</a><a id="13100" class="Bound">c[b[u]]^sn′</a> <a id="13112" class="Symbol">(</a><a id="13113" href="Motivation.POPLMark2.STLC.html#13056" class="Bound">r′</a> <a id="13116" class="Symbol">(</a><a id="13117" class="Bound">b</a> <a id="13119" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="13121" class="Bound">u</a> <a id="13123" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="13126" class="Symbol">)))</a> <a id="13130" href="Motivation.POPLMark2.STLC.html#13048" class="Bound">c′^sn</a><a id="13135" class="Symbol">)</a>

<a id="β⁻¹^sn"></a><a id="13138" href="Motivation.POPLMark2.STLC.html#13138" class="Function">β⁻¹^sn</a> <a id="13145" class="Symbol">:</a> <a id="13147" class="Symbol">∀</a> <a id="13149" class="Symbol">{</a><a id="13150" href="Motivation.POPLMark2.STLC.html#13150" class="Bound">Γ</a> <a id="13152" href="Motivation.POPLMark2.STLC.html#13152" class="Bound">α</a> <a id="13154" href="Motivation.POPLMark2.STLC.html#13154" class="Bound">σ</a> <a id="13156" href="Motivation.POPLMark2.STLC.html#13156" class="Bound">τ</a> <a id="13158" href="Motivation.POPLMark2.STLC.html#13158" class="Bound">b</a> <a id="13160" href="Motivation.POPLMark2.STLC.html#13160" class="Bound">u</a> <a id="13162" href="Motivation.POPLMark2.STLC.html#13162" class="Bound">c</a><a id="13163" class="Symbol">}</a> <a id="13165" class="Symbol">→</a> <a id="13167" class="Symbol">(</a><a id="13168" href="Motivation.POPLMark2.STLC.html#13154" class="Bound">σ</a> <a id="13170" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="13172" href="Motivation.POPLMark2.STLC.html#13150" class="Bound">Γ</a><a id="13173" class="Symbol">)</a> <a id="13175" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="13179" href="Motivation.POPLMark2.STLC.html#13152" class="Bound">α</a> <a id="13181" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="13183" href="Motivation.POPLMark2.STLC.html#13158" class="Bound">b</a> <a id="13185" class="Symbol">→</a> <a id="13187" href="Motivation.POPLMark2.STLC.html#13150" class="Bound">Γ</a> <a id="13189" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="13193" href="Motivation.POPLMark2.STLC.html#13154" class="Bound">σ</a> <a id="13195" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="13197" href="Motivation.POPLMark2.STLC.html#13160" class="Bound">u</a> <a id="13199" class="Symbol">→</a>
         <a id="13210" href="Motivation.POPLMark2.STLC.html#13150" class="Bound">Γ</a> <a id="13212" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="13216" href="Motivation.POPLMark2.STLC.html#13156" class="Bound">τ</a> <a id="13218" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="13220" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="13224" class="Symbol">(</a><a id="13225" href="Motivation.POPLMark2.STLC.html#13158" class="Bound">b</a> <a id="13227" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="13229" href="Motivation.POPLMark2.STLC.html#13160" class="Bound">u</a> <a id="13231" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="13234" class="Symbol">)</a> <a id="13236" href="Motivation.POPLMark2.STLC.html#13162" class="Bound">c</a> <a id="13238" class="Symbol">→</a> <a id="13240" href="Motivation.POPLMark2.STLC.html#13150" class="Bound">Γ</a> <a id="13242" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∣</a> <a id="13244" href="Motivation.POPLMark2.STLC.html#13152" class="Bound">α</a> <a id="13246" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">⊢sn</a> <a id="13250" href="Motivation.POPLMark2.STLC.html#13156" class="Bound">τ</a> <a id="13252" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∋</a> <a id="13254" href="Motivation.POPLMark2.STLC.html#13162" class="Bound">c</a> <a id="13256" class="Symbol">→</a>
         <a id="13267" href="Motivation.POPLMark2.STLC.html#13150" class="Bound">Γ</a> <a id="13269" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="13273" href="Motivation.POPLMark2.STLC.html#13156" class="Bound">τ</a> <a id="13275" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="13277" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="13281" class="Symbol">(</a><a id="13282" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="13285" href="Motivation.POPLMark2.STLC.html#13158" class="Bound">b</a> <a id="13287" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="13290" href="Motivation.POPLMark2.STLC.html#13160" class="Bound">u</a><a id="13291" class="Symbol">)</a> <a id="13293" href="Motivation.POPLMark2.STLC.html#13162" class="Bound">c</a>
<a id="13295" href="Motivation.POPLMark2.STLC.html#13138" class="Function">β⁻¹^sn</a> <a id="13302" href="Motivation.POPLMark2.STLC.html#13302" class="Bound">b^sn</a> <a id="13307" href="Motivation.POPLMark2.STLC.html#13307" class="Bound">u^sn</a> <a id="13312" href="Motivation.POPLMark2.STLC.html#13312" class="Bound">c[b[u]]^sn</a> <a id="13323" href="Motivation.POPLMark2.STLC.html#13323" class="Bound">c^sn</a> <a id="13328" class="Symbol">=</a> <a id="13330" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="13333" class="Symbol">(</a><a id="13334" href="Motivation.POPLMark2.STLC.html#12334" class="Function">β⁻¹^Closed-sn</a> <a id="13348" class="Symbol">_</a> <a id="13350" class="Symbol">_</a> <a id="13352" class="Symbol">_</a> <a id="13354" href="Motivation.POPLMark2.STLC.html#13302" class="Bound">b^sn</a> <a id="13359" href="Motivation.POPLMark2.STLC.html#13307" class="Bound">u^sn</a> <a id="13364" href="Motivation.POPLMark2.STLC.html#13312" class="Bound">c[b[u]]^sn</a> <a id="13375" href="Motivation.POPLMark2.STLC.html#13323" class="Bound">c^sn</a><a id="13379" class="Symbol">)</a>

<a id="13382" class="Comment">-- Section 3.2 Inductive Definition of Strongly Normalizing Terms</a>

<a id="13449" class="Keyword">infix</a> <a id="13455" class="Number">5</a> <a id="13457" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">_⊢_∋_↝SN_&lt;_</a> <a id="13469" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">_⊢SN_∋_&lt;_</a> <a id="13479" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">_⊢SNe_∋_&lt;_</a>
<a id="13490" class="Keyword">data</a> <a id="_⊢_∋_↝SN_&lt;_"></a><a id="13495" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">_⊢_∋_↝SN_&lt;_</a> <a id="13507" href="Motivation.POPLMark2.STLC.html#13507" class="Bound">Γ</a> <a id="13509" href="Motivation.POPLMark2.STLC.html#13509" class="Bound">τ</a> <a id="13511" class="Symbol">:</a> <a id="13513" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="13518" href="Motivation.POPLMark2.STLC.html#13509" class="Bound">τ</a> <a id="13520" href="Motivation.POPLMark2.STLC.html#13507" class="Bound">Γ</a> <a id="13522" class="Symbol">→</a> <a id="13524" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="13529" href="Motivation.POPLMark2.STLC.html#13509" class="Bound">τ</a> <a id="13531" href="Motivation.POPLMark2.STLC.html#13507" class="Bound">Γ</a> <a id="13533" class="Symbol">→</a> <a id="13535" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a> <a id="13540" class="Symbol">→</a> <a id="13542" class="PrimitiveType">Set</a>
<a id="13546" class="Keyword">data</a> <a id="_⊢SN_∋_&lt;_"></a><a id="13551" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">_⊢SN_∋_&lt;_</a> <a id="13561" class="Symbol">(</a><a id="13562" href="Motivation.POPLMark2.STLC.html#13562" class="Bound">Γ</a> <a id="13564" class="Symbol">:</a> <a id="13566" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="13571" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a><a id="13575" class="Symbol">)</a> <a id="13577" class="Symbol">:</a> <a id="13579" class="Symbol">(</a><a id="13580" href="Motivation.POPLMark2.STLC.html#13580" class="Bound">σ</a> <a id="13582" class="Symbol">:</a> <a id="13584" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a><a id="13588" class="Symbol">)</a> <a id="13590" class="Symbol">→</a> <a id="13592" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="13597" href="Motivation.POPLMark2.STLC.html#13580" class="Bound">σ</a> <a id="13599" href="Motivation.POPLMark2.STLC.html#13562" class="Bound">Γ</a> <a id="13601" class="Symbol">→</a> <a id="13603" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a> <a id="13608" class="Symbol">→</a> <a id="13610" class="PrimitiveType">Set</a>
<a id="13614" class="Keyword">data</a> <a id="_⊢SNe_∋_&lt;_"></a><a id="13619" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">_⊢SNe_∋_&lt;_</a> <a id="13630" class="Symbol">(</a><a id="13631" href="Motivation.POPLMark2.STLC.html#13631" class="Bound">Γ</a> <a id="13633" class="Symbol">:</a> <a id="13635" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="13640" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a><a id="13644" class="Symbol">)</a> <a id="13646" class="Symbol">:</a> <a id="13648" class="Symbol">(</a><a id="13649" href="Motivation.POPLMark2.STLC.html#13649" class="Bound">σ</a> <a id="13651" class="Symbol">:</a> <a id="13653" href="Motivation.POPLMark2.STLC.html#1181" class="Datatype">Type</a><a id="13657" class="Symbol">)</a> <a id="13659" class="Symbol">→</a> <a id="13661" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="13666" href="Motivation.POPLMark2.STLC.html#13649" class="Bound">σ</a> <a id="13668" href="Motivation.POPLMark2.STLC.html#13631" class="Bound">Γ</a> <a id="13670" class="Symbol">→</a> <a id="13672" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a> <a id="13677" class="Symbol">→</a> <a id="13679" class="PrimitiveType">Set</a>

<a id="13684" class="Keyword">data</a> <a id="13689" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">_⊢_∋_↝SN_&lt;_</a> <a id="13701" href="Motivation.POPLMark2.STLC.html#13701" class="Bound">Γ</a> <a id="13703" href="Motivation.POPLMark2.STLC.html#13703" class="Bound">τ</a> <a id="13705" class="Keyword">where</a>
<a id="13711" class="Comment">-- computational</a>
  <a id="_⊢_∋_↝SN_&lt;_.β"></a><a id="13730" href="Motivation.POPLMark2.STLC.html#13730" class="InductiveConstructor">β</a>    <a id="13735" class="Symbol">:</a> <a id="13737" class="Symbol">∀</a> <a id="13739" class="Symbol">{</a><a id="13740" href="Motivation.POPLMark2.STLC.html#13740" class="Bound">σ</a> <a id="13742" href="Motivation.POPLMark2.STLC.html#13742" class="Bound">i</a><a id="13743" class="Symbol">}</a> <a id="13745" href="Motivation.POPLMark2.STLC.html#13745" class="Bound">t</a> <a id="13747" href="Motivation.POPLMark2.STLC.html#13747" class="Bound">u</a> <a id="13749" class="Symbol">→</a> <a id="13751" href="Motivation.POPLMark2.STLC.html#13701" class="Bound">Γ</a> <a id="13753" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">⊢SN</a> <a id="13757" href="Motivation.POPLMark2.STLC.html#13740" class="Bound">σ</a> <a id="13759" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">∋</a> <a id="13761" href="Motivation.POPLMark2.STLC.html#13747" class="Bound">u</a> <a id="13763" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">&lt;</a> <a id="13765" href="Motivation.POPLMark2.STLC.html#13742" class="Bound">i</a> <a id="13767" class="Symbol">→</a> <a id="13769" href="Motivation.POPLMark2.STLC.html#13701" class="Bound">Γ</a> <a id="13771" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">⊢</a> <a id="13773" href="Motivation.POPLMark2.STLC.html#13703" class="Bound">τ</a> <a id="13775" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">∋</a> <a id="13777" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="13780" href="Motivation.POPLMark2.STLC.html#13745" class="Bound">t</a> <a id="13782" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="13785" href="Motivation.POPLMark2.STLC.html#13747" class="Bound">u</a> <a id="13787" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">↝SN</a> <a id="13791" href="Motivation.POPLMark2.STLC.html#13745" class="Bound">t</a> <a id="13793" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="13795" href="Motivation.POPLMark2.STLC.html#13747" class="Bound">u</a> <a id="13797" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a> <a id="13801" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">&lt;</a> <a id="13803" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="13805" href="Motivation.POPLMark2.STLC.html#13742" class="Bound">i</a>
<a id="13807" class="Comment">-- structural</a>
  <a id="_⊢_∋_↝SN_&lt;_.[∙]₂"></a><a id="13823" href="Motivation.POPLMark2.STLC.html#13823" class="InductiveConstructor">[∙]₂</a> <a id="13828" class="Symbol">:</a> <a id="13830" class="Symbol">∀</a> <a id="13832" class="Symbol">{</a><a id="13833" href="Motivation.POPLMark2.STLC.html#13833" class="Bound">σ</a> <a id="13835" href="Motivation.POPLMark2.STLC.html#13835" class="Bound">i</a> <a id="13837" href="Motivation.POPLMark2.STLC.html#13837" class="Bound">f</a> <a id="13839" href="Motivation.POPLMark2.STLC.html#13839" class="Bound">g</a><a id="13840" class="Symbol">}</a> <a id="13842" class="Symbol">→</a> <a id="13844" href="Motivation.POPLMark2.STLC.html#13701" class="Bound">Γ</a> <a id="13846" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">⊢</a> <a id="13848" href="Motivation.POPLMark2.STLC.html#13833" class="Bound">σ</a> <a id="13850" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="13852" href="Motivation.POPLMark2.STLC.html#13703" class="Bound">τ</a> <a id="13854" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">∋</a> <a id="13856" href="Motivation.POPLMark2.STLC.html#13837" class="Bound">f</a> <a id="13858" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">↝SN</a> <a id="13862" href="Motivation.POPLMark2.STLC.html#13839" class="Bound">g</a> <a id="13864" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">&lt;</a> <a id="13866" href="Motivation.POPLMark2.STLC.html#13835" class="Bound">i</a> <a id="13868" class="Symbol">→</a> <a id="13870" class="Symbol">∀</a> <a id="13872" href="Motivation.POPLMark2.STLC.html#13872" class="Bound">t</a> <a id="13874" class="Symbol">→</a> <a id="13876" href="Motivation.POPLMark2.STLC.html#13701" class="Bound">Γ</a> <a id="13878" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">⊢</a> <a id="13880" href="Motivation.POPLMark2.STLC.html#13703" class="Bound">τ</a> <a id="13882" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">∋</a> <a id="13884" href="Motivation.POPLMark2.STLC.html#13837" class="Bound">f</a> <a id="13886" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="13889" href="Motivation.POPLMark2.STLC.html#13872" class="Bound">t</a> <a id="13891" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">↝SN</a> <a id="13895" href="Motivation.POPLMark2.STLC.html#13839" class="Bound">g</a> <a id="13897" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="13900" href="Motivation.POPLMark2.STLC.html#13872" class="Bound">t</a> <a id="13902" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">&lt;</a> <a id="13904" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="13906" href="Motivation.POPLMark2.STLC.html#13835" class="Bound">i</a>

<a id="13909" class="Keyword">data</a> <a id="13914" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">_⊢SN_∋_&lt;_</a> <a id="13924" href="Motivation.POPLMark2.STLC.html#13924" class="Bound">Γ</a> <a id="13926" class="Keyword">where</a>
  <a id="_⊢SN_∋_&lt;_.neu"></a><a id="13934" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="13938" class="Symbol">:</a> <a id="13940" class="Symbol">∀</a> <a id="13942" class="Symbol">{</a><a id="13943" href="Motivation.POPLMark2.STLC.html#13943" class="Bound">σ</a> <a id="13945" href="Motivation.POPLMark2.STLC.html#13945" class="Bound">t</a> <a id="13947" href="Motivation.POPLMark2.STLC.html#13947" class="Bound">i</a><a id="13948" class="Symbol">}</a> <a id="13950" class="Symbol">→</a> <a id="13952" href="Motivation.POPLMark2.STLC.html#13924" class="Bound">Γ</a> <a id="13954" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">⊢SNe</a> <a id="13959" href="Motivation.POPLMark2.STLC.html#13943" class="Bound">σ</a> <a id="13961" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">∋</a> <a id="13963" href="Motivation.POPLMark2.STLC.html#13945" class="Bound">t</a> <a id="13965" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">&lt;</a> <a id="13967" href="Motivation.POPLMark2.STLC.html#13947" class="Bound">i</a> <a id="13969" class="Symbol">→</a> <a id="13971" href="Motivation.POPLMark2.STLC.html#13924" class="Bound">Γ</a> <a id="13973" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">⊢SN</a> <a id="13977" href="Motivation.POPLMark2.STLC.html#13943" class="Bound">σ</a> <a id="13979" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">∋</a> <a id="13981" href="Motivation.POPLMark2.STLC.html#13945" class="Bound">t</a> <a id="13983" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">&lt;</a> <a id="13985" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="13987" href="Motivation.POPLMark2.STLC.html#13947" class="Bound">i</a>
  <a id="_⊢SN_∋_&lt;_.lam"></a><a id="13991" href="Motivation.POPLMark2.STLC.html#13991" class="InductiveConstructor">lam</a> <a id="13995" class="Symbol">:</a> <a id="13997" class="Symbol">∀</a> <a id="13999" class="Symbol">{</a><a id="14000" href="Motivation.POPLMark2.STLC.html#14000" class="Bound">σ</a> <a id="14002" href="Motivation.POPLMark2.STLC.html#14002" class="Bound">τ</a> <a id="14004" href="Motivation.POPLMark2.STLC.html#14004" class="Bound">b</a> <a id="14006" href="Motivation.POPLMark2.STLC.html#14006" class="Bound">i</a><a id="14007" class="Symbol">}</a> <a id="14009" class="Symbol">→</a> <a id="14011" class="Symbol">(</a><a id="14012" href="Motivation.POPLMark2.STLC.html#14000" class="Bound">σ</a> <a id="14014" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="14016" href="Motivation.POPLMark2.STLC.html#13924" class="Bound">Γ</a><a id="14017" class="Symbol">)</a> <a id="14019" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">⊢SN</a> <a id="14023" href="Motivation.POPLMark2.STLC.html#14002" class="Bound">τ</a> <a id="14025" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">∋</a> <a id="14027" href="Motivation.POPLMark2.STLC.html#14004" class="Bound">b</a> <a id="14029" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">&lt;</a> <a id="14031" href="Motivation.POPLMark2.STLC.html#14006" class="Bound">i</a> <a id="14033" class="Symbol">→</a> <a id="14035" href="Motivation.POPLMark2.STLC.html#13924" class="Bound">Γ</a> <a id="14037" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">⊢SN</a> <a id="14041" href="Motivation.POPLMark2.STLC.html#14000" class="Bound">σ</a> <a id="14043" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="14045" href="Motivation.POPLMark2.STLC.html#14002" class="Bound">τ</a> <a id="14047" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">∋</a> <a id="14049" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="14052" href="Motivation.POPLMark2.STLC.html#14004" class="Bound">b</a> <a id="14054" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">&lt;</a> <a id="14056" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="14058" href="Motivation.POPLMark2.STLC.html#14006" class="Bound">i</a>
  <a id="_⊢SN_∋_&lt;_.red"></a><a id="14062" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="14066" class="Symbol">:</a> <a id="14068" class="Symbol">∀</a> <a id="14070" class="Symbol">{</a><a id="14071" href="Motivation.POPLMark2.STLC.html#14071" class="Bound">σ</a> <a id="14073" href="Motivation.POPLMark2.STLC.html#14073" class="Bound">t</a> <a id="14075" href="Motivation.POPLMark2.STLC.html#14075" class="Bound">t′</a> <a id="14078" href="Motivation.POPLMark2.STLC.html#14078" class="Bound">i</a><a id="14079" class="Symbol">}</a> <a id="14081" class="Symbol">→</a> <a id="14083" href="Motivation.POPLMark2.STLC.html#13924" class="Bound">Γ</a> <a id="14085" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">⊢</a> <a id="14087" href="Motivation.POPLMark2.STLC.html#14071" class="Bound">σ</a> <a id="14089" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">∋</a> <a id="14091" href="Motivation.POPLMark2.STLC.html#14073" class="Bound">t</a> <a id="14093" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">↝SN</a> <a id="14097" href="Motivation.POPLMark2.STLC.html#14075" class="Bound">t′</a> <a id="14100" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">&lt;</a> <a id="14102" href="Motivation.POPLMark2.STLC.html#14078" class="Bound">i</a> <a id="14104" class="Symbol">→</a> <a id="14106" href="Motivation.POPLMark2.STLC.html#13924" class="Bound">Γ</a> <a id="14108" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">⊢SN</a> <a id="14112" href="Motivation.POPLMark2.STLC.html#14071" class="Bound">σ</a> <a id="14114" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">∋</a> <a id="14116" href="Motivation.POPLMark2.STLC.html#14075" class="Bound">t′</a> <a id="14119" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">&lt;</a> <a id="14121" href="Motivation.POPLMark2.STLC.html#14078" class="Bound">i</a> <a id="14123" class="Symbol">→</a> <a id="14125" href="Motivation.POPLMark2.STLC.html#13924" class="Bound">Γ</a> <a id="14127" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">⊢SN</a> <a id="14131" href="Motivation.POPLMark2.STLC.html#14071" class="Bound">σ</a> <a id="14133" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">∋</a> <a id="14135" href="Motivation.POPLMark2.STLC.html#14073" class="Bound">t</a> <a id="14137" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">&lt;</a> <a id="14139" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="14141" href="Motivation.POPLMark2.STLC.html#14078" class="Bound">i</a>

<a id="14144" class="Keyword">data</a> <a id="14149" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">_⊢SNe_∋_&lt;_</a> <a id="14160" href="Motivation.POPLMark2.STLC.html#14160" class="Bound">Γ</a> <a id="14162" class="Keyword">where</a>
  <a id="_⊢SNe_∋_&lt;_.var"></a><a id="14170" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="14174" class="Symbol">:</a> <a id="14176" class="Symbol">∀</a> <a id="14178" class="Symbol">{</a><a id="14179" href="Motivation.POPLMark2.STLC.html#14179" class="Bound">σ</a> <a id="14181" href="Motivation.POPLMark2.STLC.html#14181" class="Bound">i</a><a id="14182" class="Symbol">}</a> <a id="14184" href="Motivation.POPLMark2.STLC.html#14184" class="Bound">v</a> <a id="14186" class="Symbol">→</a> <a id="14188" href="Motivation.POPLMark2.STLC.html#14160" class="Bound">Γ</a> <a id="14190" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">⊢SNe</a> <a id="14195" href="Motivation.POPLMark2.STLC.html#14179" class="Bound">σ</a> <a id="14197" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">∋</a> <a id="14199" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="14204" href="Motivation.POPLMark2.STLC.html#14184" class="Bound">v</a> <a id="14206" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">&lt;</a> <a id="14208" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="14210" href="Motivation.POPLMark2.STLC.html#14181" class="Bound">i</a>
  <a id="_⊢SNe_∋_&lt;_.app"></a><a id="14214" href="Motivation.POPLMark2.STLC.html#14214" class="InductiveConstructor">app</a> <a id="14218" class="Symbol">:</a> <a id="14220" class="Symbol">∀</a> <a id="14222" class="Symbol">{</a><a id="14223" href="Motivation.POPLMark2.STLC.html#14223" class="Bound">σ</a> <a id="14225" href="Motivation.POPLMark2.STLC.html#14225" class="Bound">τ</a> <a id="14227" href="Motivation.POPLMark2.STLC.html#14227" class="Bound">f</a> <a id="14229" href="Motivation.POPLMark2.STLC.html#14229" class="Bound">t</a> <a id="14231" href="Motivation.POPLMark2.STLC.html#14231" class="Bound">i</a><a id="14232" class="Symbol">}</a> <a id="14234" class="Symbol">→</a> <a id="14236" href="Motivation.POPLMark2.STLC.html#14160" class="Bound">Γ</a> <a id="14238" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">⊢SNe</a> <a id="14243" href="Motivation.POPLMark2.STLC.html#14223" class="Bound">σ</a> <a id="14245" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="14247" href="Motivation.POPLMark2.STLC.html#14225" class="Bound">τ</a> <a id="14249" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">∋</a> <a id="14251" href="Motivation.POPLMark2.STLC.html#14227" class="Bound">f</a> <a id="14253" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">&lt;</a> <a id="14255" href="Motivation.POPLMark2.STLC.html#14231" class="Bound">i</a> <a id="14257" class="Symbol">→</a> <a id="14259" href="Motivation.POPLMark2.STLC.html#14160" class="Bound">Γ</a> <a id="14261" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">⊢SN</a> <a id="14265" href="Motivation.POPLMark2.STLC.html#14223" class="Bound">σ</a> <a id="14267" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">∋</a> <a id="14269" href="Motivation.POPLMark2.STLC.html#14229" class="Bound">t</a> <a id="14271" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">&lt;</a> <a id="14273" href="Motivation.POPLMark2.STLC.html#14231" class="Bound">i</a> <a id="14275" class="Symbol">→</a> <a id="14277" href="Motivation.POPLMark2.STLC.html#14160" class="Bound">Γ</a> <a id="14279" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">⊢SNe</a> <a id="14284" href="Motivation.POPLMark2.STLC.html#14225" class="Bound">τ</a> <a id="14286" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">∋</a> <a id="14288" href="Motivation.POPLMark2.STLC.html#14227" class="Bound">f</a> <a id="14290" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="14293" href="Motivation.POPLMark2.STLC.html#14229" class="Bound">t</a> <a id="14295" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">&lt;</a> <a id="14297" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="14299" href="Motivation.POPLMark2.STLC.html#14231" class="Bound">i</a>

<a id="14302" class="Keyword">infix</a> <a id="14308" class="Number">5</a> <a id="14310" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">_⊢_∋_↝SN_</a> <a id="14320" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">_⊢SN_∋_</a> <a id="14328" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">_⊢SNe_∋_</a>
<a id="_⊢_∋_↝SN_"></a><a id="14337" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">_⊢_∋_↝SN_</a> <a id="14347" class="Symbol">=</a> <a id="14349" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">_⊢_∋_↝SN_&lt;</a> <a id="14360" class="Symbol">_</a>
<a id="_⊢SN_∋_"></a><a id="14362" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">_⊢SN_∋_</a> <a id="14370" class="Symbol">=</a> <a id="14372" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">_⊢SN_∋_&lt;</a> <a id="14381" class="Symbol">_</a>
<a id="_⊢SNe_∋_"></a><a id="14383" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">_⊢SNe_∋_</a> <a id="14392" class="Symbol">=</a> <a id="14394" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">_⊢SNe_∋_&lt;</a> <a id="14404" class="Symbol">_</a>

<a id="SN∋"></a><a id="14407" href="Motivation.POPLMark2.STLC.html#14407" class="Function">SN∋</a> <a id="14411" class="Symbol">:</a> <a id="14413" href="pred.html#133" class="Record">Pred</a> <a id="14418" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a>
<a id="14423" href="pred.html#206" class="Field">pred</a> <a id="14428" href="Motivation.POPLMark2.STLC.html#14407" class="Function">SN∋</a> <a id="14432" class="Symbol">=</a> <a id="14434" class="Symbol">_</a> <a id="14436" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="14440" class="Symbol">_</a> <a id="14442" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋_</a>

<a id="SNe"></a><a id="14446" href="Motivation.POPLMark2.STLC.html#14446" class="Function">SNe</a> <a id="14450" class="Symbol">:</a> <a id="14452" href="pred.html#133" class="Record">Pred</a> <a id="14457" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a>
<a id="14462" href="pred.html#206" class="Field">pred</a> <a id="14467" href="Motivation.POPLMark2.STLC.html#14446" class="Function">SNe</a> <a id="14471" class="Symbol">=</a> <a id="14473" class="Symbol">_</a> <a id="14475" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">⊢SNe</a> <a id="14480" class="Symbol">_</a> <a id="14482" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">∋_</a>

<a id="[v↦v]^SNe"></a><a id="14486" href="Motivation.POPLMark2.STLC.html#14486" class="Function">[v↦v]^SNe</a> <a id="14496" class="Symbol">:</a> <a id="14498" class="Symbol">∀</a> <a id="14500" class="Symbol">{</a><a id="14501" href="Motivation.POPLMark2.STLC.html#14501" class="Bound">Γ</a><a id="14502" class="Symbol">}</a> <a id="14504" class="Symbol">→</a> <a id="14506" href="pred.html#307" class="Record Operator">pred.∀[</a> <a id="14514" href="Motivation.POPLMark2.STLC.html#14446" class="Function">SNe</a> <a id="14518" href="pred.html#307" class="Record Operator">]</a> <a id="14520" class="Symbol">(</a><a id="14521" href="varlike.html#455" class="Function">base</a> <a id="14526" href="Generic.Semantics.Syntactic.html#722" class="Function">vl^Tm</a> <a id="14532" class="Symbol">{</a><a id="14533" href="Motivation.POPLMark2.STLC.html#14501" class="Bound">Γ</a><a id="14534" class="Symbol">})</a>
<a id="14537" href="pred.html#402" class="Field">lookup^P</a> <a id="14546" href="Motivation.POPLMark2.STLC.html#14486" class="Function">[v↦v]^SNe</a> <a id="14556" href="Motivation.POPLMark2.STLC.html#14556" class="Bound">v</a> <a id="14558" class="Keyword">rewrite</a> <a id="14566" href="Generic.Semantics.Syntactic.html#1296" class="Function">lookup-base^Tm</a> <a id="14581" class="Symbol">{</a><a id="14582" class="Argument">d</a> <a id="14584" class="Symbol">=</a> <a id="14586" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a><a id="14591" class="Symbol">}</a> <a id="14593" href="Motivation.POPLMark2.STLC.html#14556" class="Bound">v</a> <a id="14595" class="Symbol">=</a> <a id="14597" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="14601" href="Motivation.POPLMark2.STLC.html#14556" class="Bound">v</a>

<a id="14604" class="Keyword">infix</a> <a id="14610" class="Number">4</a> <a id="14612" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">_∣_⊢SN_∋_&lt;_</a> <a id="14624" href="Motivation.POPLMark2.STLC.html#14671" class="Function Operator">_∣_⊢SN_∋_</a>
<a id="_∣_⊢SN_∋_&lt;_"></a><a id="14634" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">_∣_⊢SN_∋_&lt;_</a> <a id="14646" class="Symbol">=</a> <a id="14648" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">_∣_⊢[</a> <a id="14654" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">_⊢SN_∋_&lt;_</a> <a id="14664" href="Motivation.POPLMark2.STLC.html#8474" class="Datatype Operator">]_∋_&lt;_</a>
<a id="_∣_⊢SN_∋_"></a><a id="14671" href="Motivation.POPLMark2.STLC.html#14671" class="Function Operator">_∣_⊢SN_∋_</a> <a id="14681" class="Symbol">=</a> <a id="14683" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">_∣_⊢SN_∋_&lt;</a> <a id="14694" class="Symbol">_</a>

<a id="cut⁻¹^SNe"></a><a id="14697" href="Motivation.POPLMark2.STLC.html#14697" class="Function">cut⁻¹^SNe</a> <a id="14707" class="Symbol">:</a> <a id="14709" class="Symbol">∀</a> <a id="14711" class="Symbol">{</a><a id="14712" href="Motivation.POPLMark2.STLC.html#14712" class="Bound">Γ</a> <a id="14714" href="Motivation.POPLMark2.STLC.html#14714" class="Bound">τ</a> <a id="14716" href="Motivation.POPLMark2.STLC.html#14716" class="Bound">t</a> <a id="14718" href="Motivation.POPLMark2.STLC.html#14718" class="Bound">i</a><a id="14719" class="Symbol">}</a> <a id="14721" class="Symbol">→</a> <a id="14723" href="Motivation.POPLMark2.STLC.html#14712" class="Bound">Γ</a> <a id="14725" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">⊢SNe</a> <a id="14730" href="Motivation.POPLMark2.STLC.html#14714" class="Bound">τ</a> <a id="14732" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">∋</a> <a id="14734" href="Motivation.POPLMark2.STLC.html#14716" class="Bound">t</a> <a id="14736" href="Motivation.POPLMark2.STLC.html#13619" class="Datatype Operator">&lt;</a> <a id="14738" href="Motivation.POPLMark2.STLC.html#14718" class="Bound">i</a> <a id="14740" class="Symbol">→</a>
  <a id="14744" href="Data.Product.html#763" class="Function">Σ[</a> <a id="14747" href="Motivation.POPLMark2.STLC.html#14747" class="Bound">ctx</a> <a id="14751" href="Data.Product.html#763" class="Function">∈</a> <a id="14753" class="Symbol">(</a><a id="14754" href="Data.Product.html#880" class="Function">∃</a> <a id="14756" class="Symbol">λ</a> <a id="14758" href="Motivation.POPLMark2.STLC.html#14758" class="Bound">σ</a> <a id="14760" class="Symbol">→</a> <a id="14762" href="Motivation.POPLMark2.STLC.html#14712" class="Bound">Γ</a> <a id="14764" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="14766" href="Motivation.POPLMark2.STLC.html#14758" class="Bound">σ</a> <a id="14768" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="14770" href="Motivation.POPLMark2.STLC.html#14714" class="Bound">τ</a><a id="14771" class="Symbol">)</a> <a id="14773" href="Data.Product.html#763" class="Function">]</a> <a id="14775" class="Keyword">let</a> <a id="14779" class="Symbol">(</a><a id="14780" href="Motivation.POPLMark2.STLC.html#14780" class="Bound">σ</a> <a id="14782" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="14784" href="Motivation.POPLMark2.STLC.html#14784" class="Bound">c</a><a id="14785" class="Symbol">)</a> <a id="14787" class="Symbol">=</a> <a id="14789" href="Motivation.POPLMark2.STLC.html#14747" class="Bound">ctx</a> <a id="14793" class="Keyword">in</a>
            <a id="14808" href="Data.Product.html#880" class="Function">∃</a> <a id="14810" class="Symbol">λ</a> <a id="14812" href="Motivation.POPLMark2.STLC.html#14812" class="Bound">v</a> <a id="14814" class="Symbol">→</a> <a id="14816" href="Motivation.POPLMark2.STLC.html#14716" class="Bound">t</a> <a id="14818" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="14820" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="14824" class="Symbol">(</a><a id="14825" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="14830" href="Motivation.POPLMark2.STLC.html#14812" class="Bound">v</a><a id="14831" class="Symbol">)</a> <a id="14833" href="Motivation.POPLMark2.STLC.html#14784" class="Bound">c</a> <a id="14835" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="14837" href="Motivation.POPLMark2.STLC.html#14712" class="Bound">Γ</a> <a id="14839" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">∣</a> <a id="14841" href="Motivation.POPLMark2.STLC.html#14780" class="Bound">σ</a> <a id="14843" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">⊢SN</a> <a id="14847" href="Motivation.POPLMark2.STLC.html#14714" class="Bound">τ</a> <a id="14849" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">∋</a> <a id="14851" href="Motivation.POPLMark2.STLC.html#14784" class="Bound">c</a> <a id="14853" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">&lt;</a> <a id="14855" href="Motivation.POPLMark2.STLC.html#14718" class="Bound">i</a>
<a id="14857" href="Motivation.POPLMark2.STLC.html#14697" class="Function">cut⁻¹^SNe</a> <a id="14867" class="Symbol">(</a><a id="14868" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="14872" href="Motivation.POPLMark2.STLC.html#14872" class="Bound">v</a><a id="14873" class="Symbol">)</a>          <a id="14884" class="Symbol">=</a> <a id="14886" class="Symbol">_</a> <a id="14888" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="14890" href="Motivation.POPLMark2.STLC.html#14872" class="Bound">v</a> <a id="14892" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="14894" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="14899" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="14901" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a>
<a id="14904" href="Motivation.POPLMark2.STLC.html#14697" class="Function">cut⁻¹^SNe</a> <a id="14914" class="Symbol">(</a><a id="14915" href="Motivation.POPLMark2.STLC.html#14214" class="InductiveConstructor">app</a> <a id="14919" href="Motivation.POPLMark2.STLC.html#14919" class="Bound">f^SNe</a> <a id="14925" href="Motivation.POPLMark2.STLC.html#14925" class="Bound">t^SN</a><a id="14929" class="Symbol">)</a> <a id="14931" class="Symbol">=</a>
  <a id="14935" class="Keyword">let</a> <a id="14939" class="Symbol">(_</a> <a id="14942" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="14944" href="Motivation.POPLMark2.STLC.html#14944" class="Bound">v</a> <a id="14946" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="14948" href="Motivation.POPLMark2.STLC.html#14948" class="Bound">eq</a> <a id="14951" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="14953" href="Motivation.POPLMark2.STLC.html#14953" class="Bound">c^SN</a><a id="14957" class="Symbol">)</a> <a id="14959" class="Symbol">=</a> <a id="14961" href="Motivation.POPLMark2.STLC.html#14697" class="Function">cut⁻¹^SNe</a> <a id="14971" href="Motivation.POPLMark2.STLC.html#14919" class="Bound">f^SNe</a>
  <a id="14979" class="Keyword">in</a> <a id="14982" class="Symbol">_</a> <a id="14984" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="14986" href="Motivation.POPLMark2.STLC.html#14944" class="Bound">v</a> <a id="14988" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="14990" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="14995" class="Symbol">(</a><a id="14996" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙</a> <a id="15000" class="Symbol">_)</a> <a id="15003" href="Motivation.POPLMark2.STLC.html#14948" class="Bound">eq</a> <a id="15006" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="15008" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="15012" href="Motivation.POPLMark2.STLC.html#14953" class="Bound">c^SN</a> <a id="15017" href="Motivation.POPLMark2.STLC.html#14925" class="Bound">t^SN</a>

<a id="15023" class="Comment">-- Lemma 4.11 Thinning</a>
<a id="15046" class="Keyword">mutual</a>

 <a id="15055" class="Comment">-- 1.</a>
 <a id="th^SN"></a><a id="15062" href="Motivation.POPLMark2.STLC.html#15062" class="Function">th^SN</a> <a id="15068" class="Symbol">:</a> <a id="15070" class="Symbol">∀</a> <a id="15072" class="Symbol">{</a><a id="15073" href="Motivation.POPLMark2.STLC.html#15073" class="Bound">σ</a> <a id="15075" href="Motivation.POPLMark2.STLC.html#15075" class="Bound">Γ</a> <a id="15077" href="Motivation.POPLMark2.STLC.html#15077" class="Bound">Δ</a> <a id="15079" href="Motivation.POPLMark2.STLC.html#15079" class="Bound">t</a><a id="15080" class="Symbol">}</a> <a id="15082" href="Motivation.POPLMark2.STLC.html#15082" class="Bound">ρ</a> <a id="15084" class="Symbol">→</a> <a id="15086" href="Motivation.POPLMark2.STLC.html#15075" class="Bound">Γ</a> <a id="15088" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="15092" href="Motivation.POPLMark2.STLC.html#15073" class="Bound">σ</a> <a id="15094" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="15096" href="Motivation.POPLMark2.STLC.html#15079" class="Bound">t</a> <a id="15098" class="Symbol">→</a> <a id="15100" href="Motivation.POPLMark2.STLC.html#15077" class="Bound">Δ</a> <a id="15102" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="15106" href="Motivation.POPLMark2.STLC.html#15073" class="Bound">σ</a> <a id="15108" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="15110" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="15114" href="Motivation.POPLMark2.STLC.html#15082" class="Bound">ρ</a> <a id="15116" href="Motivation.POPLMark2.STLC.html#15079" class="Bound">t</a>
 <a id="15119" href="Motivation.POPLMark2.STLC.html#15062" class="Function">th^SN</a> <a id="15125" href="Motivation.POPLMark2.STLC.html#15125" class="Bound">ρ</a> <a id="15127" class="Symbol">(</a><a id="15128" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="15132" href="Motivation.POPLMark2.STLC.html#15132" class="Bound">n</a><a id="15133" class="Symbol">)</a>   <a id="15137" class="Symbol">=</a> <a id="15139" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="15143" class="Symbol">(</a><a id="15144" href="Motivation.POPLMark2.STLC.html#15252" class="Function">th^SNe</a> <a id="15151" href="Motivation.POPLMark2.STLC.html#15125" class="Bound">ρ</a> <a id="15153" href="Motivation.POPLMark2.STLC.html#15132" class="Bound">n</a><a id="15154" class="Symbol">)</a>
 <a id="15157" href="Motivation.POPLMark2.STLC.html#15062" class="Function">th^SN</a> <a id="15163" href="Motivation.POPLMark2.STLC.html#15163" class="Bound">ρ</a> <a id="15165" class="Symbol">(</a><a id="15166" href="Motivation.POPLMark2.STLC.html#13991" class="InductiveConstructor">lam</a> <a id="15170" href="Motivation.POPLMark2.STLC.html#15170" class="Bound">t</a><a id="15171" class="Symbol">)</a>   <a id="15175" class="Symbol">=</a> <a id="15177" href="Motivation.POPLMark2.STLC.html#13991" class="InductiveConstructor">lam</a> <a id="15181" class="Symbol">(</a><a id="15182" href="Motivation.POPLMark2.STLC.html#15062" class="Function">th^SN</a> <a id="15188" class="Symbol">_</a> <a id="15190" href="Motivation.POPLMark2.STLC.html#15170" class="Bound">t</a><a id="15191" class="Symbol">)</a>
 <a id="15194" href="Motivation.POPLMark2.STLC.html#15062" class="Function">th^SN</a> <a id="15200" href="Motivation.POPLMark2.STLC.html#15200" class="Bound">ρ</a> <a id="15202" class="Symbol">(</a><a id="15203" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="15207" href="Motivation.POPLMark2.STLC.html#15207" class="Bound">r</a> <a id="15209" href="Motivation.POPLMark2.STLC.html#15209" class="Bound">t</a><a id="15210" class="Symbol">)</a> <a id="15212" class="Symbol">=</a> <a id="15214" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="15218" class="Symbol">(</a><a id="15219" href="Motivation.POPLMark2.STLC.html#15410" class="Function">th^↝SN</a> <a id="15226" href="Motivation.POPLMark2.STLC.html#15200" class="Bound">ρ</a> <a id="15228" href="Motivation.POPLMark2.STLC.html#15207" class="Bound">r</a><a id="15229" class="Symbol">)</a> <a id="15231" class="Symbol">(</a><a id="15232" href="Motivation.POPLMark2.STLC.html#15062" class="Function">th^SN</a> <a id="15238" href="Motivation.POPLMark2.STLC.html#15200" class="Bound">ρ</a> <a id="15240" href="Motivation.POPLMark2.STLC.html#15209" class="Bound">t</a><a id="15241" class="Symbol">)</a>

 <a id="15245" class="Comment">-- 2.</a>
 <a id="th^SNe"></a><a id="15252" href="Motivation.POPLMark2.STLC.html#15252" class="Function">th^SNe</a> <a id="15259" class="Symbol">:</a> <a id="15261" class="Symbol">∀</a> <a id="15263" class="Symbol">{</a><a id="15264" href="Motivation.POPLMark2.STLC.html#15264" class="Bound">σ</a> <a id="15266" href="Motivation.POPLMark2.STLC.html#15266" class="Bound">Γ</a> <a id="15268" href="Motivation.POPLMark2.STLC.html#15268" class="Bound">Δ</a> <a id="15270" href="Motivation.POPLMark2.STLC.html#15270" class="Bound">t</a><a id="15271" class="Symbol">}</a> <a id="15273" href="Motivation.POPLMark2.STLC.html#15273" class="Bound">ρ</a> <a id="15275" class="Symbol">→</a> <a id="15277" href="Motivation.POPLMark2.STLC.html#15266" class="Bound">Γ</a> <a id="15279" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">⊢SNe</a> <a id="15284" href="Motivation.POPLMark2.STLC.html#15264" class="Bound">σ</a> <a id="15286" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">∋</a> <a id="15288" href="Motivation.POPLMark2.STLC.html#15270" class="Bound">t</a> <a id="15290" class="Symbol">→</a> <a id="15292" href="Motivation.POPLMark2.STLC.html#15268" class="Bound">Δ</a> <a id="15294" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">⊢SNe</a> <a id="15299" href="Motivation.POPLMark2.STLC.html#15264" class="Bound">σ</a> <a id="15301" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">∋</a> <a id="15303" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="15307" href="Motivation.POPLMark2.STLC.html#15273" class="Bound">ρ</a> <a id="15309" href="Motivation.POPLMark2.STLC.html#15270" class="Bound">t</a>
 <a id="15312" href="Motivation.POPLMark2.STLC.html#15252" class="Function">th^SNe</a> <a id="15319" href="Motivation.POPLMark2.STLC.html#15319" class="Bound">ρ</a> <a id="15321" class="Symbol">(</a><a id="15322" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="15326" href="Motivation.POPLMark2.STLC.html#15326" class="Bound">v</a><a id="15327" class="Symbol">)</a>   <a id="15331" class="Symbol">=</a> <a id="15333" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="15337" class="Symbol">(</a><a id="15338" href="environment.html#396" class="Field">lookup</a> <a id="15345" href="Motivation.POPLMark2.STLC.html#15319" class="Bound">ρ</a> <a id="15347" href="Motivation.POPLMark2.STLC.html#15326" class="Bound">v</a><a id="15348" class="Symbol">)</a>
 <a id="15351" href="Motivation.POPLMark2.STLC.html#15252" class="Function">th^SNe</a> <a id="15358" href="Motivation.POPLMark2.STLC.html#15358" class="Bound">ρ</a> <a id="15360" class="Symbol">(</a><a id="15361" href="Motivation.POPLMark2.STLC.html#14214" class="InductiveConstructor">app</a> <a id="15365" href="Motivation.POPLMark2.STLC.html#15365" class="Bound">n</a> <a id="15367" href="Motivation.POPLMark2.STLC.html#15367" class="Bound">t</a><a id="15368" class="Symbol">)</a> <a id="15370" class="Symbol">=</a> <a id="15372" href="Motivation.POPLMark2.STLC.html#14214" class="InductiveConstructor">app</a> <a id="15376" class="Symbol">(</a><a id="15377" href="Motivation.POPLMark2.STLC.html#15252" class="Function">th^SNe</a> <a id="15384" href="Motivation.POPLMark2.STLC.html#15358" class="Bound">ρ</a> <a id="15386" href="Motivation.POPLMark2.STLC.html#15365" class="Bound">n</a><a id="15387" class="Symbol">)</a> <a id="15389" class="Symbol">(</a><a id="15390" href="Motivation.POPLMark2.STLC.html#15062" class="Function">th^SN</a> <a id="15396" href="Motivation.POPLMark2.STLC.html#15358" class="Bound">ρ</a> <a id="15398" href="Motivation.POPLMark2.STLC.html#15367" class="Bound">t</a><a id="15399" class="Symbol">)</a>

 <a id="15403" class="Comment">-- 3.</a>
 <a id="th^↝SN"></a><a id="15410" href="Motivation.POPLMark2.STLC.html#15410" class="Function">th^↝SN</a> <a id="15417" class="Symbol">:</a> <a id="15419" class="Symbol">∀</a> <a id="15421" class="Symbol">{</a><a id="15422" href="Motivation.POPLMark2.STLC.html#15422" class="Bound">σ</a> <a id="15424" href="Motivation.POPLMark2.STLC.html#15424" class="Bound">Γ</a> <a id="15426" href="Motivation.POPLMark2.STLC.html#15426" class="Bound">Δ</a> <a id="15428" href="Motivation.POPLMark2.STLC.html#15428" class="Bound">t</a> <a id="15430" href="Motivation.POPLMark2.STLC.html#15430" class="Bound">u</a><a id="15431" class="Symbol">}</a> <a id="15433" href="Motivation.POPLMark2.STLC.html#15433" class="Bound">ρ</a> <a id="15435" class="Symbol">→</a> <a id="15437" href="Motivation.POPLMark2.STLC.html#15424" class="Bound">Γ</a> <a id="15439" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">⊢</a> <a id="15441" href="Motivation.POPLMark2.STLC.html#15422" class="Bound">σ</a> <a id="15443" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">∋</a> <a id="15445" href="Motivation.POPLMark2.STLC.html#15428" class="Bound">t</a> <a id="15447" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">↝SN</a> <a id="15451" href="Motivation.POPLMark2.STLC.html#15430" class="Bound">u</a> <a id="15453" class="Symbol">→</a> <a id="15455" href="Motivation.POPLMark2.STLC.html#15426" class="Bound">Δ</a> <a id="15457" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">⊢</a> <a id="15459" href="Motivation.POPLMark2.STLC.html#15422" class="Bound">σ</a> <a id="15461" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">∋</a> <a id="15463" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="15467" href="Motivation.POPLMark2.STLC.html#15433" class="Bound">ρ</a> <a id="15469" href="Motivation.POPLMark2.STLC.html#15428" class="Bound">t</a> <a id="15471" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">↝SN</a> <a id="15475" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="15479" href="Motivation.POPLMark2.STLC.html#15433" class="Bound">ρ</a> <a id="15481" href="Motivation.POPLMark2.STLC.html#15430" class="Bound">u</a>
 <a id="15484" href="Motivation.POPLMark2.STLC.html#15410" class="Function">th^↝SN</a> <a id="15491" href="Motivation.POPLMark2.STLC.html#15491" class="Bound">ρ</a> <a id="15493" class="Symbol">(</a><a id="15494" href="Motivation.POPLMark2.STLC.html#13730" class="InductiveConstructor">β</a> <a id="15496" href="Motivation.POPLMark2.STLC.html#15496" class="Bound">t</a> <a id="15498" href="Motivation.POPLMark2.STLC.html#15498" class="Bound">u</a> <a id="15500" href="Motivation.POPLMark2.STLC.html#15500" class="Bound">u^SN</a><a id="15504" class="Symbol">)</a> <a id="15506" class="Symbol">=</a> <a id="15508" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="15514" class="Symbol">(_</a> <a id="15517" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">⊢</a> <a id="15519" class="Symbol">_</a> <a id="15521" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">∋</a> <a id="15523" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="15527" href="Motivation.POPLMark2.STLC.html#15491" class="Bound">ρ</a> <a id="15529" class="Symbol">(</a><a id="15530" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="15533" href="Motivation.POPLMark2.STLC.html#15496" class="Bound">t</a> <a id="15535" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="15538" href="Motivation.POPLMark2.STLC.html#15498" class="Bound">u</a><a id="15539" class="Symbol">)</a> <a id="15541" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">↝SN_&lt;</a> <a id="15547" class="Symbol">_)</a> <a id="15550" class="Symbol">(</a><a id="15551" href="Generic.Fusion.Syntactic.html#5467" class="Function">renβ</a> <a id="15556" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="15562" href="Motivation.POPLMark2.STLC.html#15496" class="Bound">t</a> <a id="15564" class="Symbol">(</a><a id="15565" href="environment.html#515" class="Function">ε</a> <a id="15567" href="environment.html#2070" class="Function Operator">∙</a> <a id="15569" href="Motivation.POPLMark2.STLC.html#15498" class="Bound">u</a><a id="15570" class="Symbol">)</a> <a id="15572" href="Motivation.POPLMark2.STLC.html#15491" class="Bound">ρ</a><a id="15573" class="Symbol">)</a>
                       <a id="15598" href="Function.html#1881" class="Function Operator">$</a> <a id="15600" href="Motivation.POPLMark2.STLC.html#13730" class="InductiveConstructor">β</a> <a id="15602" class="Symbol">_</a> <a id="15604" class="Symbol">(</a><a id="15605" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="15609" href="Motivation.POPLMark2.STLC.html#15491" class="Bound">ρ</a> <a id="15611" href="Motivation.POPLMark2.STLC.html#15498" class="Bound">u</a><a id="15612" class="Symbol">)</a> <a id="15614" class="Symbol">(</a><a id="15615" href="Motivation.POPLMark2.STLC.html#15062" class="Function">th^SN</a> <a id="15621" href="Motivation.POPLMark2.STLC.html#15491" class="Bound">ρ</a> <a id="15623" href="Motivation.POPLMark2.STLC.html#15500" class="Bound">u^SN</a><a id="15627" class="Symbol">)</a>
 <a id="15630" href="Motivation.POPLMark2.STLC.html#15410" class="Function">th^↝SN</a> <a id="15637" href="Motivation.POPLMark2.STLC.html#15637" class="Bound">ρ</a> <a id="15639" class="Symbol">(</a><a id="15640" href="Motivation.POPLMark2.STLC.html#13823" class="InductiveConstructor">[∙]₂</a> <a id="15645" href="Motivation.POPLMark2.STLC.html#15645" class="Bound">r</a> <a id="15647" href="Motivation.POPLMark2.STLC.html#15647" class="Bound">t</a><a id="15648" class="Symbol">)</a>   <a id="15652" class="Symbol">=</a> <a id="15654" href="Motivation.POPLMark2.STLC.html#13823" class="InductiveConstructor">[∙]₂</a> <a id="15659" class="Symbol">(</a><a id="15660" href="Motivation.POPLMark2.STLC.html#15410" class="Function">th^↝SN</a> <a id="15667" href="Motivation.POPLMark2.STLC.html#15637" class="Bound">ρ</a> <a id="15669" href="Motivation.POPLMark2.STLC.html#15645" class="Bound">r</a><a id="15670" class="Symbol">)</a> <a id="15672" class="Symbol">(</a><a id="15673" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="15677" href="Motivation.POPLMark2.STLC.html#15637" class="Bound">ρ</a> <a id="15679" href="Motivation.POPLMark2.STLC.html#15647" class="Bound">t</a><a id="15680" class="Symbol">)</a>

<a id="15683" class="Comment">-- Lemma 4.12 Anti-Thinning</a>

<a id="15712" class="Keyword">mutual</a>

 <a id="15721" class="Comment">-- 1.</a>
 <a id="th⁻¹^SN"></a><a id="15728" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="15736" class="Symbol">:</a> <a id="15738" class="Symbol">∀</a> <a id="15740" class="Symbol">{</a><a id="15741" href="Motivation.POPLMark2.STLC.html#15741" class="Bound">σ</a> <a id="15743" href="Motivation.POPLMark2.STLC.html#15743" class="Bound">Γ</a> <a id="15745" href="Motivation.POPLMark2.STLC.html#15745" class="Bound">Δ</a> <a id="15747" href="Motivation.POPLMark2.STLC.html#15747" class="Bound">t′</a><a id="15749" class="Symbol">}</a> <a id="15751" href="Motivation.POPLMark2.STLC.html#15751" class="Bound">t</a> <a id="15753" href="Motivation.POPLMark2.STLC.html#15753" class="Bound">ρ</a> <a id="15755" class="Symbol">→</a> <a id="15757" href="Motivation.POPLMark2.STLC.html#15747" class="Bound">t′</a> <a id="15760" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="15762" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="15766" href="Motivation.POPLMark2.STLC.html#15753" class="Bound">ρ</a> <a id="15768" href="Motivation.POPLMark2.STLC.html#15751" class="Bound">t</a> <a id="15770" class="Symbol">→</a> <a id="15772" href="Motivation.POPLMark2.STLC.html#15745" class="Bound">Δ</a> <a id="15774" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="15778" href="Motivation.POPLMark2.STLC.html#15741" class="Bound">σ</a> <a id="15780" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="15782" href="Motivation.POPLMark2.STLC.html#15747" class="Bound">t′</a> <a id="15785" class="Symbol">→</a> <a id="15787" href="Motivation.POPLMark2.STLC.html#15743" class="Bound">Γ</a> <a id="15789" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="15793" href="Motivation.POPLMark2.STLC.html#15741" class="Bound">σ</a> <a id="15795" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="15797" href="Motivation.POPLMark2.STLC.html#15751" class="Bound">t</a>
 <a id="15800" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="15808" href="Motivation.POPLMark2.STLC.html#15808" class="Bound">t</a>        <a id="15817" href="Motivation.POPLMark2.STLC.html#15817" class="Bound">ρ</a> <a id="15819" href="Motivation.POPLMark2.STLC.html#15819" class="Bound">eq</a>    <a id="15825" class="Symbol">(</a><a id="15826" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="15830" href="Motivation.POPLMark2.STLC.html#15830" class="Bound">pr</a><a id="15832" class="Symbol">)</a>    <a id="15837" class="Symbol">=</a> <a id="15839" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="15843" class="Symbol">(</a><a id="15844" href="Motivation.POPLMark2.STLC.html#16119" class="Function">th⁻¹^SNe</a> <a id="15853" href="Motivation.POPLMark2.STLC.html#15808" class="Bound">t</a> <a id="15855" href="Motivation.POPLMark2.STLC.html#15817" class="Bound">ρ</a> <a id="15857" href="Motivation.POPLMark2.STLC.html#15819" class="Bound">eq</a> <a id="15860" href="Motivation.POPLMark2.STLC.html#15830" class="Bound">pr</a><a id="15862" class="Symbol">)</a>
 <a id="15865" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="15873" class="Symbol">(</a><a id="15874" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="15877" href="Motivation.POPLMark2.STLC.html#15877" class="Bound">t</a><a id="15878" class="Symbol">)</a>   <a id="15882" href="Motivation.POPLMark2.STLC.html#15882" class="Bound">ρ</a> <a id="15884" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>  <a id="15890" class="Symbol">(</a><a id="15891" href="Motivation.POPLMark2.STLC.html#13991" class="InductiveConstructor">lam</a> <a id="15895" href="Motivation.POPLMark2.STLC.html#15895" class="Bound">pr</a><a id="15897" class="Symbol">)</a>    <a id="15902" class="Symbol">=</a> <a id="15904" href="Motivation.POPLMark2.STLC.html#13991" class="InductiveConstructor">lam</a> <a id="15908" class="Symbol">(</a><a id="15909" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="15917" href="Motivation.POPLMark2.STLC.html#15877" class="Bound">t</a> <a id="15919" class="Symbol">_</a> <a id="15921" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="15926" href="Motivation.POPLMark2.STLC.html#15895" class="Bound">pr</a><a id="15928" class="Symbol">)</a>
 <a id="15931" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="15939" href="Motivation.POPLMark2.STLC.html#15939" class="Bound">t</a>        <a id="15948" href="Motivation.POPLMark2.STLC.html#15948" class="Bound">ρ</a> <a id="15950" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>  <a id="15956" class="Symbol">(</a><a id="15957" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="15961" href="Motivation.POPLMark2.STLC.html#15961" class="Bound">r</a> <a id="15963" href="Motivation.POPLMark2.STLC.html#15963" class="Bound">pr</a><a id="15965" class="Symbol">)</a>  <a id="15968" class="Symbol">=</a>
   <a id="15973" class="Keyword">let</a> <a id="15977" class="Symbol">(</a><a id="15978" href="Motivation.POPLMark2.STLC.html#15978" class="Bound">t′</a> <a id="15981" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="15983" href="Motivation.POPLMark2.STLC.html#15983" class="Bound">eq</a> <a id="15986" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="15988" href="Motivation.POPLMark2.STLC.html#15988" class="Bound">r′</a><a id="15990" class="Symbol">)</a> <a id="15992" class="Symbol">=</a> <a id="15994" href="Motivation.POPLMark2.STLC.html#16339" class="Function">th⁻¹^↝SN</a> <a id="16003" href="Motivation.POPLMark2.STLC.html#15939" class="Bound">t</a> <a id="16005" href="Motivation.POPLMark2.STLC.html#15948" class="Bound">ρ</a> <a id="16007" href="Motivation.POPLMark2.STLC.html#15961" class="Bound">r</a> <a id="16009" class="Keyword">in</a> <a id="16012" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="16016" href="Motivation.POPLMark2.STLC.html#15988" class="Bound">r′</a> <a id="16019" class="Symbol">(</a><a id="16020" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="16028" href="Motivation.POPLMark2.STLC.html#15978" class="Bound">t′</a> <a id="16031" href="Motivation.POPLMark2.STLC.html#15948" class="Bound">ρ</a> <a id="16033" href="Motivation.POPLMark2.STLC.html#15983" class="Bound">eq</a> <a id="16036" href="Motivation.POPLMark2.STLC.html#15963" class="Bound">pr</a><a id="16038" class="Symbol">)</a>
 <a id="16041" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="16049" class="Symbol">(</a><a id="16050" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="16055" href="Motivation.POPLMark2.STLC.html#16055" class="Bound">v</a><a id="16056" class="Symbol">)</a> <a id="16058" href="Motivation.POPLMark2.STLC.html#16058" class="Bound">ρ</a> <a id="16060" class="Symbol">()</a>    <a id="16066" class="Symbol">(</a><a id="16067" href="Motivation.POPLMark2.STLC.html#13991" class="InductiveConstructor">lam</a> <a id="16071" href="Motivation.POPLMark2.STLC.html#16071" class="Bound">pr</a><a id="16073" class="Symbol">)</a>
 <a id="16076" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="16084" class="Symbol">(</a><a id="16085" href="Motivation.POPLMark2.STLC.html#16085" class="Bound">f</a> <a id="16087" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="16090" href="Motivation.POPLMark2.STLC.html#16090" class="Bound">t</a><a id="16091" class="Symbol">)</a> <a id="16093" href="Motivation.POPLMark2.STLC.html#16093" class="Bound">ρ</a> <a id="16095" class="Symbol">()</a>    <a id="16101" class="Symbol">(</a><a id="16102" href="Motivation.POPLMark2.STLC.html#13991" class="InductiveConstructor">lam</a> <a id="16106" href="Motivation.POPLMark2.STLC.html#16106" class="Bound">pr</a><a id="16108" class="Symbol">)</a>

 <a id="16112" class="Comment">-- 2.</a>
 <a id="th⁻¹^SNe"></a><a id="16119" href="Motivation.POPLMark2.STLC.html#16119" class="Function">th⁻¹^SNe</a> <a id="16128" class="Symbol">:</a> <a id="16130" class="Symbol">∀</a> <a id="16132" class="Symbol">{</a><a id="16133" href="Motivation.POPLMark2.STLC.html#16133" class="Bound">σ</a> <a id="16135" href="Motivation.POPLMark2.STLC.html#16135" class="Bound">Γ</a> <a id="16137" href="Motivation.POPLMark2.STLC.html#16137" class="Bound">Δ</a> <a id="16139" href="Motivation.POPLMark2.STLC.html#16139" class="Bound">t′</a><a id="16141" class="Symbol">}</a> <a id="16143" href="Motivation.POPLMark2.STLC.html#16143" class="Bound">t</a> <a id="16145" href="Motivation.POPLMark2.STLC.html#16145" class="Bound">ρ</a> <a id="16147" class="Symbol">→</a> <a id="16149" href="Motivation.POPLMark2.STLC.html#16139" class="Bound">t′</a> <a id="16152" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="16154" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="16158" href="Motivation.POPLMark2.STLC.html#16145" class="Bound">ρ</a> <a id="16160" href="Motivation.POPLMark2.STLC.html#16143" class="Bound">t</a> <a id="16162" class="Symbol">→</a> <a id="16164" href="Motivation.POPLMark2.STLC.html#16137" class="Bound">Δ</a> <a id="16166" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">⊢SNe</a> <a id="16171" href="Motivation.POPLMark2.STLC.html#16133" class="Bound">σ</a> <a id="16173" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">∋</a> <a id="16175" href="Motivation.POPLMark2.STLC.html#16139" class="Bound">t′</a> <a id="16178" class="Symbol">→</a> <a id="16180" href="Motivation.POPLMark2.STLC.html#16135" class="Bound">Γ</a> <a id="16182" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">⊢SNe</a> <a id="16187" href="Motivation.POPLMark2.STLC.html#16133" class="Bound">σ</a> <a id="16189" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">∋</a> <a id="16191" href="Motivation.POPLMark2.STLC.html#16143" class="Bound">t</a>
 <a id="16194" href="Motivation.POPLMark2.STLC.html#16119" class="Function">th⁻¹^SNe</a> <a id="16203" class="Symbol">(</a><a id="16204" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="16209" href="Motivation.POPLMark2.STLC.html#16209" class="Bound">v</a><a id="16210" class="Symbol">)</a> <a id="16212" href="Motivation.POPLMark2.STLC.html#16212" class="Bound">ρ</a> <a id="16214" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="16219" class="Symbol">(</a><a id="16220" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="16224" class="Symbol">_)</a>     <a id="16231" class="Symbol">=</a> <a id="16233" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="16237" href="Motivation.POPLMark2.STLC.html#16209" class="Bound">v</a>
 <a id="16240" href="Motivation.POPLMark2.STLC.html#16119" class="Function">th⁻¹^SNe</a> <a id="16249" class="Symbol">(</a><a id="16250" href="Motivation.POPLMark2.STLC.html#16250" class="Bound">f</a> <a id="16252" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="16255" href="Motivation.POPLMark2.STLC.html#16255" class="Bound">t</a><a id="16256" class="Symbol">)</a> <a id="16258" href="Motivation.POPLMark2.STLC.html#16258" class="Bound">ρ</a> <a id="16260" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="16265" class="Symbol">(</a><a id="16266" href="Motivation.POPLMark2.STLC.html#14214" class="InductiveConstructor">app</a> <a id="16270" href="Motivation.POPLMark2.STLC.html#16270" class="Bound">rf</a> <a id="16273" href="Motivation.POPLMark2.STLC.html#16273" class="Bound">rt</a><a id="16275" class="Symbol">)</a> <a id="16277" class="Symbol">=</a>
  <a id="16281" href="Motivation.POPLMark2.STLC.html#14214" class="InductiveConstructor">app</a> <a id="16285" class="Symbol">(</a><a id="16286" href="Motivation.POPLMark2.STLC.html#16119" class="Function">th⁻¹^SNe</a> <a id="16295" href="Motivation.POPLMark2.STLC.html#16250" class="Bound">f</a> <a id="16297" href="Motivation.POPLMark2.STLC.html#16258" class="Bound">ρ</a> <a id="16299" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="16304" href="Motivation.POPLMark2.STLC.html#16270" class="Bound">rf</a><a id="16306" class="Symbol">)</a> <a id="16308" class="Symbol">(</a><a id="16309" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="16317" href="Motivation.POPLMark2.STLC.html#16255" class="Bound">t</a> <a id="16319" href="Motivation.POPLMark2.STLC.html#16258" class="Bound">ρ</a> <a id="16321" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="16326" href="Motivation.POPLMark2.STLC.html#16273" class="Bound">rt</a><a id="16328" class="Symbol">)</a>

 <a id="16332" class="Comment">-- 3.</a>
 <a id="th⁻¹^↝SN"></a><a id="16339" href="Motivation.POPLMark2.STLC.html#16339" class="Function">th⁻¹^↝SN</a> <a id="16348" class="Symbol">:</a> <a id="16350" class="Symbol">∀</a> <a id="16352" class="Symbol">{</a><a id="16353" href="Motivation.POPLMark2.STLC.html#16353" class="Bound">σ</a> <a id="16355" href="Motivation.POPLMark2.STLC.html#16355" class="Bound">Γ</a> <a id="16357" href="Motivation.POPLMark2.STLC.html#16357" class="Bound">Δ</a> <a id="16359" href="Motivation.POPLMark2.STLC.html#16359" class="Bound">u</a><a id="16360" class="Symbol">}</a> <a id="16362" href="Motivation.POPLMark2.STLC.html#16362" class="Bound">t</a> <a id="16364" href="Motivation.POPLMark2.STLC.html#16364" class="Bound">ρ</a> <a id="16366" class="Symbol">→</a> <a id="16368" href="Motivation.POPLMark2.STLC.html#16357" class="Bound">Δ</a> <a id="16370" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">⊢</a> <a id="16372" href="Motivation.POPLMark2.STLC.html#16353" class="Bound">σ</a> <a id="16374" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">∋</a> <a id="16376" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="16380" href="Motivation.POPLMark2.STLC.html#16364" class="Bound">ρ</a> <a id="16382" href="Motivation.POPLMark2.STLC.html#16362" class="Bound">t</a> <a id="16384" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">↝SN</a> <a id="16388" href="Motivation.POPLMark2.STLC.html#16359" class="Bound">u</a> <a id="16390" class="Symbol">→</a> <a id="16392" href="Data.Product.html#880" class="Function">∃</a> <a id="16394" class="Symbol">λ</a> <a id="16396" href="Motivation.POPLMark2.STLC.html#16396" class="Bound">u′</a> <a id="16399" class="Symbol">→</a> <a id="16401" href="Motivation.POPLMark2.STLC.html#16359" class="Bound">u</a> <a id="16403" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="16405" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="16409" href="Motivation.POPLMark2.STLC.html#16364" class="Bound">ρ</a> <a id="16411" href="Motivation.POPLMark2.STLC.html#16396" class="Bound">u′</a> <a id="16414" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="16416" href="Motivation.POPLMark2.STLC.html#16355" class="Bound">Γ</a> <a id="16418" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">⊢</a> <a id="16420" href="Motivation.POPLMark2.STLC.html#16353" class="Bound">σ</a> <a id="16422" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">∋</a> <a id="16424" href="Motivation.POPLMark2.STLC.html#16362" class="Bound">t</a> <a id="16426" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">↝SN</a> <a id="16430" href="Motivation.POPLMark2.STLC.html#16396" class="Bound">u′</a>

 <a id="16435" href="Motivation.POPLMark2.STLC.html#16339" class="Function">th⁻¹^↝SN</a> <a id="16444" class="Symbol">(</a><a id="16445" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="16450" href="Motivation.POPLMark2.STLC.html#16450" class="Bound">v</a><a id="16451" class="Symbol">)</a> <a id="16453" href="Motivation.POPLMark2.STLC.html#16453" class="Bound">ρ</a> <a id="16455" class="Symbol">()</a>
 <a id="16459" href="Motivation.POPLMark2.STLC.html#16339" class="Function">th⁻¹^↝SN</a> <a id="16468" class="Symbol">(</a><a id="16469" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="16472" href="Motivation.POPLMark2.STLC.html#16472" class="Bound">b</a><a id="16473" class="Symbol">)</a>   <a id="16477" href="Motivation.POPLMark2.STLC.html#16477" class="Bound">ρ</a> <a id="16479" class="Symbol">()</a>
 <a id="16483" href="Motivation.POPLMark2.STLC.html#16339" class="Function">th⁻¹^↝SN</a> <a id="16492" class="Symbol">(</a><a id="16493" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="16496" href="Motivation.POPLMark2.STLC.html#16496" class="Bound">b</a> <a id="16498" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="16501" href="Motivation.POPLMark2.STLC.html#16501" class="Bound">t</a><a id="16502" class="Symbol">)</a> <a id="16504" href="Motivation.POPLMark2.STLC.html#16504" class="Bound">ρ</a> <a id="16506" class="Symbol">(</a><a id="16507" href="Motivation.POPLMark2.STLC.html#13730" class="InductiveConstructor">β</a> <a id="16509" class="DottedPattern Symbol">._</a> <a id="16512" class="DottedPattern Symbol">._</a> <a id="16515" href="Motivation.POPLMark2.STLC.html#16515" class="Bound">t^SN</a><a id="16519" class="Symbol">)</a> <a id="16521" class="Symbol">=</a> <a id="16523" href="Motivation.POPLMark2.STLC.html#16496" class="Bound">b</a> <a id="16525" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="16527" href="Motivation.POPLMark2.STLC.html#16501" class="Bound">t</a> <a id="16529" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a> <a id="16533" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="16535" href="Generic.Fusion.Syntactic.html#5467" class="Function">renβ</a> <a id="16540" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="16546" href="Motivation.POPLMark2.STLC.html#16496" class="Bound">b</a> <a id="16548" class="Symbol">(</a><a id="16549" href="environment.html#515" class="Function">ε</a> <a id="16551" href="environment.html#2070" class="Function Operator">∙</a> <a id="16553" href="Motivation.POPLMark2.STLC.html#16501" class="Bound">t</a><a id="16554" class="Symbol">)</a> <a id="16556" href="Motivation.POPLMark2.STLC.html#16504" class="Bound">ρ</a> <a id="16558" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="16560" href="Motivation.POPLMark2.STLC.html#13730" class="InductiveConstructor">β</a> <a id="16562" href="Motivation.POPLMark2.STLC.html#16496" class="Bound">b</a> <a id="16564" href="Motivation.POPLMark2.STLC.html#16501" class="Bound">t</a> <a id="16566" class="Symbol">(</a><a id="16567" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="16575" href="Motivation.POPLMark2.STLC.html#16501" class="Bound">t</a> <a id="16577" href="Motivation.POPLMark2.STLC.html#16504" class="Bound">ρ</a> <a id="16579" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="16584" href="Motivation.POPLMark2.STLC.html#16515" class="Bound">t^SN</a><a id="16588" class="Symbol">)</a>
 <a id="16591" href="Motivation.POPLMark2.STLC.html#16339" class="CatchallClause Function">th⁻¹^↝SN</a><a id="16599" class="CatchallClause"> </a><a id="16600" class="CatchallClause Symbol">(</a><a id="16601" href="Motivation.POPLMark2.STLC.html#16601" class="CatchallClause Bound">f</a><a id="16602" class="CatchallClause"> </a><a id="16603" href="Motivation.POPLMark2.STLC.html#1802" class="CatchallClause InductiveConstructor Operator">`∙</a><a id="16605" class="CatchallClause"> </a><a id="16606" href="Motivation.POPLMark2.STLC.html#16606" class="CatchallClause Bound">t</a><a id="16607" class="CatchallClause Symbol">)</a><a id="16608" class="CatchallClause">    </a><a id="16612" href="Motivation.POPLMark2.STLC.html#16612" class="CatchallClause Bound">ρ</a><a id="16613" class="CatchallClause"> </a><a id="16614" class="CatchallClause Symbol">(</a><a id="16615" href="Motivation.POPLMark2.STLC.html#13823" class="CatchallClause InductiveConstructor">[∙]₂</a><a id="16619" class="CatchallClause"> </a><a id="16620" href="Motivation.POPLMark2.STLC.html#16620" class="CatchallClause Bound">r</a><a id="16621" class="CatchallClause"> </a><a id="16622" class="CatchallClause DottedPattern Symbol">._</a><a id="16624" class="CatchallClause Symbol">)</a>    <a id="16629" class="Symbol">=</a>
   <a id="16634" class="Keyword">let</a> <a id="16638" class="Symbol">(</a><a id="16639" href="Motivation.POPLMark2.STLC.html#16639" class="Bound">g</a> <a id="16641" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="16643" href="Motivation.POPLMark2.STLC.html#16643" class="Bound">eq</a> <a id="16646" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="16648" href="Motivation.POPLMark2.STLC.html#16648" class="Bound">r′</a><a id="16650" class="Symbol">)</a> <a id="16652" class="Symbol">=</a> <a id="16654" href="Motivation.POPLMark2.STLC.html#16339" class="Function">th⁻¹^↝SN</a> <a id="16663" href="Motivation.POPLMark2.STLC.html#16601" class="Bound">f</a> <a id="16665" href="Motivation.POPLMark2.STLC.html#16612" class="Bound">ρ</a> <a id="16667" href="Motivation.POPLMark2.STLC.html#16620" class="Bound">r</a> <a id="16669" class="Keyword">in</a> <a id="16672" href="Motivation.POPLMark2.STLC.html#16639" class="Bound">g</a> <a id="16674" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="16677" href="Motivation.POPLMark2.STLC.html#16606" class="Bound">t</a> <a id="16679" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="16681" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="16686" class="Symbol">(</a><a id="16687" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙</a> <a id="16691" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="16695" href="Motivation.POPLMark2.STLC.html#16612" class="Bound">ρ</a> <a id="16697" href="Motivation.POPLMark2.STLC.html#16606" class="Bound">t</a><a id="16698" class="Symbol">)</a> <a id="16700" href="Motivation.POPLMark2.STLC.html#16643" class="Bound">eq</a> <a id="16703" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="16705" href="Motivation.POPLMark2.STLC.html#13823" class="InductiveConstructor">[∙]₂</a> <a id="16710" href="Motivation.POPLMark2.STLC.html#16648" class="Bound">r′</a> <a id="16713" href="Motivation.POPLMark2.STLC.html#16606" class="Bound">t</a>

<a id="16716" class="Comment">-- Lemma 4.13 SNe is closed under application</a>
<a id="_SNe∙_"></a><a id="16762" href="Motivation.POPLMark2.STLC.html#16762" class="Function Operator">_SNe∙_</a> <a id="16769" class="Symbol">:</a> <a id="16771" class="Symbol">∀</a> <a id="16773" class="Symbol">{</a><a id="16774" href="Motivation.POPLMark2.STLC.html#16774" class="Bound">Γ</a> <a id="16776" href="Motivation.POPLMark2.STLC.html#16776" class="Bound">σ</a> <a id="16778" href="Motivation.POPLMark2.STLC.html#16778" class="Bound">τ</a> <a id="16780" href="Motivation.POPLMark2.STLC.html#16780" class="Bound">f</a> <a id="16782" href="Motivation.POPLMark2.STLC.html#16782" class="Bound">t</a><a id="16783" class="Symbol">}</a> <a id="16785" class="Symbol">→</a> <a id="16787" href="Motivation.POPLMark2.STLC.html#16774" class="Bound">Γ</a> <a id="16789" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">⊢SNe</a> <a id="16794" href="Motivation.POPLMark2.STLC.html#16776" class="Bound">σ</a> <a id="16796" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="16798" href="Motivation.POPLMark2.STLC.html#16778" class="Bound">τ</a> <a id="16800" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">∋</a> <a id="16802" href="Motivation.POPLMark2.STLC.html#16780" class="Bound">f</a> <a id="16804" class="Symbol">→</a> <a id="16806" href="Motivation.POPLMark2.STLC.html#16774" class="Bound">Γ</a> <a id="16808" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="16812" href="Motivation.POPLMark2.STLC.html#16776" class="Bound">σ</a> <a id="16814" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="16816" href="Motivation.POPLMark2.STLC.html#16782" class="Bound">t</a> <a id="16818" class="Symbol">→</a> <a id="16820" href="Motivation.POPLMark2.STLC.html#16774" class="Bound">Γ</a> <a id="16822" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="16826" href="Motivation.POPLMark2.STLC.html#16778" class="Bound">τ</a> <a id="16828" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="16830" href="Motivation.POPLMark2.STLC.html#16780" class="Bound">f</a> <a id="16832" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="16835" href="Motivation.POPLMark2.STLC.html#16782" class="Bound">t</a>
<a id="16837" href="Motivation.POPLMark2.STLC.html#16837" class="Bound">f^SNe</a> <a id="16843" href="Motivation.POPLMark2.STLC.html#16762" class="Function Operator">SNe∙</a> <a id="16848" href="Motivation.POPLMark2.STLC.html#16848" class="Bound">t^SN</a> <a id="16853" class="Symbol">=</a> <a id="16855" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="16859" class="Symbol">(</a><a id="16860" href="Motivation.POPLMark2.STLC.html#14214" class="InductiveConstructor">app</a> <a id="16864" href="Motivation.POPLMark2.STLC.html#16837" class="Bound">f^SNe</a> <a id="16870" href="Motivation.POPLMark2.STLC.html#16848" class="Bound">t^SN</a><a id="16874" class="Symbol">)</a>

<a id="16877" class="Comment">-- Lemma 4.14: Extensionality of SN</a>
<a id="SNe-ext"></a><a id="16913" href="Motivation.POPLMark2.STLC.html#16913" class="Function">SNe-ext</a> <a id="16921" class="Symbol">:</a> <a id="16923" class="Symbol">∀</a> <a id="16925" class="Symbol">{</a><a id="16926" href="Motivation.POPLMark2.STLC.html#16926" class="Bound">Γ</a> <a id="16928" href="Motivation.POPLMark2.STLC.html#16928" class="Bound">σ</a> <a id="16930" href="Motivation.POPLMark2.STLC.html#16930" class="Bound">τ</a> <a id="16932" href="Motivation.POPLMark2.STLC.html#16932" class="Bound">f</a><a id="16933" class="Symbol">}</a> <a id="16935" href="Motivation.POPLMark2.STLC.html#16935" class="Bound">v</a> <a id="16937" class="Symbol">→</a> <a id="16939" href="Motivation.POPLMark2.STLC.html#16926" class="Bound">Γ</a> <a id="16941" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">⊢SNe</a> <a id="16946" href="Motivation.POPLMark2.STLC.html#16930" class="Bound">τ</a> <a id="16948" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">∋</a> <a id="16950" href="Motivation.POPLMark2.STLC.html#16932" class="Bound">f</a> <a id="16952" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="16955" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="16960" href="Motivation.POPLMark2.STLC.html#16935" class="Bound">v</a> <a id="16962" class="Symbol">→</a> <a id="16964" href="Motivation.POPLMark2.STLC.html#16926" class="Bound">Γ</a> <a id="16966" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">⊢SNe</a> <a id="16971" href="Motivation.POPLMark2.STLC.html#16928" class="Bound">σ</a> <a id="16973" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="16975" href="Motivation.POPLMark2.STLC.html#16930" class="Bound">τ</a> <a id="16977" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">∋</a> <a id="16979" href="Motivation.POPLMark2.STLC.html#16932" class="Bound">f</a>
<a id="16981" href="Motivation.POPLMark2.STLC.html#16913" class="Function">SNe-ext</a> <a id="16989" href="Motivation.POPLMark2.STLC.html#16989" class="Bound">v</a> <a id="16991" class="Symbol">(</a><a id="16992" href="Motivation.POPLMark2.STLC.html#14214" class="InductiveConstructor">app</a> <a id="16996" href="Motivation.POPLMark2.STLC.html#16996" class="Bound">f^SNe</a> <a id="17002" href="Motivation.POPLMark2.STLC.html#17002" class="Bound">v^SN</a><a id="17006" class="Symbol">)</a> <a id="17008" class="Symbol">=</a> <a id="17010" href="Motivation.POPLMark2.STLC.html#16996" class="Bound">f^SNe</a>

<a id="SN-ext"></a><a id="17017" href="Motivation.POPLMark2.STLC.html#17017" class="Function">SN-ext</a> <a id="17024" class="Symbol">:</a> <a id="17026" class="Symbol">∀</a> <a id="17028" class="Symbol">{</a><a id="17029" href="Motivation.POPLMark2.STLC.html#17029" class="Bound">Γ</a> <a id="17031" href="Motivation.POPLMark2.STLC.html#17031" class="Bound">σ</a> <a id="17033" href="Motivation.POPLMark2.STLC.html#17033" class="Bound">τ</a> <a id="17035" href="Motivation.POPLMark2.STLC.html#17035" class="Bound">f</a><a id="17036" class="Symbol">}</a> <a id="17038" href="Motivation.POPLMark2.STLC.html#17038" class="Bound">v</a> <a id="17040" class="Symbol">→</a> <a id="17042" href="Motivation.POPLMark2.STLC.html#17029" class="Bound">Γ</a> <a id="17044" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="17048" href="Motivation.POPLMark2.STLC.html#17033" class="Bound">τ</a> <a id="17050" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="17052" href="Motivation.POPLMark2.STLC.html#17035" class="Bound">f</a> <a id="17054" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="17057" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="17062" href="Motivation.POPLMark2.STLC.html#17038" class="Bound">v</a> <a id="17064" class="Symbol">→</a> <a id="17066" href="Motivation.POPLMark2.STLC.html#17029" class="Bound">Γ</a> <a id="17068" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="17072" href="Motivation.POPLMark2.STLC.html#17031" class="Bound">σ</a> <a id="17074" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="17076" href="Motivation.POPLMark2.STLC.html#17033" class="Bound">τ</a> <a id="17078" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="17080" href="Motivation.POPLMark2.STLC.html#17035" class="Bound">f</a>
<a id="17082" href="Motivation.POPLMark2.STLC.html#17017" class="Function">SN-ext</a> <a id="17089" href="Motivation.POPLMark2.STLC.html#17089" class="Bound">v</a> <a id="17091" class="Symbol">(</a><a id="17092" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="17096" href="Motivation.POPLMark2.STLC.html#17096" class="Bound">fv^SNe</a><a id="17102" class="Symbol">)</a>   <a id="17106" class="Symbol">=</a> <a id="17108" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="17112" class="Symbol">(</a><a id="17113" href="Motivation.POPLMark2.STLC.html#16913" class="Function">SNe-ext</a> <a id="17121" href="Motivation.POPLMark2.STLC.html#17089" class="Bound">v</a> <a id="17123" href="Motivation.POPLMark2.STLC.html#17096" class="Bound">fv^SNe</a><a id="17129" class="Symbol">)</a>
<a id="17131" href="Motivation.POPLMark2.STLC.html#17017" class="Function">SN-ext</a> <a id="17138" href="Motivation.POPLMark2.STLC.html#17138" class="Bound">v</a> <a id="17140" class="Symbol">(</a><a id="17141" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="17145" class="Symbol">(</a><a id="17146" href="Motivation.POPLMark2.STLC.html#13823" class="InductiveConstructor">[∙]₂</a> <a id="17151" href="Motivation.POPLMark2.STLC.html#17151" class="Bound">r</a> <a id="17153" class="DottedPattern Symbol">.(</a><a id="17155" href="Generic.Syntax.html#1125" class="DottedPattern InductiveConstructor">`var</a> <a id="17160" href="Motivation.POPLMark2.STLC.html#17138" class="DottedPattern Bound">v</a><a id="17161" class="DottedPattern Symbol">)</a><a id="17162" class="Symbol">)</a>   <a id="17166" href="Motivation.POPLMark2.STLC.html#17166" class="Bound">fv^SN</a><a id="17171" class="Symbol">)</a> <a id="17173" class="Symbol">=</a> <a id="17175" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="17179" href="Motivation.POPLMark2.STLC.html#17151" class="Bound">r</a> <a id="17181" class="Symbol">(</a><a id="17182" href="Motivation.POPLMark2.STLC.html#17017" class="Function">SN-ext</a> <a id="17189" href="Motivation.POPLMark2.STLC.html#17138" class="Bound">v</a> <a id="17191" href="Motivation.POPLMark2.STLC.html#17166" class="Bound">fv^SN</a><a id="17196" class="Symbol">)</a>
<a id="17198" href="Motivation.POPLMark2.STLC.html#17017" class="Function">SN-ext</a> <a id="17205" href="Motivation.POPLMark2.STLC.html#17205" class="Bound">v</a> <a id="17207" class="Symbol">(</a><a id="17208" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="17212" class="Symbol">(</a><a id="17213" href="Motivation.POPLMark2.STLC.html#13730" class="InductiveConstructor">β</a> <a id="17215" href="Motivation.POPLMark2.STLC.html#17215" class="Bound">t</a> <a id="17217" class="DottedPattern Symbol">.(</a><a id="17219" href="Generic.Syntax.html#1125" class="DottedPattern InductiveConstructor">`var</a> <a id="17224" href="Motivation.POPLMark2.STLC.html#17205" class="DottedPattern Bound">v</a><a id="17225" class="DottedPattern Symbol">)</a> <a id="17227" href="Motivation.POPLMark2.STLC.html#17227" class="Bound">v^SN</a><a id="17231" class="Symbol">)</a> <a id="17233" href="Motivation.POPLMark2.STLC.html#17233" class="Bound">fv^SN</a><a id="17238" class="Symbol">)</a> <a id="17240" class="Symbol">=</a> <a id="17242" href="Motivation.POPLMark2.STLC.html#13991" class="InductiveConstructor">lam</a> <a id="17246" class="Symbol">(</a><a id="17247" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="17255" href="Motivation.POPLMark2.STLC.html#17215" class="Bound">t</a> <a id="17257" class="Symbol">(</a><a id="17258" href="varlike.html#455" class="Function">base</a> <a id="17263" href="varlike.html#863" class="Function">vl^Var</a> <a id="17270" href="environment.html#2070" class="Function Operator">∙</a> <a id="17272" href="Motivation.POPLMark2.STLC.html#17205" class="Bound">v</a><a id="17273" class="Symbol">)</a> <a id="17275" href="Motivation.POPLMark2.STLC.html#17293" class="Function">eq</a> <a id="17278" href="Motivation.POPLMark2.STLC.html#17233" class="Bound">fv^SN</a><a id="17283" class="Symbol">)</a> <a id="17285" class="Keyword">where</a>
  <a id="17293" href="Motivation.POPLMark2.STLC.html#17293" class="Function">eq</a> <a id="17296" class="Symbol">=</a> <a id="17298" href="Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a> <a id="17302" href="Function.html#1881" class="Function Operator">$</a> <a id="17304" href="Generic.Simulation.html#1573" class="Function">Sim.sim</a> <a id="17312" href="Generic.Simulation.Syntactic.html#894" class="Function">Sim.RenSub</a> <a id="17323" class="Symbol">(</a><a id="17324" href="Generic.Semantics.Syntactic.html#1491" class="Function">base^VarTm^R</a> <a id="17337" href="rel.html#901" class="Function Operator">∙^R</a> <a id="17341" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="17345" class="Symbol">)</a> <a id="17347" href="Motivation.POPLMark2.STLC.html#17215" class="Bound">t</a>

<a id="17350" class="Comment">-- Section 4.3 Soundness (Short alternative proof)</a>
<a id="17401" class="Keyword">infix</a> <a id="17407" class="Number">4</a> <a id="17409" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">_⊢_∋_↝sn_&lt;_</a> <a id="17421" href="Motivation.POPLMark2.STLC.html#17653" class="Function Operator">_⊢_∋_↝sn_</a>
<a id="17431" class="Keyword">data</a> <a id="_⊢_∋_↝sn_&lt;_"></a><a id="17436" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">_⊢_∋_↝sn_&lt;_</a> <a id="17448" href="Motivation.POPLMark2.STLC.html#17448" class="Bound">Γ</a> <a id="17450" href="Motivation.POPLMark2.STLC.html#17450" class="Bound">τ</a> <a id="17452" class="Symbol">:</a> <a id="17454" class="Symbol">(</a><a id="17455" href="Motivation.POPLMark2.STLC.html#17455" class="Bound">t</a> <a id="17457" href="Motivation.POPLMark2.STLC.html#17457" class="Bound">u</a> <a id="17459" class="Symbol">:</a> <a id="17461" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="17466" href="Motivation.POPLMark2.STLC.html#17450" class="Bound">τ</a> <a id="17468" href="Motivation.POPLMark2.STLC.html#17448" class="Bound">Γ</a><a id="17469" class="Symbol">)</a> <a id="17471" class="Symbol">→</a> <a id="17473" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a> <a id="17478" class="Symbol">→</a> <a id="17480" class="PrimitiveType">Set</a> <a id="17484" class="Keyword">where</a>
  <a id="_⊢_∋_↝sn_&lt;_.β"></a><a id="17492" href="Motivation.POPLMark2.STLC.html#17492" class="InductiveConstructor">β</a>    <a id="17497" class="Symbol">:</a> <a id="17499" class="Symbol">∀</a> <a id="17501" class="Symbol">{</a><a id="17502" href="Motivation.POPLMark2.STLC.html#17502" class="Bound">σ</a> <a id="17504" href="Motivation.POPLMark2.STLC.html#17504" class="Bound">i</a><a id="17505" class="Symbol">}</a> <a id="17507" href="Motivation.POPLMark2.STLC.html#17507" class="Bound">b</a> <a id="17509" href="Motivation.POPLMark2.STLC.html#17509" class="Bound">u</a> <a id="17511" class="Symbol">→</a> <a id="17513" href="Motivation.POPLMark2.STLC.html#17448" class="Bound">Γ</a> <a id="17515" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="17519" href="Motivation.POPLMark2.STLC.html#17502" class="Bound">σ</a> <a id="17521" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="17523" href="Motivation.POPLMark2.STLC.html#17509" class="Bound">u</a> <a id="17525" class="Symbol">→</a> <a id="17527" href="Motivation.POPLMark2.STLC.html#17448" class="Bound">Γ</a> <a id="17529" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">⊢</a> <a id="17531" href="Motivation.POPLMark2.STLC.html#17450" class="Bound">τ</a> <a id="17533" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">∋</a> <a id="17535" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="17538" href="Motivation.POPLMark2.STLC.html#17507" class="Bound">b</a> <a id="17540" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="17543" href="Motivation.POPLMark2.STLC.html#17509" class="Bound">u</a> <a id="17545" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">↝sn</a> <a id="17549" href="Motivation.POPLMark2.STLC.html#17507" class="Bound">b</a> <a id="17551" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="17553" href="Motivation.POPLMark2.STLC.html#17509" class="Bound">u</a> <a id="17555" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a> <a id="17559" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">&lt;</a> <a id="17561" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="17563" href="Motivation.POPLMark2.STLC.html#17504" class="Bound">i</a>
  <a id="_⊢_∋_↝sn_&lt;_.[∙]₂"></a><a id="17567" href="Motivation.POPLMark2.STLC.html#17567" class="InductiveConstructor">[∙]₂</a> <a id="17572" class="Symbol">:</a> <a id="17574" class="Symbol">∀</a> <a id="17576" class="Symbol">{</a><a id="17577" href="Motivation.POPLMark2.STLC.html#17577" class="Bound">σ</a> <a id="17579" href="Motivation.POPLMark2.STLC.html#17579" class="Bound">f</a> <a id="17581" href="Motivation.POPLMark2.STLC.html#17581" class="Bound">g</a> <a id="17583" href="Motivation.POPLMark2.STLC.html#17583" class="Bound">i</a><a id="17584" class="Symbol">}</a> <a id="17586" class="Symbol">→</a> <a id="17588" href="Motivation.POPLMark2.STLC.html#17448" class="Bound">Γ</a> <a id="17590" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">⊢</a> <a id="17592" href="Motivation.POPLMark2.STLC.html#17577" class="Bound">σ</a> <a id="17594" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="17596" href="Motivation.POPLMark2.STLC.html#17450" class="Bound">τ</a> <a id="17598" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">∋</a> <a id="17600" href="Motivation.POPLMark2.STLC.html#17579" class="Bound">f</a> <a id="17602" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">↝sn</a> <a id="17606" href="Motivation.POPLMark2.STLC.html#17581" class="Bound">g</a> <a id="17608" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">&lt;</a> <a id="17610" href="Motivation.POPLMark2.STLC.html#17583" class="Bound">i</a> <a id="17612" class="Symbol">→</a> <a id="17614" class="Symbol">∀</a> <a id="17616" href="Motivation.POPLMark2.STLC.html#17616" class="Bound">t</a> <a id="17618" class="Symbol">→</a> <a id="17620" href="Motivation.POPLMark2.STLC.html#17448" class="Bound">Γ</a> <a id="17622" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">⊢</a> <a id="17624" href="Motivation.POPLMark2.STLC.html#17450" class="Bound">τ</a> <a id="17626" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">∋</a> <a id="17628" href="Motivation.POPLMark2.STLC.html#17579" class="Bound">f</a> <a id="17630" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="17633" href="Motivation.POPLMark2.STLC.html#17616" class="Bound">t</a> <a id="17635" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">↝sn</a> <a id="17639" href="Motivation.POPLMark2.STLC.html#17581" class="Bound">g</a> <a id="17641" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="17644" href="Motivation.POPLMark2.STLC.html#17616" class="Bound">t</a> <a id="17646" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">&lt;</a> <a id="17648" href="Agda.Builtin.Size.html#178" class="Postulate Operator">↑</a> <a id="17650" href="Motivation.POPLMark2.STLC.html#17583" class="Bound">i</a>

<a id="_⊢_∋_↝sn_"></a><a id="17653" href="Motivation.POPLMark2.STLC.html#17653" class="Function Operator">_⊢_∋_↝sn_</a> <a id="17663" class="Symbol">=</a> <a id="17665" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">_⊢_∋_↝sn_&lt;</a> <a id="17676" class="Symbol">_</a>

<a id="17679" class="Comment">-- Lemma 4.17 Backwards closure of sn</a>
<a id="↝sn⁻¹^sn"></a><a id="17717" href="Motivation.POPLMark2.STLC.html#17717" class="Function">↝sn⁻¹^sn</a> <a id="17726" class="Symbol">:</a> <a id="17728" class="Symbol">∀</a> <a id="17730" class="Symbol">{</a><a id="17731" href="Motivation.POPLMark2.STLC.html#17731" class="Bound">Γ</a> <a id="17733" href="Motivation.POPLMark2.STLC.html#17733" class="Bound">σ</a> <a id="17735" href="Motivation.POPLMark2.STLC.html#17735" class="Bound">τ</a> <a id="17737" href="Motivation.POPLMark2.STLC.html#17737" class="Bound">t′</a> <a id="17740" href="Motivation.POPLMark2.STLC.html#17740" class="Bound">t</a> <a id="17742" href="Motivation.POPLMark2.STLC.html#17742" class="Bound">i</a><a id="17743" class="Symbol">}</a> <a id="17745" href="Motivation.POPLMark2.STLC.html#17745" class="Bound">c</a> <a id="17747" class="Symbol">→</a> <a id="17749" href="Motivation.POPLMark2.STLC.html#17731" class="Bound">Γ</a> <a id="17751" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">⊢</a> <a id="17753" href="Motivation.POPLMark2.STLC.html#17733" class="Bound">σ</a> <a id="17755" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">∋</a> <a id="17757" href="Motivation.POPLMark2.STLC.html#17737" class="Bound">t′</a> <a id="17760" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">↝sn</a> <a id="17764" href="Motivation.POPLMark2.STLC.html#17740" class="Bound">t</a> <a id="17766" href="Motivation.POPLMark2.STLC.html#17436" class="Datatype Operator">&lt;</a> <a id="17768" href="Motivation.POPLMark2.STLC.html#17742" class="Bound">i</a> <a id="17770" class="Symbol">→</a>
           <a id="17783" href="Motivation.POPLMark2.STLC.html#17731" class="Bound">Γ</a> <a id="17785" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="17789" href="Motivation.POPLMark2.STLC.html#17735" class="Bound">τ</a> <a id="17791" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="17793" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="17797" href="Motivation.POPLMark2.STLC.html#17740" class="Bound">t</a> <a id="17799" href="Motivation.POPLMark2.STLC.html#17745" class="Bound">c</a> <a id="17801" class="Symbol">→</a> <a id="17803" href="Motivation.POPLMark2.STLC.html#17731" class="Bound">Γ</a> <a id="17805" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="17809" href="Motivation.POPLMark2.STLC.html#17735" class="Bound">τ</a> <a id="17811" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="17813" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="17817" href="Motivation.POPLMark2.STLC.html#17737" class="Bound">t′</a> <a id="17820" href="Motivation.POPLMark2.STLC.html#17745" class="Bound">c</a>
<a id="17822" href="Motivation.POPLMark2.STLC.html#17717" class="Function">↝sn⁻¹^sn</a> <a id="17831" href="Motivation.POPLMark2.STLC.html#17831" class="Bound">c</a> <a id="17833" class="Symbol">(</a><a id="17834" href="Motivation.POPLMark2.STLC.html#17492" class="InductiveConstructor">β</a> <a id="17836" href="Motivation.POPLMark2.STLC.html#17836" class="Bound">b</a> <a id="17838" href="Motivation.POPLMark2.STLC.html#17838" class="Bound">u</a> <a id="17840" href="Motivation.POPLMark2.STLC.html#17840" class="Bound">u^sn</a><a id="17844" class="Symbol">)</a>  <a id="17847" href="Motivation.POPLMark2.STLC.html#17847" class="Bound">c[b[u]]^sn</a> <a id="17858" class="Symbol">=</a>
  <a id="17862" class="Keyword">let</a> <a id="17866" class="Symbol">(</a><a id="17867" href="Motivation.POPLMark2.STLC.html#17867" class="Bound">c^sn</a> <a id="17872" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17874" href="Motivation.POPLMark2.STLC.html#17874" class="Bound">b[u]^sn</a><a id="17881" class="Symbol">)</a> <a id="17883" class="Symbol">=</a> <a id="17885" href="Motivation.POPLMark2.STLC.html#10572" class="Function">cut⁻¹^sn</a> <a id="17894" class="Symbol">(</a><a id="17895" href="Motivation.POPLMark2.STLC.html#17836" class="Bound">b</a> <a id="17897" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="17899" href="Motivation.POPLMark2.STLC.html#17838" class="Bound">u</a> <a id="17901" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="17904" class="Symbol">)</a> <a id="17906" href="Motivation.POPLMark2.STLC.html#17831" class="Bound">c</a> <a id="17908" href="Motivation.POPLMark2.STLC.html#17847" class="Bound">c[b[u]]^sn</a> <a id="17919" class="Keyword">in</a>
  <a id="17924" class="Keyword">let</a> <a id="17928" href="Motivation.POPLMark2.STLC.html#17928" class="Bound">b^sn</a> <a id="17933" class="Symbol">=</a> <a id="17935" href="Motivation.POPLMark2.STLC.html#7412" class="Function">[/0]⁻¹^sn</a> <a id="17945" href="Motivation.POPLMark2.STLC.html#17836" class="Bound">b</a> <a id="17947" href="Motivation.POPLMark2.STLC.html#17838" class="Bound">u</a> <a id="17949" href="Motivation.POPLMark2.STLC.html#17874" class="Bound">b[u]^sn</a> <a id="17957" class="Keyword">in</a>
  <a id="17962" href="Motivation.POPLMark2.STLC.html#13138" class="Function">β⁻¹^sn</a> <a id="17969" href="Motivation.POPLMark2.STLC.html#17928" class="Bound">b^sn</a> <a id="17974" href="Motivation.POPLMark2.STLC.html#17840" class="Bound">u^sn</a> <a id="17979" href="Motivation.POPLMark2.STLC.html#17847" class="Bound">c[b[u]]^sn</a> <a id="17990" href="Motivation.POPLMark2.STLC.html#17867" class="Bound">c^sn</a>
<a id="17995" href="Motivation.POPLMark2.STLC.html#17717" class="Function">↝sn⁻¹^sn</a> <a id="18004" href="Motivation.POPLMark2.STLC.html#18004" class="Bound">c</a> <a id="18006" class="Symbol">(</a><a id="18007" href="Motivation.POPLMark2.STLC.html#17567" class="InductiveConstructor">[∙]₂</a> <a id="18012" href="Motivation.POPLMark2.STLC.html#18012" class="Bound">r^sn</a> <a id="18017" href="Motivation.POPLMark2.STLC.html#18017" class="Bound">u</a><a id="18018" class="Symbol">)</a> <a id="18020" href="Motivation.POPLMark2.STLC.html#18020" class="Bound">c[ft]^sn</a>   <a id="18031" class="Symbol">=</a>
  <a id="18035" class="Keyword">let</a> <a id="18039" href="Motivation.POPLMark2.STLC.html#18039" class="Bound">eq</a> <a id="18042" href="Motivation.POPLMark2.STLC.html#18042" class="Bound">t</a>   <a id="18046" class="Symbol">=</a> <a id="18048" href="Motivation.POPLMark2.STLC.html#11956" class="Function">cut-∘C</a> <a id="18055" href="Motivation.POPLMark2.STLC.html#18042" class="Bound">t</a> <a id="18057" href="Motivation.POPLMark2.STLC.html#18004" class="Bound">c</a> <a id="18059" class="Symbol">(</a><a id="18060" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="18064" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a> <a id="18067" href="Motivation.POPLMark2.STLC.html#18017" class="Bound">u</a><a id="18068" class="Symbol">)</a> <a id="18070" class="Keyword">in</a>
  <a id="18075" class="Keyword">let</a> <a id="18079" href="Motivation.POPLMark2.STLC.html#18079" class="Bound">ft^sn′</a> <a id="18086" class="Symbol">=</a> <a id="18088" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="18094" class="Symbol">(_</a> <a id="18097" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="18101" class="Symbol">_</a> <a id="18103" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋_</a><a id="18105" class="Symbol">)</a> <a id="18107" class="Symbol">(</a><a id="18108" href="Motivation.POPLMark2.STLC.html#18039" class="Bound">eq</a> <a id="18111" class="Symbol">_)</a> <a id="18114" href="Motivation.POPLMark2.STLC.html#18020" class="Bound">c[ft]^sn</a> <a id="18123" class="Keyword">in</a>
  <a id="18128" class="Keyword">let</a> <a id="18132" href="Motivation.POPLMark2.STLC.html#18132" class="Bound">ih</a>     <a id="18139" class="Symbol">=</a> <a id="18141" href="Motivation.POPLMark2.STLC.html#17717" class="Function">↝sn⁻¹^sn</a> <a id="18150" class="Symbol">(</a><a id="18151" href="Motivation.POPLMark2.STLC.html#18004" class="Bound">c</a> <a id="18153" href="Motivation.POPLMark2.STLC.html#11849" class="Function Operator">∘C</a> <a id="18156" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="18160" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a> <a id="18163" href="Motivation.POPLMark2.STLC.html#18017" class="Bound">u</a><a id="18164" class="Symbol">)</a> <a id="18166" href="Motivation.POPLMark2.STLC.html#18012" class="Bound">r^sn</a> <a id="18171" href="Motivation.POPLMark2.STLC.html#18079" class="Bound">ft^sn′</a> <a id="18178" class="Keyword">in</a>
  <a id="18183" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="18189" class="Symbol">(_</a> <a id="18192" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="18196" class="Symbol">_</a> <a id="18198" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋_</a><a id="18200" class="Symbol">)</a> <a id="18202" class="Symbol">(</a><a id="18203" href="Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a> <a id="18207" class="Symbol">(</a><a id="18208" href="Motivation.POPLMark2.STLC.html#18039" class="Bound">eq</a> <a id="18211" class="Symbol">_))</a> <a id="18215" href="Motivation.POPLMark2.STLC.html#18132" class="Bound">ih</a>

 <a id="18220" class="Comment">-- Theorem 4.18 Soundness of SN</a>
<a id="18252" class="Keyword">mutual</a>
  <a id="18261" class="Comment">-- 1.</a>
  <a id="sound^SN"></a><a id="18269" href="Motivation.POPLMark2.STLC.html#18269" class="Function">sound^SN</a> <a id="18278" class="Symbol">:</a> <a id="18280" class="Symbol">∀</a> <a id="18282" class="Symbol">{</a><a id="18283" href="Motivation.POPLMark2.STLC.html#18283" class="Bound">Γ</a> <a id="18285" href="Motivation.POPLMark2.STLC.html#18285" class="Bound">σ</a> <a id="18287" href="Motivation.POPLMark2.STLC.html#18287" class="Bound">t</a> <a id="18289" href="Motivation.POPLMark2.STLC.html#18289" class="Bound">i</a><a id="18290" class="Symbol">}</a> <a id="18292" class="Symbol">→</a> <a id="18294" href="Motivation.POPLMark2.STLC.html#18283" class="Bound">Γ</a> <a id="18296" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">⊢SN</a> <a id="18300" href="Motivation.POPLMark2.STLC.html#18285" class="Bound">σ</a> <a id="18302" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">∋</a> <a id="18304" href="Motivation.POPLMark2.STLC.html#18287" class="Bound">t</a> <a id="18306" href="Motivation.POPLMark2.STLC.html#13551" class="Datatype Operator">&lt;</a> <a id="18308" href="Motivation.POPLMark2.STLC.html#18289" class="Bound">i</a> <a id="18310" class="Symbol">→</a> <a id="18312" href="Motivation.POPLMark2.STLC.html#18283" class="Bound">Γ</a> <a id="18314" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="18318" href="Motivation.POPLMark2.STLC.html#18285" class="Bound">σ</a> <a id="18320" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="18322" href="Motivation.POPLMark2.STLC.html#18287" class="Bound">t</a>
  <a id="18326" href="Motivation.POPLMark2.STLC.html#18269" class="Function">sound^SN</a> <a id="18335" class="Symbol">(</a><a id="18336" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="18340" href="Motivation.POPLMark2.STLC.html#18340" class="Bound">t^SNe</a><a id="18345" class="Symbol">)</a>  <a id="18348" class="Symbol">=</a> <a id="18350" class="Keyword">let</a> <a id="18354" class="Symbol">(_</a> <a id="18357" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18359" href="Motivation.POPLMark2.STLC.html#18359" class="Bound">v</a> <a id="18361" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18363" href="Motivation.POPLMark2.STLC.html#18363" class="Bound">eq</a> <a id="18366" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18368" href="Motivation.POPLMark2.STLC.html#18368" class="Bound">c^SN</a><a id="18372" class="Symbol">)</a> <a id="18374" class="Symbol">=</a> <a id="18376" href="Motivation.POPLMark2.STLC.html#14697" class="Function">cut⁻¹^SNe</a> <a id="18386" href="Motivation.POPLMark2.STLC.html#18340" class="Bound">t^SNe</a> <a id="18392" class="Keyword">in</a>
                          <a id="18421" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="18427" class="Symbol">(_</a> <a id="18430" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="18434" class="Symbol">_</a> <a id="18436" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋_</a><a id="18438" class="Symbol">)</a> <a id="18440" class="Symbol">(</a><a id="18441" href="Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a> <a id="18445" href="Motivation.POPLMark2.STLC.html#18363" class="Bound">eq</a><a id="18447" class="Symbol">)</a> <a id="18449" class="Symbol">(</a><a id="18450" href="Motivation.POPLMark2.STLC.html#11614" class="Function">cut^sn</a> <a id="18457" class="Symbol">_</a> <a id="18459" class="Symbol">(</a><a id="18460" href="Motivation.POPLMark2.STLC.html#18604" class="Function">sound^∣SN</a> <a id="18470" href="Motivation.POPLMark2.STLC.html#18368" class="Bound">c^SN</a><a id="18474" class="Symbol">))</a>
  <a id="18479" href="Motivation.POPLMark2.STLC.html#18269" class="Function">sound^SN</a> <a id="18488" class="Symbol">(</a><a id="18489" href="Motivation.POPLMark2.STLC.html#13991" class="InductiveConstructor">lam</a> <a id="18493" href="Motivation.POPLMark2.STLC.html#18493" class="Bound">b^SN</a><a id="18497" class="Symbol">)</a>   <a id="18501" class="Symbol">=</a> <a id="18503" href="Motivation.POPLMark2.STLC.html#7540" class="Function">`λ^sn</a> <a id="18509" class="Symbol">(</a><a id="18510" href="Motivation.POPLMark2.STLC.html#18269" class="Function">sound^SN</a> <a id="18519" href="Motivation.POPLMark2.STLC.html#18493" class="Bound">b^SN</a><a id="18523" class="Symbol">)</a>
  <a id="18527" href="Motivation.POPLMark2.STLC.html#18269" class="Function">sound^SN</a> <a id="18536" class="Symbol">(</a><a id="18537" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="18541" href="Motivation.POPLMark2.STLC.html#18541" class="Bound">r</a> <a id="18543" href="Motivation.POPLMark2.STLC.html#18543" class="Bound">t^SN</a><a id="18547" class="Symbol">)</a> <a id="18549" class="Symbol">=</a> <a id="18551" href="Motivation.POPLMark2.STLC.html#17717" class="Function">↝sn⁻¹^sn</a> <a id="18560" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a> <a id="18563" class="Symbol">(</a><a id="18564" href="Motivation.POPLMark2.STLC.html#18781" class="Function">sound^↝SN</a> <a id="18574" href="Motivation.POPLMark2.STLC.html#18541" class="Bound">r</a><a id="18575" class="Symbol">)</a> <a id="18577" class="Symbol">(</a><a id="18578" href="Motivation.POPLMark2.STLC.html#18269" class="Function">sound^SN</a> <a id="18587" href="Motivation.POPLMark2.STLC.html#18543" class="Bound">t^SN</a><a id="18591" class="Symbol">)</a>

  <a id="18596" class="Comment">-- 2.</a>
  <a id="sound^∣SN"></a><a id="18604" href="Motivation.POPLMark2.STLC.html#18604" class="Function">sound^∣SN</a> <a id="18614" class="Symbol">:</a> <a id="18616" class="Symbol">∀</a> <a id="18618" class="Symbol">{</a><a id="18619" href="Motivation.POPLMark2.STLC.html#18619" class="Bound">Γ</a> <a id="18621" href="Motivation.POPLMark2.STLC.html#18621" class="Bound">α</a> <a id="18623" href="Motivation.POPLMark2.STLC.html#18623" class="Bound">σ</a> <a id="18625" href="Motivation.POPLMark2.STLC.html#18625" class="Bound">c</a> <a id="18627" href="Motivation.POPLMark2.STLC.html#18627" class="Bound">i</a><a id="18628" class="Symbol">}</a> <a id="18630" class="Symbol">→</a> <a id="18632" href="Motivation.POPLMark2.STLC.html#18619" class="Bound">Γ</a> <a id="18634" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">∣</a> <a id="18636" href="Motivation.POPLMark2.STLC.html#18621" class="Bound">α</a> <a id="18638" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">⊢SN</a> <a id="18642" href="Motivation.POPLMark2.STLC.html#18623" class="Bound">σ</a> <a id="18644" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">∋</a> <a id="18646" href="Motivation.POPLMark2.STLC.html#18625" class="Bound">c</a> <a id="18648" href="Motivation.POPLMark2.STLC.html#14634" class="Function Operator">&lt;</a> <a id="18650" href="Motivation.POPLMark2.STLC.html#18627" class="Bound">i</a> <a id="18652" class="Symbol">→</a> <a id="18654" href="Motivation.POPLMark2.STLC.html#18619" class="Bound">Γ</a> <a id="18656" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∣</a> <a id="18658" href="Motivation.POPLMark2.STLC.html#18621" class="Bound">α</a> <a id="18660" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">⊢sn</a> <a id="18664" href="Motivation.POPLMark2.STLC.html#18623" class="Bound">σ</a> <a id="18666" href="Motivation.POPLMark2.STLC.html#8734" class="Function Operator">∋</a> <a id="18668" href="Motivation.POPLMark2.STLC.html#18625" class="Bound">c</a>
  <a id="18672" href="Motivation.POPLMark2.STLC.html#18604" class="Function">sound^∣SN</a> <a id="18682" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a>              <a id="18698" class="Symbol">=</a> <a id="18700" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a>
  <a id="18705" href="Motivation.POPLMark2.STLC.html#18604" class="Function">sound^∣SN</a> <a id="18715" class="Symbol">(</a><a id="18716" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="18720" href="Motivation.POPLMark2.STLC.html#18720" class="Bound">c^SN</a> <a id="18725" href="Motivation.POPLMark2.STLC.html#18725" class="Bound">t^SN</a><a id="18729" class="Symbol">)</a> <a id="18731" class="Symbol">=</a> <a id="18733" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="18737" class="Symbol">(</a><a id="18738" href="Motivation.POPLMark2.STLC.html#18604" class="Function">sound^∣SN</a> <a id="18748" href="Motivation.POPLMark2.STLC.html#18720" class="Bound">c^SN</a><a id="18752" class="Symbol">)</a> <a id="18754" class="Symbol">(</a><a id="18755" href="Motivation.POPLMark2.STLC.html#18269" class="Function">sound^SN</a> <a id="18764" href="Motivation.POPLMark2.STLC.html#18725" class="Bound">t^SN</a><a id="18768" class="Symbol">)</a>

  <a id="18773" class="Comment">-- 3.</a>
  <a id="sound^↝SN"></a><a id="18781" href="Motivation.POPLMark2.STLC.html#18781" class="Function">sound^↝SN</a> <a id="18791" class="Symbol">:</a> <a id="18793" class="Symbol">∀</a> <a id="18795" class="Symbol">{</a><a id="18796" href="Motivation.POPLMark2.STLC.html#18796" class="Bound">Γ</a> <a id="18798" href="Motivation.POPLMark2.STLC.html#18798" class="Bound">σ</a> <a id="18800" href="Motivation.POPLMark2.STLC.html#18800" class="Bound">t</a> <a id="18802" href="Motivation.POPLMark2.STLC.html#18802" class="Bound">u</a> <a id="18804" href="Motivation.POPLMark2.STLC.html#18804" class="Bound">i</a><a id="18805" class="Symbol">}</a> <a id="18807" class="Symbol">→</a> <a id="18809" href="Motivation.POPLMark2.STLC.html#18796" class="Bound">Γ</a> <a id="18811" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">⊢</a> <a id="18813" href="Motivation.POPLMark2.STLC.html#18798" class="Bound">σ</a> <a id="18815" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">∋</a> <a id="18817" href="Motivation.POPLMark2.STLC.html#18800" class="Bound">t</a> <a id="18819" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">↝SN</a> <a id="18823" href="Motivation.POPLMark2.STLC.html#18802" class="Bound">u</a> <a id="18825" href="Motivation.POPLMark2.STLC.html#13495" class="Datatype Operator">&lt;</a> <a id="18827" href="Motivation.POPLMark2.STLC.html#18804" class="Bound">i</a> <a id="18829" class="Symbol">→</a> <a id="18831" href="Motivation.POPLMark2.STLC.html#18796" class="Bound">Γ</a> <a id="18833" href="Motivation.POPLMark2.STLC.html#17653" class="Function Operator">⊢</a> <a id="18835" href="Motivation.POPLMark2.STLC.html#18798" class="Bound">σ</a> <a id="18837" href="Motivation.POPLMark2.STLC.html#17653" class="Function Operator">∋</a> <a id="18839" href="Motivation.POPLMark2.STLC.html#18800" class="Bound">t</a> <a id="18841" href="Motivation.POPLMark2.STLC.html#17653" class="Function Operator">↝sn</a> <a id="18845" href="Motivation.POPLMark2.STLC.html#18802" class="Bound">u</a>
  <a id="18849" href="Motivation.POPLMark2.STLC.html#18781" class="Function">sound^↝SN</a> <a id="18859" class="Symbol">(</a><a id="18860" href="Motivation.POPLMark2.STLC.html#13730" class="InductiveConstructor">β</a> <a id="18862" href="Motivation.POPLMark2.STLC.html#18862" class="Bound">t</a> <a id="18864" href="Motivation.POPLMark2.STLC.html#18864" class="Bound">u</a> <a id="18866" href="Motivation.POPLMark2.STLC.html#18866" class="Bound">u^SN</a><a id="18870" class="Symbol">)</a> <a id="18872" class="Symbol">=</a> <a id="18874" href="Motivation.POPLMark2.STLC.html#17492" class="InductiveConstructor">β</a> <a id="18876" href="Motivation.POPLMark2.STLC.html#18862" class="Bound">t</a> <a id="18878" href="Motivation.POPLMark2.STLC.html#18864" class="Bound">u</a> <a id="18880" class="Symbol">(</a><a id="18881" href="Motivation.POPLMark2.STLC.html#18269" class="Function">sound^SN</a> <a id="18890" href="Motivation.POPLMark2.STLC.html#18866" class="Bound">u^SN</a><a id="18894" class="Symbol">)</a>
  <a id="18898" href="Motivation.POPLMark2.STLC.html#18781" class="Function">sound^↝SN</a> <a id="18908" class="Symbol">(</a><a id="18909" href="Motivation.POPLMark2.STLC.html#13823" class="InductiveConstructor">[∙]₂</a> <a id="18914" href="Motivation.POPLMark2.STLC.html#18914" class="Bound">r</a> <a id="18916" href="Motivation.POPLMark2.STLC.html#18916" class="Bound">t</a><a id="18917" class="Symbol">)</a>   <a id="18921" class="Symbol">=</a> <a id="18923" href="Motivation.POPLMark2.STLC.html#17567" class="InductiveConstructor">[∙]₂</a> <a id="18928" class="Symbol">(</a><a id="18929" href="Motivation.POPLMark2.STLC.html#18781" class="Function">sound^↝SN</a> <a id="18939" href="Motivation.POPLMark2.STLC.html#18914" class="Bound">r</a><a id="18940" class="Symbol">)</a> <a id="18942" href="Motivation.POPLMark2.STLC.html#18916" class="Bound">t</a>

<a id="18945" class="Comment">-- Section 4.4 Soundness and Completeness</a>

<a id="18988" class="Comment">-- Theorem 4.16 Completeness of SN</a>

<a id="19024" class="Keyword">mutual</a>
  <a id="19033" class="Comment">-- 1.</a>
  <a id="complete^SNe"></a><a id="19041" href="Motivation.POPLMark2.STLC.html#19041" class="Function">complete^SNe</a> <a id="19054" class="Symbol">:</a> <a id="19056" class="Symbol">∀</a> <a id="19058" class="Symbol">{</a><a id="19059" href="Motivation.POPLMark2.STLC.html#19059" class="Bound">Γ</a> <a id="19061" href="Motivation.POPLMark2.STLC.html#19061" class="Bound">σ</a> <a id="19063" href="Motivation.POPLMark2.STLC.html#19063" class="Bound">α</a> <a id="19065" href="Motivation.POPLMark2.STLC.html#19065" class="Bound">i</a> <a id="19067" href="Motivation.POPLMark2.STLC.html#19067" class="Bound">c</a><a id="19068" class="Symbol">}</a> <a id="19070" href="Motivation.POPLMark2.STLC.html#19070" class="Bound">v</a> <a id="19072" class="Symbol">→</a> <a id="19074" href="Motivation.POPLMark2.STLC.html#19059" class="Bound">Γ</a> <a id="19076" href="Motivation.POPLMark2.STLC.html#14671" class="Function Operator">∣</a> <a id="19078" href="Motivation.POPLMark2.STLC.html#19063" class="Bound">α</a> <a id="19080" href="Motivation.POPLMark2.STLC.html#14671" class="Function Operator">⊢SN</a> <a id="19084" href="Motivation.POPLMark2.STLC.html#19061" class="Bound">σ</a> <a id="19086" href="Motivation.POPLMark2.STLC.html#14671" class="Function Operator">∋</a> <a id="19088" href="Motivation.POPLMark2.STLC.html#19067" class="Bound">c</a> <a id="19090" class="Symbol">→</a>
                 <a id="19109" class="Keyword">let</a> <a id="19113" href="Motivation.POPLMark2.STLC.html#19113" class="Bound">t</a> <a id="19115" class="Symbol">=</a> <a id="19117" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="19121" class="Symbol">(</a><a id="19122" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="19127" href="Motivation.POPLMark2.STLC.html#19070" class="Bound">v</a><a id="19128" class="Symbol">)</a> <a id="19130" href="Motivation.POPLMark2.STLC.html#19067" class="Bound">c</a> <a id="19132" class="Keyword">in</a>
                 <a id="19152" class="Symbol">∀</a> <a id="19154" class="Symbol">{</a><a id="19155" href="Motivation.POPLMark2.STLC.html#19155" class="Bound">t′</a><a id="19157" class="Symbol">}</a> <a id="19159" class="Symbol">→</a> <a id="19161" href="Motivation.POPLMark2.STLC.html#19155" class="Bound">t′</a> <a id="19164" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="19166" href="Motivation.POPLMark2.STLC.html#19113" class="Bound">t</a> <a id="19168" class="Symbol">→</a> <a id="19170" href="Motivation.POPLMark2.STLC.html#19059" class="Bound">Γ</a> <a id="19172" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="19176" href="Motivation.POPLMark2.STLC.html#19061" class="Bound">σ</a> <a id="19178" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="19180" href="Motivation.POPLMark2.STLC.html#19155" class="Bound">t′</a> <a id="19183" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="19185" href="Motivation.POPLMark2.STLC.html#19065" class="Bound">i</a> <a id="19187" class="Symbol">→</a> <a id="19189" href="Motivation.POPLMark2.STLC.html#19059" class="Bound">Γ</a> <a id="19191" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">⊢SNe</a> <a id="19196" href="Motivation.POPLMark2.STLC.html#19061" class="Bound">σ</a> <a id="19198" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">∋</a> <a id="19200" href="Motivation.POPLMark2.STLC.html#19155" class="Bound">t′</a>
  <a id="19205" href="Motivation.POPLMark2.STLC.html#19041" class="Function">complete^SNe</a> <a id="19218" href="Motivation.POPLMark2.STLC.html#19218" class="Bound">v</a> <a id="19220" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a>           <a id="19233" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="19238" href="Motivation.POPLMark2.STLC.html#19238" class="Bound">c[v]^sn</a>   <a id="19248" class="Symbol">=</a> <a id="19250" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="19254" href="Motivation.POPLMark2.STLC.html#19218" class="Bound">v</a>
  <a id="19258" href="Motivation.POPLMark2.STLC.html#19041" class="Function">complete^SNe</a> <a id="19271" href="Motivation.POPLMark2.STLC.html#19271" class="Bound">v</a> <a id="19273" class="Symbol">(</a><a id="19274" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="19278" href="Motivation.POPLMark2.STLC.html#19278" class="Bound">c</a> <a id="19280" href="Motivation.POPLMark2.STLC.html#19280" class="Bound">t^SN</a><a id="19284" class="Symbol">)</a> <a id="19286" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="19291" href="Motivation.POPLMark2.STLC.html#19291" class="Bound">c[v]∙t^sn</a> <a id="19301" class="Symbol">=</a>
    <a id="19307" class="Keyword">let</a> <a id="19311" class="Symbol">(</a><a id="19312" href="Motivation.POPLMark2.STLC.html#19312" class="Bound">c[v]^sn</a> <a id="19320" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="19322" href="Motivation.POPLMark2.STLC.html#19322" class="Bound">t^sn</a><a id="19326" class="Symbol">)</a> <a id="19328" class="Symbol">=</a> <a id="19330" href="Motivation.POPLMark2.STLC.html#7926" class="Function">`∙⁻¹^sn</a> <a id="19338" href="Motivation.POPLMark2.STLC.html#19291" class="Bound">c[v]∙t^sn</a> <a id="19348" class="Keyword">in</a>
    <a id="19355" href="Motivation.POPLMark2.STLC.html#14214" class="InductiveConstructor">app</a> <a id="19359" class="Symbol">(</a><a id="19360" href="Motivation.POPLMark2.STLC.html#19041" class="Function">complete^SNe</a> <a id="19373" href="Motivation.POPLMark2.STLC.html#19271" class="Bound">v</a> <a id="19375" href="Motivation.POPLMark2.STLC.html#19278" class="Bound">c</a> <a id="19377" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="19382" href="Motivation.POPLMark2.STLC.html#19312" class="Bound">c[v]^sn</a><a id="19389" class="Symbol">)</a> <a id="19391" href="Motivation.POPLMark2.STLC.html#19280" class="Bound">t^SN</a>

  <a id="19399" class="Comment">-- 2.</a>
  <a id="complete^SN-β"></a><a id="19407" href="Motivation.POPLMark2.STLC.html#19407" class="Function">complete^SN-β</a> <a id="19421" class="Symbol">:</a> <a id="19423" class="Symbol">∀</a> <a id="19425" class="Symbol">{</a><a id="19426" href="Motivation.POPLMark2.STLC.html#19426" class="Bound">Γ</a> <a id="19428" href="Motivation.POPLMark2.STLC.html#19428" class="Bound">σ</a> <a id="19430" href="Motivation.POPLMark2.STLC.html#19430" class="Bound">τ</a> <a id="19432" href="Motivation.POPLMark2.STLC.html#19432" class="Bound">α</a> <a id="19434" href="Motivation.POPLMark2.STLC.html#19434" class="Bound">i</a><a id="19435" class="Symbol">}</a> <a id="19437" class="Symbol">(</a><a id="19438" href="Motivation.POPLMark2.STLC.html#19438" class="Bound">b</a> <a id="19440" class="Symbol">:</a> <a id="19442" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="19447" href="Motivation.POPLMark2.STLC.html#19432" class="Bound">α</a> <a id="19449" class="Symbol">(</a><a id="19450" href="Motivation.POPLMark2.STLC.html#19428" class="Bound">σ</a> <a id="19452" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="19454" href="Motivation.POPLMark2.STLC.html#19426" class="Bound">Γ</a><a id="19455" class="Symbol">))</a> <a id="19458" href="Motivation.POPLMark2.STLC.html#19458" class="Bound">u</a> <a id="19460" class="Symbol">(</a><a id="19461" href="Motivation.POPLMark2.STLC.html#19461" class="Bound">c</a> <a id="19463" class="Symbol">:</a> <a id="19465" href="Motivation.POPLMark2.STLC.html#19426" class="Bound">Γ</a> <a id="19467" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="19469" href="Motivation.POPLMark2.STLC.html#19432" class="Bound">α</a> <a id="19471" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="19473" href="Motivation.POPLMark2.STLC.html#19430" class="Bound">τ</a><a id="19474" class="Symbol">)</a> <a id="19476" class="Symbol">→</a>
                  <a id="19496" class="Keyword">let</a> <a id="19500" href="Motivation.POPLMark2.STLC.html#19500" class="Bound">t</a> <a id="19502" class="Symbol">=</a> <a id="19504" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="19508" class="Symbol">(</a><a id="19509" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="19512" href="Motivation.POPLMark2.STLC.html#19438" class="Bound">b</a> <a id="19514" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="19517" href="Motivation.POPLMark2.STLC.html#19458" class="Bound">u</a><a id="19518" class="Symbol">)</a> <a id="19520" href="Motivation.POPLMark2.STLC.html#19461" class="Bound">c</a> <a id="19522" class="Keyword">in</a> <a id="19525" href="Motivation.POPLMark2.STLC.html#19426" class="Bound">Γ</a> <a id="19527" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">⊢</a> <a id="19529" href="Motivation.POPLMark2.STLC.html#19430" class="Bound">τ</a> <a id="19531" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">∋</a> <a id="19533" href="Motivation.POPLMark2.STLC.html#19500" class="Bound">t</a> <a id="19535" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">↝SN</a> <a id="19539" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="19543" class="Symbol">(</a><a id="19544" href="Motivation.POPLMark2.STLC.html#19438" class="Bound">b</a> <a id="19546" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="19548" href="Motivation.POPLMark2.STLC.html#19458" class="Bound">u</a> <a id="19550" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="19553" class="Symbol">)</a> <a id="19555" href="Motivation.POPLMark2.STLC.html#19461" class="Bound">c</a> <a id="19557" class="Symbol">→</a>
                  <a id="19577" class="Symbol">∀</a> <a id="19579" class="Symbol">{</a><a id="19580" href="Motivation.POPLMark2.STLC.html#19580" class="Bound">t′</a><a id="19582" class="Symbol">}</a> <a id="19584" class="Symbol">→</a> <a id="19586" href="Motivation.POPLMark2.STLC.html#19580" class="Bound">t′</a> <a id="19589" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="19591" href="Motivation.POPLMark2.STLC.html#19500" class="Bound">t</a> <a id="19593" class="Symbol">→</a> <a id="19595" href="Motivation.POPLMark2.STLC.html#19426" class="Bound">Γ</a> <a id="19597" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="19601" href="Motivation.POPLMark2.STLC.html#19430" class="Bound">τ</a> <a id="19603" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="19605" href="Motivation.POPLMark2.STLC.html#19580" class="Bound">t′</a> <a id="19608" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="19610" href="Motivation.POPLMark2.STLC.html#19434" class="Bound">i</a> <a id="19612" class="Symbol">→</a> <a id="19614" href="Motivation.POPLMark2.STLC.html#19426" class="Bound">Γ</a> <a id="19616" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="19620" href="Motivation.POPLMark2.STLC.html#19430" class="Bound">τ</a> <a id="19622" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="19624" href="Motivation.POPLMark2.STLC.html#19580" class="Bound">t′</a>
  <a id="19629" href="Motivation.POPLMark2.STLC.html#19407" class="Function">complete^SN-β</a> <a id="19643" href="Motivation.POPLMark2.STLC.html#19643" class="Bound">b</a> <a id="19645" href="Motivation.POPLMark2.STLC.html#19645" class="Bound">u</a> <a id="19647" href="Motivation.POPLMark2.STLC.html#19647" class="Bound">c</a> <a id="19649" href="Motivation.POPLMark2.STLC.html#19649" class="Bound">r</a> <a id="19651" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="19656" class="Symbol">(</a><a id="19657" href="Motivation.POPLMark2.STLC.html#6386" class="InductiveConstructor">sn</a> <a id="19660" href="Motivation.POPLMark2.STLC.html#19660" class="Bound">c[λb∙u]^sn</a><a id="19670" class="Symbol">)</a> <a id="19672" class="Symbol">=</a> <a id="19674" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="19678" href="Motivation.POPLMark2.STLC.html#19649" class="Bound">r</a> <a id="19680" class="Symbol">(</a><a id="19681" href="Motivation.POPLMark2.STLC.html#19738" class="Function">complete^SN</a> <a id="19693" class="Symbol">_</a> <a id="19695" class="Symbol">(</a><a id="19696" href="Motivation.POPLMark2.STLC.html#19660" class="Bound">c[λb∙u]^sn</a> <a id="19707" class="Symbol">(</a><a id="19708" href="Motivation.POPLMark2.STLC.html#8930" class="Function">cut^↝</a> <a id="19714" href="Motivation.POPLMark2.STLC.html#19647" class="Bound">c</a> <a id="19716" class="Symbol">(</a><a id="19717" href="Motivation.POPLMark2.STLC.html#2258" class="InductiveConstructor">β</a> <a id="19719" href="Motivation.POPLMark2.STLC.html#19643" class="Bound">b</a> <a id="19721" href="Motivation.POPLMark2.STLC.html#19645" class="Bound">u</a><a id="19722" class="Symbol">))))</a>

  <a id="19730" class="Comment">-- 3.</a>
  <a id="complete^SN"></a><a id="19738" href="Motivation.POPLMark2.STLC.html#19738" class="Function">complete^SN</a> <a id="19750" class="Symbol">:</a> <a id="19752" class="Symbol">∀</a> <a id="19754" class="Symbol">{</a><a id="19755" href="Motivation.POPLMark2.STLC.html#19755" class="Bound">Γ</a> <a id="19757" href="Motivation.POPLMark2.STLC.html#19757" class="Bound">σ</a> <a id="19759" href="Motivation.POPLMark2.STLC.html#19759" class="Bound">i</a><a id="19760" class="Symbol">}</a> <a id="19762" href="Motivation.POPLMark2.STLC.html#19762" class="Bound">t</a> <a id="19764" class="Symbol">→</a> <a id="19766" href="Motivation.POPLMark2.STLC.html#19755" class="Bound">Γ</a> <a id="19768" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="19772" href="Motivation.POPLMark2.STLC.html#19757" class="Bound">σ</a> <a id="19774" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="19776" href="Motivation.POPLMark2.STLC.html#19762" class="Bound">t</a> <a id="19778" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="19780" href="Motivation.POPLMark2.STLC.html#19759" class="Bound">i</a> <a id="19782" class="Symbol">→</a> <a id="19784" href="Motivation.POPLMark2.STLC.html#19755" class="Bound">Γ</a> <a id="19786" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="19790" href="Motivation.POPLMark2.STLC.html#19757" class="Bound">σ</a> <a id="19792" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="19794" href="Motivation.POPLMark2.STLC.html#19762" class="Bound">t</a>
  <a id="19798" href="Motivation.POPLMark2.STLC.html#19738" class="Function">complete^SN</a> <a id="19810" class="Symbol">(</a><a id="19811" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="19816" href="Motivation.POPLMark2.STLC.html#19816" class="Bound">v</a><a id="19817" class="Symbol">)</a> <a id="19819" href="Motivation.POPLMark2.STLC.html#19819" class="Bound">v^sn</a>  <a id="19825" class="Symbol">=</a> <a id="19827" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="19831" class="Symbol">(</a><a id="19832" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="19836" href="Motivation.POPLMark2.STLC.html#19816" class="Bound">v</a><a id="19837" class="Symbol">)</a>
  <a id="19841" href="Motivation.POPLMark2.STLC.html#19738" class="Function">complete^SN</a> <a id="19853" class="Symbol">(</a><a id="19854" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="19857" href="Motivation.POPLMark2.STLC.html#19857" class="Bound">b</a><a id="19858" class="Symbol">)</a>   <a id="19862" href="Motivation.POPLMark2.STLC.html#19862" class="Bound">λb^sn</a> <a id="19868" class="Symbol">=</a> <a id="19870" href="Motivation.POPLMark2.STLC.html#13991" class="InductiveConstructor">lam</a> <a id="19874" class="Symbol">(</a><a id="19875" href="Motivation.POPLMark2.STLC.html#19738" class="Function">complete^SN</a> <a id="19887" href="Motivation.POPLMark2.STLC.html#19857" class="Bound">b</a> <a id="19889" class="Symbol">(</a><a id="19890" href="Motivation.POPLMark2.STLC.html#8072" class="Function">`λ⁻¹^sn</a> <a id="19898" href="Motivation.POPLMark2.STLC.html#19862" class="Bound">λb^sn</a><a id="19903" class="Symbol">))</a>
  <a id="19908" href="Motivation.POPLMark2.STLC.html#19738" class="Function">complete^SN</a> <a id="19920" class="Symbol">(</a><a id="19921" href="Motivation.POPLMark2.STLC.html#19921" class="Bound">f</a> <a id="19923" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="19926" href="Motivation.POPLMark2.STLC.html#19926" class="Bound">t</a><a id="19927" class="Symbol">)</a> <a id="19929" href="Motivation.POPLMark2.STLC.html#19929" class="Bound">ft^sn</a> <a id="19935" class="Symbol">=</a>
    <a id="19941" class="Keyword">let</a> <a id="19945" class="Symbol">(</a><a id="19946" href="Motivation.POPLMark2.STLC.html#19946" class="Bound">f^sn</a> <a id="19951" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="19953" href="Motivation.POPLMark2.STLC.html#19953" class="Bound">t^sn</a><a id="19957" class="Symbol">)</a> <a id="19959" class="Symbol">=</a> <a id="19961" href="Motivation.POPLMark2.STLC.html#7926" class="Function">`∙⁻¹^sn</a> <a id="19969" href="Motivation.POPLMark2.STLC.html#19929" class="Bound">ft^sn</a> <a id="19975" class="Keyword">in</a>
    <a id="19982" class="Keyword">let</a> <a id="19986" href="Motivation.POPLMark2.STLC.html#19986" class="Bound">t^SN</a> <a id="19991" class="Symbol">=</a> <a id="19993" href="Motivation.POPLMark2.STLC.html#19738" class="Function">complete^SN</a> <a id="20005" href="Motivation.POPLMark2.STLC.html#19926" class="Bound">t</a> <a id="20007" href="Motivation.POPLMark2.STLC.html#19953" class="Bound">t^sn</a> <a id="20012" class="Keyword">in</a>
    <a id="20019" href="Function.html#3331" class="Function Operator">case</a> <a id="20024" href="Motivation.POPLMark2.STLC.html#20235" class="Function">unzip</a> <a id="20030" href="Motivation.POPLMark2.STLC.html#19921" class="Bound">f</a> <a id="20032" href="Motivation.POPLMark2.STLC.html#19926" class="Bound">t</a> <a id="20034" href="Motivation.POPLMark2.STLC.html#19946" class="Bound">f^sn</a> <a id="20039" href="Motivation.POPLMark2.STLC.html#19986" class="Bound">t^SN</a> <a id="20044" href="Function.html#3331" class="Function Operator">of</a> <a id="20047" class="Symbol">λ</a> <a id="20049" class="Keyword">where</a>
       <a id="20062" class="Symbol">(_</a> <a id="20065" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20067" href="Motivation.POPLMark2.STLC.html#20067" class="Bound">c</a> <a id="20069" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20071" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="20076" class="Symbol">(</a><a id="20077" href="Motivation.POPLMark2.STLC.html#20077" class="Bound">v</a> <a id="20079" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20081" href="Motivation.POPLMark2.STLC.html#20081" class="Bound">eq</a> <a id="20084" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20086" href="Motivation.POPLMark2.STLC.html#20086" class="Bound">sp</a><a id="20088" class="Symbol">))</a>        <a id="20098" class="Symbol">→</a> <a id="20100" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="20104" class="Symbol">(</a><a id="20105" href="Motivation.POPLMark2.STLC.html#19041" class="Function">complete^SNe</a> <a id="20118" href="Motivation.POPLMark2.STLC.html#20077" class="Bound">v</a> <a id="20120" href="Motivation.POPLMark2.STLC.html#20086" class="Bound">sp</a> <a id="20123" href="Motivation.POPLMark2.STLC.html#20081" class="Bound">eq</a> <a id="20126" href="Motivation.POPLMark2.STLC.html#19929" class="Bound">ft^sn</a><a id="20131" class="Symbol">)</a>
       <a id="20140" class="Symbol">(_</a> <a id="20143" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20145" href="Motivation.POPLMark2.STLC.html#20145" class="Bound">c</a> <a id="20147" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20149" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="20154" class="Symbol">(_</a> <a id="20157" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20159" href="Motivation.POPLMark2.STLC.html#20159" class="Bound">b</a> <a id="20161" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20163" href="Motivation.POPLMark2.STLC.html#20163" class="Bound">u</a> <a id="20165" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20167" href="Motivation.POPLMark2.STLC.html#20167" class="Bound">eq</a> <a id="20170" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20172" href="Motivation.POPLMark2.STLC.html#20172" class="Bound">r</a><a id="20173" class="Symbol">))</a> <a id="20176" class="Symbol">→</a> <a id="20178" href="Motivation.POPLMark2.STLC.html#19407" class="Function">complete^SN-β</a> <a id="20192" href="Motivation.POPLMark2.STLC.html#20159" class="Bound">b</a> <a id="20194" href="Motivation.POPLMark2.STLC.html#20163" class="Bound">u</a> <a id="20196" href="Motivation.POPLMark2.STLC.html#20145" class="Bound">c</a> <a id="20198" href="Motivation.POPLMark2.STLC.html#20172" class="Bound">r</a> <a id="20200" href="Motivation.POPLMark2.STLC.html#20167" class="Bound">eq</a> <a id="20203" href="Motivation.POPLMark2.STLC.html#19929" class="Bound">ft^sn</a>

  <a id="20212" class="Comment">-- ugly but it works</a>
  <a id="unzip"></a><a id="20235" href="Motivation.POPLMark2.STLC.html#20235" class="Function">unzip</a> <a id="20241" class="Symbol">:</a> <a id="20243" class="Symbol">∀</a> <a id="20245" class="Symbol">{</a><a id="20246" href="Motivation.POPLMark2.STLC.html#20246" class="Bound">Γ</a> <a id="20248" href="Motivation.POPLMark2.STLC.html#20248" class="Bound">σ</a> <a id="20250" href="Motivation.POPLMark2.STLC.html#20250" class="Bound">τ</a> <a id="20252" href="Motivation.POPLMark2.STLC.html#20252" class="Bound">i</a><a id="20253" class="Symbol">}</a> <a id="20255" href="Motivation.POPLMark2.STLC.html#20255" class="Bound">f</a> <a id="20257" href="Motivation.POPLMark2.STLC.html#20257" class="Bound">t</a> <a id="20259" class="Symbol">→</a> <a id="20261" href="Motivation.POPLMark2.STLC.html#20246" class="Bound">Γ</a> <a id="20263" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">⊢sn</a> <a id="20267" href="Motivation.POPLMark2.STLC.html#20248" class="Bound">σ</a> <a id="20269" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="20271" href="Motivation.POPLMark2.STLC.html#20250" class="Bound">τ</a> <a id="20273" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">∋</a> <a id="20275" href="Motivation.POPLMark2.STLC.html#20255" class="Bound">f</a> <a id="20277" href="Motivation.POPLMark2.STLC.html#6336" class="Datatype Operator">&lt;</a> <a id="20279" href="Motivation.POPLMark2.STLC.html#20252" class="Bound">i</a> <a id="20281" class="Symbol">→</a> <a id="20283" href="Motivation.POPLMark2.STLC.html#20246" class="Bound">Γ</a> <a id="20285" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="20289" href="Motivation.POPLMark2.STLC.html#20248" class="Bound">σ</a> <a id="20291" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="20293" href="Motivation.POPLMark2.STLC.html#20257" class="Bound">t</a> <a id="20295" class="Symbol">→</a>
          <a id="20307" href="Data.Product.html#880" class="Function">∃</a> <a id="20309" class="Symbol">λ</a> <a id="20311" href="Motivation.POPLMark2.STLC.html#20311" class="Bound">α</a> <a id="20313" class="Symbol">→</a> <a id="20315" href="Data.Product.html#880" class="Function">∃</a> <a id="20317" class="Symbol">λ</a> <a id="20319" class="Symbol">(</a><a id="20320" href="Motivation.POPLMark2.STLC.html#20320" class="Bound">c</a> <a id="20322" class="Symbol">:</a> <a id="20324" href="Motivation.POPLMark2.STLC.html#20246" class="Bound">Γ</a> <a id="20326" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">∣</a> <a id="20328" href="Motivation.POPLMark2.STLC.html#20311" class="Bound">α</a> <a id="20330" href="Motivation.POPLMark2.STLC.html#8366" class="Datatype Operator">⊢</a> <a id="20332" href="Motivation.POPLMark2.STLC.html#20250" class="Bound">τ</a><a id="20333" class="Symbol">)</a> <a id="20335" class="Symbol">→</a>
          <a id="20347" class="Symbol">(</a><a id="20348" href="Data.Product.html#880" class="Function">∃</a> <a id="20350" class="Symbol">λ</a> <a id="20352" href="Motivation.POPLMark2.STLC.html#20352" class="Bound">v</a> <a id="20354" class="Symbol">→</a> <a id="20356" href="Motivation.POPLMark2.STLC.html#20255" class="Bound">f</a> <a id="20358" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="20361" href="Motivation.POPLMark2.STLC.html#20257" class="Bound">t</a> <a id="20363" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="20365" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="20369" class="Symbol">(</a><a id="20370" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="20375" href="Motivation.POPLMark2.STLC.html#20352" class="Bound">v</a><a id="20376" class="Symbol">)</a> <a id="20378" href="Motivation.POPLMark2.STLC.html#20320" class="Bound">c</a> <a id="20380" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="20382" href="Motivation.POPLMark2.STLC.html#20246" class="Bound">Γ</a> <a id="20384" href="Motivation.POPLMark2.STLC.html#14671" class="Function Operator">∣</a> <a id="20386" href="Motivation.POPLMark2.STLC.html#20311" class="Bound">α</a> <a id="20388" href="Motivation.POPLMark2.STLC.html#14671" class="Function Operator">⊢SN</a> <a id="20392" href="Motivation.POPLMark2.STLC.html#20250" class="Bound">τ</a> <a id="20394" href="Motivation.POPLMark2.STLC.html#14671" class="Function Operator">∋</a> <a id="20396" href="Motivation.POPLMark2.STLC.html#20320" class="Bound">c</a><a id="20397" class="Symbol">)</a>
        <a id="20407" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="20409" class="Symbol">(</a><a id="20410" href="Data.Product.html#880" class="Function">∃</a> <a id="20412" class="Symbol">λ</a> <a id="20414" href="Motivation.POPLMark2.STLC.html#20414" class="Bound">β</a> <a id="20416" class="Symbol">→</a> <a id="20418" href="Data.Product.html#880" class="Function">∃</a> <a id="20420" class="Symbol">λ</a> <a id="20422" class="Symbol">(</a><a id="20423" href="Motivation.POPLMark2.STLC.html#20423" class="Bound">b</a> <a id="20425" class="Symbol">:</a> <a id="20427" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="20432" href="Motivation.POPLMark2.STLC.html#20311" class="Bound">α</a> <a id="20434" class="Symbol">(</a><a id="20435" href="Motivation.POPLMark2.STLC.html#20414" class="Bound">β</a> <a id="20437" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="20439" href="Motivation.POPLMark2.STLC.html#20246" class="Bound">Γ</a><a id="20440" class="Symbol">))</a> <a id="20443" class="Symbol">→</a> <a id="20445" href="Data.Product.html#880" class="Function">∃</a> <a id="20447" class="Symbol">λ</a> <a id="20449" href="Motivation.POPLMark2.STLC.html#20449" class="Bound">u</a> <a id="20451" class="Symbol">→</a>
             <a id="20466" href="Motivation.POPLMark2.STLC.html#20255" class="Bound">f</a> <a id="20468" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="20471" href="Motivation.POPLMark2.STLC.html#20257" class="Bound">t</a> <a id="20473" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="20475" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="20479" class="Symbol">(</a><a id="20480" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="20483" href="Motivation.POPLMark2.STLC.html#20423" class="Bound">b</a> <a id="20485" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="20488" href="Motivation.POPLMark2.STLC.html#20449" class="Bound">u</a><a id="20489" class="Symbol">)</a> <a id="20491" href="Motivation.POPLMark2.STLC.html#20320" class="Bound">c</a>
             <a id="20506" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="20508" href="Motivation.POPLMark2.STLC.html#20246" class="Bound">Γ</a> <a id="20510" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">⊢</a> <a id="20512" href="Motivation.POPLMark2.STLC.html#20250" class="Bound">τ</a> <a id="20514" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">∋</a> <a id="20516" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="20520" class="Symbol">(</a><a id="20521" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="20524" href="Motivation.POPLMark2.STLC.html#20423" class="Bound">b</a> <a id="20526" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="20529" href="Motivation.POPLMark2.STLC.html#20449" class="Bound">u</a><a id="20530" class="Symbol">)</a> <a id="20532" href="Motivation.POPLMark2.STLC.html#20320" class="Bound">c</a> <a id="20534" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">↝SN</a> <a id="20538" href="Motivation.POPLMark2.STLC.html#8768" class="Function">cut</a> <a id="20542" class="Symbol">(</a><a id="20543" href="Motivation.POPLMark2.STLC.html#20423" class="Bound">b</a> <a id="20545" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="20547" href="Motivation.POPLMark2.STLC.html#20449" class="Bound">u</a> <a id="20549" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="20552" class="Symbol">)</a> <a id="20554" href="Motivation.POPLMark2.STLC.html#20320" class="Bound">c</a><a id="20555" class="Symbol">)</a>
  <a id="20559" href="Motivation.POPLMark2.STLC.html#20235" class="Function">unzip</a> <a id="20565" class="Symbol">(</a><a id="20566" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="20571" href="Motivation.POPLMark2.STLC.html#20571" class="Bound">v</a><a id="20572" class="Symbol">)</a> <a id="20574" href="Motivation.POPLMark2.STLC.html#20574" class="Bound">t</a> <a id="20576" href="Motivation.POPLMark2.STLC.html#20576" class="Bound">v^sn</a>  <a id="20582" href="Motivation.POPLMark2.STLC.html#20582" class="Bound">t^SN</a> <a id="20587" class="Symbol">=</a> <a id="20589" class="Symbol">_</a> <a id="20591" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20593" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="20597" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a> <a id="20600" href="Motivation.POPLMark2.STLC.html#20574" class="Bound">t</a> <a id="20602" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20604" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="20609" class="Symbol">(</a><a id="20610" href="Motivation.POPLMark2.STLC.html#20571" class="Bound">v</a> <a id="20612" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20614" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="20619" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20621" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="20625" href="Motivation.POPLMark2.STLC.html#8570" class="InductiveConstructor">&lt;&gt;</a> <a id="20628" href="Motivation.POPLMark2.STLC.html#20582" class="Bound">t^SN</a><a id="20632" class="Symbol">)</a>
  <a id="20636" href="Motivation.POPLMark2.STLC.html#20235" class="Function">unzip</a> <a id="20642" class="Symbol">(</a><a id="20643" href="Motivation.POPLMark2.STLC.html#1769" class="InductiveConstructor">`λ</a> <a id="20646" href="Motivation.POPLMark2.STLC.html#20646" class="Bound">b</a><a id="20647" class="Symbol">)</a>   <a id="20651" href="Motivation.POPLMark2.STLC.html#20651" class="Bound">t</a> <a id="20653" href="Motivation.POPLMark2.STLC.html#20653" class="Bound">λb^sn</a> <a id="20659" href="Motivation.POPLMark2.STLC.html#20659" class="Bound">t^SN</a> <a id="20664" class="Symbol">=</a> <a id="20666" class="Symbol">_</a> <a id="20668" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20670" href="Motivation.POPLMark2.STLC.html#8397" class="InductiveConstructor">&lt;&gt;</a> <a id="20673" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20675" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="20680" class="Symbol">(_</a> <a id="20683" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20685" href="Motivation.POPLMark2.STLC.html#20646" class="Bound">b</a> <a id="20687" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20689" href="Motivation.POPLMark2.STLC.html#20651" class="Bound">t</a> <a id="20691" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20693" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="20698" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20700" href="Motivation.POPLMark2.STLC.html#13730" class="InductiveConstructor">β</a> <a id="20702" href="Motivation.POPLMark2.STLC.html#20646" class="Bound">b</a> <a id="20704" href="Motivation.POPLMark2.STLC.html#20651" class="Bound">t</a> <a id="20706" href="Motivation.POPLMark2.STLC.html#20659" class="Bound">t^SN</a><a id="20710" class="Symbol">)</a>
  <a id="20714" href="Motivation.POPLMark2.STLC.html#20235" class="Function">unzip</a> <a id="20720" class="Symbol">(</a><a id="20721" href="Motivation.POPLMark2.STLC.html#20721" class="Bound">f</a> <a id="20723" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="20726" href="Motivation.POPLMark2.STLC.html#20726" class="Bound">u</a><a id="20727" class="Symbol">)</a> <a id="20729" href="Motivation.POPLMark2.STLC.html#20729" class="Bound">t</a> <a id="20731" href="Motivation.POPLMark2.STLC.html#20731" class="Bound">fu^sn</a> <a id="20737" href="Motivation.POPLMark2.STLC.html#20737" class="Bound">t^SN</a> <a id="20742" class="Symbol">=</a>
    <a id="20748" class="Keyword">let</a> <a id="20752" class="Symbol">(</a><a id="20753" href="Motivation.POPLMark2.STLC.html#20753" class="Bound">f^sn</a> <a id="20758" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20760" href="Motivation.POPLMark2.STLC.html#20760" class="Bound">u^sn</a><a id="20764" class="Symbol">)</a> <a id="20766" class="Symbol">=</a> <a id="20768" href="Motivation.POPLMark2.STLC.html#7926" class="Function">`∙⁻¹^sn</a> <a id="20776" href="Motivation.POPLMark2.STLC.html#20731" class="Bound">fu^sn</a> <a id="20782" class="Keyword">in</a>
    <a id="20789" class="Keyword">let</a> <a id="20793" href="Motivation.POPLMark2.STLC.html#20793" class="Bound">u^SN</a> <a id="20798" class="Symbol">=</a> <a id="20800" href="Motivation.POPLMark2.STLC.html#19738" class="Function">complete^SN</a> <a id="20812" href="Motivation.POPLMark2.STLC.html#20726" class="Bound">u</a> <a id="20814" href="Motivation.POPLMark2.STLC.html#20760" class="Bound">u^sn</a> <a id="20819" class="Keyword">in</a>
    <a id="20826" href="Function.html#3331" class="Function Operator">case</a> <a id="20831" href="Motivation.POPLMark2.STLC.html#20235" class="Function">unzip</a> <a id="20837" href="Motivation.POPLMark2.STLC.html#20721" class="Bound">f</a> <a id="20839" href="Motivation.POPLMark2.STLC.html#20726" class="Bound">u</a> <a id="20841" href="Motivation.POPLMark2.STLC.html#20753" class="Bound">f^sn</a> <a id="20846" href="Motivation.POPLMark2.STLC.html#20793" class="Bound">u^SN</a> <a id="20851" href="Function.html#3331" class="Function Operator">of</a> <a id="20854" class="Symbol">λ</a> <a id="20856" class="Keyword">where</a>
      <a id="20868" class="Symbol">(_</a> <a id="20871" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20873" href="Motivation.POPLMark2.STLC.html#20873" class="Bound">c</a> <a id="20875" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20877" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="20882" class="Symbol">(</a><a id="20883" href="Motivation.POPLMark2.STLC.html#20883" class="Bound">v</a> <a id="20885" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20887" href="Motivation.POPLMark2.STLC.html#20887" class="Bound">eq</a> <a id="20890" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20892" href="Motivation.POPLMark2.STLC.html#20892" class="Bound">sp</a><a id="20894" class="Symbol">))</a> <a id="20897" class="Symbol">→</a>
        <a id="20907" class="Symbol">_</a> <a id="20909" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20911" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="20915" href="Motivation.POPLMark2.STLC.html#20873" class="Bound">c</a> <a id="20917" href="Motivation.POPLMark2.STLC.html#20729" class="Bound">t</a> <a id="20919" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20921" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="20926" class="Symbol">(</a><a id="20927" href="Motivation.POPLMark2.STLC.html#20883" class="Bound">v</a> <a id="20929" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20931" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="20936" class="Symbol">(</a><a id="20937" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙</a> <a id="20941" href="Motivation.POPLMark2.STLC.html#20729" class="Bound">t</a><a id="20942" class="Symbol">)</a> <a id="20944" href="Motivation.POPLMark2.STLC.html#20887" class="Bound">eq</a> <a id="20947" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20949" href="Motivation.POPLMark2.STLC.html#8612" class="InductiveConstructor">app</a> <a id="20953" href="Motivation.POPLMark2.STLC.html#20892" class="Bound">sp</a> <a id="20956" href="Motivation.POPLMark2.STLC.html#20737" class="Bound">t^SN</a><a id="20960" class="Symbol">)</a>
      <a id="20968" class="Symbol">(_</a> <a id="20971" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20973" href="Motivation.POPLMark2.STLC.html#20973" class="Bound">c</a> <a id="20975" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20977" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="20982" class="Symbol">(_</a> <a id="20985" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20987" href="Motivation.POPLMark2.STLC.html#20987" class="Bound">b</a> <a id="20989" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20991" href="Motivation.POPLMark2.STLC.html#20991" class="Bound">a</a> <a id="20993" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="20995" href="Motivation.POPLMark2.STLC.html#20995" class="Bound">eq</a> <a id="20998" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="21000" href="Motivation.POPLMark2.STLC.html#21000" class="Bound">r</a><a id="21001" class="Symbol">))</a> <a id="21004" class="Symbol">→</a>
        <a id="21014" class="Symbol">_</a> <a id="21016" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="21018" href="Motivation.POPLMark2.STLC.html#8415" class="InductiveConstructor">app</a> <a id="21022" href="Motivation.POPLMark2.STLC.html#20973" class="Bound">c</a> <a id="21024" href="Motivation.POPLMark2.STLC.html#20729" class="Bound">t</a> <a id="21026" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="21028" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="21033" class="Symbol">(_</a> <a id="21036" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="21038" href="Motivation.POPLMark2.STLC.html#20987" class="Bound">b</a> <a id="21040" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="21042" href="Motivation.POPLMark2.STLC.html#20991" class="Bound">a</a> <a id="21044" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="21046" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="21051" class="Symbol">(</a><a id="21052" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">_`∙</a> <a id="21056" href="Motivation.POPLMark2.STLC.html#20729" class="Bound">t</a><a id="21057" class="Symbol">)</a> <a id="21059" href="Motivation.POPLMark2.STLC.html#20995" class="Bound">eq</a> <a id="21062" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="21064" href="Motivation.POPLMark2.STLC.html#13823" class="InductiveConstructor">[∙]₂</a> <a id="21069" href="Motivation.POPLMark2.STLC.html#21000" class="Bound">r</a> <a id="21071" href="Motivation.POPLMark2.STLC.html#20729" class="Bound">t</a><a id="21072" class="Symbol">)</a>

<a id="21075" class="Comment">-- Section 5 Reducibility Candidates</a>
<a id="21112" class="Comment">-------------------------------------------------------------------</a>

<a id="21181" class="Keyword">infix</a> <a id="21187" class="Number">3</a> <a id="21189" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">_⊢𝓡_∋_</a>
<a id="_⊢𝓡_∋_"></a><a id="21196" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">_⊢𝓡_∋_</a> <a id="21203" class="Symbol">:</a> <a id="21205" class="Symbol">∀</a> <a id="21207" href="Motivation.POPLMark2.STLC.html#21207" class="Bound">Γ</a> <a id="21209" href="Motivation.POPLMark2.STLC.html#21209" class="Bound">σ</a> <a id="21211" class="Symbol">→</a> <a id="21213" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="21218" href="Motivation.POPLMark2.STLC.html#21209" class="Bound">σ</a> <a id="21220" href="Motivation.POPLMark2.STLC.html#21207" class="Bound">Γ</a> <a id="21222" class="Symbol">→</a> <a id="21224" class="PrimitiveType">Set</a>
<a id="21228" href="Motivation.POPLMark2.STLC.html#21228" class="Bound">Γ</a> <a id="21230" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="21233" href="Motivation.POPLMark2.STLC.html#1200" class="InductiveConstructor">α</a>     <a id="21239" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="21241" href="Motivation.POPLMark2.STLC.html#21241" class="Bound">t</a> <a id="21243" class="Symbol">=</a> <a id="21245" href="Motivation.POPLMark2.STLC.html#21228" class="Bound">Γ</a> <a id="21247" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="21251" href="Motivation.POPLMark2.STLC.html#1200" class="InductiveConstructor">α</a> <a id="21253" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="21255" href="Motivation.POPLMark2.STLC.html#21241" class="Bound">t</a>
<a id="21257" href="Motivation.POPLMark2.STLC.html#21257" class="Bound">Γ</a> <a id="21259" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="21262" href="Motivation.POPLMark2.STLC.html#21262" class="Bound">σ</a> <a id="21264" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="21266" href="Motivation.POPLMark2.STLC.html#21266" class="Bound">τ</a> <a id="21268" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="21270" href="Motivation.POPLMark2.STLC.html#21270" class="Bound">t</a> <a id="21272" class="Symbol">=</a> <a id="21274" class="Symbol">∀</a> <a id="21276" class="Symbol">{</a><a id="21277" href="Motivation.POPLMark2.STLC.html#21277" class="Bound">Δ</a><a id="21278" class="Symbol">}</a> <a id="21280" href="Motivation.POPLMark2.STLC.html#21280" class="Bound">ρ</a> <a id="21282" class="Symbol">{</a><a id="21283" href="Motivation.POPLMark2.STLC.html#21283" class="Bound">u</a><a id="21284" class="Symbol">}</a> <a id="21286" class="Symbol">→</a> <a id="21288" href="Motivation.POPLMark2.STLC.html#21277" class="Bound">Δ</a> <a id="21290" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="21293" href="Motivation.POPLMark2.STLC.html#21262" class="Bound">σ</a> <a id="21295" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="21297" href="Motivation.POPLMark2.STLC.html#21283" class="Bound">u</a> <a id="21299" class="Symbol">→</a> <a id="21301" href="Motivation.POPLMark2.STLC.html#21277" class="Bound">Δ</a> <a id="21303" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="21306" href="Motivation.POPLMark2.STLC.html#21266" class="Bound">τ</a> <a id="21308" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="21310" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="21314" href="Motivation.POPLMark2.STLC.html#21280" class="Bound">ρ</a> <a id="21316" href="Motivation.POPLMark2.STLC.html#21270" class="Bound">t</a> <a id="21318" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="21321" href="Motivation.POPLMark2.STLC.html#21283" class="Bound">u</a>

<a id="𝓡^P"></a><a id="21324" href="Motivation.POPLMark2.STLC.html#21324" class="Function">𝓡^P</a> <a id="21328" class="Symbol">:</a> <a id="21330" href="pred.html#133" class="Record">Pred</a> <a id="21335" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a>
<a id="21340" href="pred.html#206" class="Field">pred</a> <a id="21345" href="Motivation.POPLMark2.STLC.html#21324" class="Function">𝓡^P</a> <a id="21349" class="Symbol">=</a> <a id="21351" class="Symbol">_</a> <a id="21353" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="21356" class="Symbol">_</a> <a id="21358" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋_</a>

<a id="21362" class="Comment">-- Theorem 5.1</a>
<a id="21377" class="Keyword">mutual</a>
  <a id="21386" class="Comment">-- 1.</a>
  <a id="quote^𝓡"></a><a id="21394" href="Motivation.POPLMark2.STLC.html#21394" class="Function">quote^𝓡</a> <a id="21402" class="Symbol">:</a> <a id="21404" class="Symbol">∀</a> <a id="21406" class="Symbol">{</a><a id="21407" href="Motivation.POPLMark2.STLC.html#21407" class="Bound">Γ</a><a id="21408" class="Symbol">}</a> <a id="21410" href="Motivation.POPLMark2.STLC.html#21410" class="Bound">σ</a> <a id="21412" class="Symbol">{</a><a id="21413" href="Motivation.POPLMark2.STLC.html#21413" class="Bound">t</a><a id="21414" class="Symbol">}</a> <a id="21416" class="Symbol">→</a> <a id="21418" href="Motivation.POPLMark2.STLC.html#21407" class="Bound">Γ</a> <a id="21420" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="21423" href="Motivation.POPLMark2.STLC.html#21410" class="Bound">σ</a> <a id="21425" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="21427" href="Motivation.POPLMark2.STLC.html#21413" class="Bound">t</a> <a id="21429" class="Symbol">→</a> <a id="21431" href="Motivation.POPLMark2.STLC.html#21407" class="Bound">Γ</a> <a id="21433" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="21437" href="Motivation.POPLMark2.STLC.html#21410" class="Bound">σ</a> <a id="21439" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="21441" href="Motivation.POPLMark2.STLC.html#21413" class="Bound">t</a>
  <a id="21445" href="Motivation.POPLMark2.STLC.html#21394" class="Function">quote^𝓡</a> <a id="21453" href="Motivation.POPLMark2.STLC.html#1200" class="InductiveConstructor">α</a>       <a id="21461" href="Motivation.POPLMark2.STLC.html#21461" class="Bound">t^𝓡</a> <a id="21465" class="Symbol">=</a> <a id="21467" href="Motivation.POPLMark2.STLC.html#21461" class="Bound">t^𝓡</a>
  <a id="21473" href="Motivation.POPLMark2.STLC.html#21394" class="Function">quote^𝓡</a> <a id="21481" class="Symbol">(</a><a id="21482" href="Motivation.POPLMark2.STLC.html#21482" class="Bound">σ</a> <a id="21484" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="21486" href="Motivation.POPLMark2.STLC.html#21486" class="Bound">τ</a><a id="21487" class="Symbol">)</a> <a id="21489" href="Motivation.POPLMark2.STLC.html#21489" class="Bound">t^𝓡</a> <a id="21493" class="Symbol">=</a> <a id="21495" href="Motivation.POPLMark2.STLC.html#15728" class="Function">th⁻¹^SN</a> <a id="21503" class="Symbol">_</a> <a id="21505" href="Motivation.POPLMark2.STLC.html#21580" class="Function">embed</a> <a id="21511" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="21516" class="Symbol">(</a><a id="21517" href="Motivation.POPLMark2.STLC.html#17017" class="Function">SN-ext</a> <a id="21524" href="var.html#578" class="InductiveConstructor">z</a> <a id="21526" href="Motivation.POPLMark2.STLC.html#21605" class="Function">tz^SN</a><a id="21531" class="Symbol">)</a>
    <a id="21537" class="Keyword">where</a> <a id="21543" href="Motivation.POPLMark2.STLC.html#21543" class="Function">z^𝓡</a>  <a id="21548" class="Symbol">=</a> <a id="21550" href="Motivation.POPLMark2.STLC.html#21650" class="Function">unquote^𝓡</a> <a id="21560" href="Motivation.POPLMark2.STLC.html#21482" class="Bound">σ</a> <a id="21562" class="Symbol">(</a><a id="21563" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="21567" href="var.html#578" class="InductiveConstructor">z</a><a id="21568" class="Symbol">)</a>
          <a id="21580" href="Motivation.POPLMark2.STLC.html#21580" class="Function">embed</a> <a id="21586" class="Symbol">=</a> <a id="21588" href="environment.html#383" class="InductiveConstructor">pack</a> <a id="21593" href="var.html#626" class="InductiveConstructor">s</a>
          <a id="21605" href="Motivation.POPLMark2.STLC.html#21605" class="Function">tz^SN</a> <a id="21611" class="Symbol">=</a> <a id="21613" href="Motivation.POPLMark2.STLC.html#21394" class="Function">quote^𝓡</a> <a id="21621" href="Motivation.POPLMark2.STLC.html#21486" class="Bound">τ</a> <a id="21623" class="Symbol">(</a><a id="21624" href="Motivation.POPLMark2.STLC.html#21489" class="Bound">t^𝓡</a> <a id="21628" href="Motivation.POPLMark2.STLC.html#21580" class="Function">embed</a> <a id="21634" href="Motivation.POPLMark2.STLC.html#21543" class="Function">z^𝓡</a><a id="21637" class="Symbol">)</a>

  <a id="21642" class="Comment">-- 2.</a>
  <a id="unquote^𝓡"></a><a id="21650" href="Motivation.POPLMark2.STLC.html#21650" class="Function">unquote^𝓡</a> <a id="21660" class="Symbol">:</a> <a id="21662" class="Symbol">∀</a> <a id="21664" class="Symbol">{</a><a id="21665" href="Motivation.POPLMark2.STLC.html#21665" class="Bound">Γ</a><a id="21666" class="Symbol">}</a> <a id="21668" href="Motivation.POPLMark2.STLC.html#21668" class="Bound">σ</a> <a id="21670" class="Symbol">{</a><a id="21671" href="Motivation.POPLMark2.STLC.html#21671" class="Bound">t</a><a id="21672" class="Symbol">}</a> <a id="21674" class="Symbol">→</a> <a id="21676" href="Motivation.POPLMark2.STLC.html#21665" class="Bound">Γ</a> <a id="21678" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">⊢SNe</a> <a id="21683" href="Motivation.POPLMark2.STLC.html#21668" class="Bound">σ</a> <a id="21685" href="Motivation.POPLMark2.STLC.html#14383" class="Function Operator">∋</a> <a id="21687" href="Motivation.POPLMark2.STLC.html#21671" class="Bound">t</a> <a id="21689" class="Symbol">→</a> <a id="21691" href="Motivation.POPLMark2.STLC.html#21665" class="Bound">Γ</a> <a id="21693" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="21696" href="Motivation.POPLMark2.STLC.html#21668" class="Bound">σ</a> <a id="21698" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="21700" href="Motivation.POPLMark2.STLC.html#21671" class="Bound">t</a>
  <a id="21704" href="Motivation.POPLMark2.STLC.html#21650" class="Function">unquote^𝓡</a> <a id="21714" href="Motivation.POPLMark2.STLC.html#1200" class="InductiveConstructor">α</a>       <a id="21722" href="Motivation.POPLMark2.STLC.html#21722" class="Bound">t^SNe</a>        <a id="21735" class="Symbol">=</a> <a id="21737" href="Motivation.POPLMark2.STLC.html#13934" class="InductiveConstructor">neu</a> <a id="21741" href="Motivation.POPLMark2.STLC.html#21722" class="Bound">t^SNe</a>
  <a id="21749" href="Motivation.POPLMark2.STLC.html#21650" class="Function">unquote^𝓡</a> <a id="21759" class="Symbol">(</a><a id="21760" href="Motivation.POPLMark2.STLC.html#21760" class="Bound">σ</a> <a id="21762" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="21764" href="Motivation.POPLMark2.STLC.html#21764" class="Bound">τ</a><a id="21765" class="Symbol">)</a> <a id="21767" href="Motivation.POPLMark2.STLC.html#21767" class="Bound">t^SNe</a> <a id="21773" href="Motivation.POPLMark2.STLC.html#21773" class="Bound">ρ</a> <a id="21775" href="Motivation.POPLMark2.STLC.html#21775" class="Bound">u^𝓡</a> <a id="21779" class="Symbol">=</a> <a id="21781" href="Motivation.POPLMark2.STLC.html#21650" class="Function">unquote^𝓡</a> <a id="21791" href="Motivation.POPLMark2.STLC.html#21764" class="Bound">τ</a> <a id="21793" class="Symbol">(</a><a id="21794" href="Motivation.POPLMark2.STLC.html#14214" class="InductiveConstructor">app</a> <a id="21798" class="Symbol">(</a><a id="21799" href="Motivation.POPLMark2.STLC.html#15252" class="Function">th^SNe</a> <a id="21806" href="Motivation.POPLMark2.STLC.html#21773" class="Bound">ρ</a> <a id="21808" href="Motivation.POPLMark2.STLC.html#21767" class="Bound">t^SNe</a><a id="21813" class="Symbol">)</a> <a id="21815" href="Motivation.POPLMark2.STLC.html#21831" class="Function">u^SN</a><a id="21819" class="Symbol">)</a>
    <a id="21825" class="Keyword">where</a> <a id="21831" href="Motivation.POPLMark2.STLC.html#21831" class="Function">u^SN</a> <a id="21836" class="Symbol">=</a> <a id="21838" href="Motivation.POPLMark2.STLC.html#21394" class="Function">quote^𝓡</a> <a id="21846" href="Motivation.POPLMark2.STLC.html#21760" class="Bound">σ</a> <a id="21848" href="Motivation.POPLMark2.STLC.html#21775" class="Bound">u^𝓡</a>

<a id="21853" class="Comment">-- 3.</a>
<a id="↝SN⁻¹^𝓡"></a><a id="21859" href="Motivation.POPLMark2.STLC.html#21859" class="Function">↝SN⁻¹^𝓡</a> <a id="21867" class="Symbol">:</a> <a id="21869" class="Symbol">∀</a> <a id="21871" class="Symbol">{</a><a id="21872" href="Motivation.POPLMark2.STLC.html#21872" class="Bound">Γ</a><a id="21873" class="Symbol">}</a> <a id="21875" href="Motivation.POPLMark2.STLC.html#21875" class="Bound">σ</a> <a id="21877" class="Symbol">{</a><a id="21878" href="Motivation.POPLMark2.STLC.html#21878" class="Bound">t′</a> <a id="21881" href="Motivation.POPLMark2.STLC.html#21881" class="Bound">t</a><a id="21882" class="Symbol">}</a> <a id="21884" class="Symbol">→</a> <a id="21886" href="Motivation.POPLMark2.STLC.html#21872" class="Bound">Γ</a> <a id="21888" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">⊢</a> <a id="21890" href="Motivation.POPLMark2.STLC.html#21875" class="Bound">σ</a> <a id="21892" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">∋</a> <a id="21894" href="Motivation.POPLMark2.STLC.html#21878" class="Bound">t′</a> <a id="21897" href="Motivation.POPLMark2.STLC.html#14337" class="Function Operator">↝SN</a> <a id="21901" href="Motivation.POPLMark2.STLC.html#21881" class="Bound">t</a> <a id="21903" class="Symbol">→</a> <a id="21905" href="Motivation.POPLMark2.STLC.html#21872" class="Bound">Γ</a> <a id="21907" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="21910" href="Motivation.POPLMark2.STLC.html#21875" class="Bound">σ</a> <a id="21912" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="21914" href="Motivation.POPLMark2.STLC.html#21881" class="Bound">t</a> <a id="21916" class="Symbol">→</a> <a id="21918" href="Motivation.POPLMark2.STLC.html#21872" class="Bound">Γ</a> <a id="21920" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="21923" href="Motivation.POPLMark2.STLC.html#21875" class="Bound">σ</a> <a id="21925" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="21927" href="Motivation.POPLMark2.STLC.html#21878" class="Bound">t′</a>
<a id="21930" href="Motivation.POPLMark2.STLC.html#21859" class="Function">↝SN⁻¹^𝓡</a> <a id="21938" href="Motivation.POPLMark2.STLC.html#1200" class="InductiveConstructor">α</a>       <a id="21946" href="Motivation.POPLMark2.STLC.html#21946" class="Bound">r</a> <a id="21948" href="Motivation.POPLMark2.STLC.html#21948" class="Bound">t^𝓡</a> <a id="21952" class="Symbol">=</a> <a id="21954" href="Motivation.POPLMark2.STLC.html#14062" class="InductiveConstructor">red</a> <a id="21958" href="Motivation.POPLMark2.STLC.html#21946" class="Bound">r</a> <a id="21960" href="Motivation.POPLMark2.STLC.html#21948" class="Bound">t^𝓡</a>
<a id="21964" href="Motivation.POPLMark2.STLC.html#21859" class="Function">↝SN⁻¹^𝓡</a> <a id="21972" class="Symbol">(</a><a id="21973" href="Motivation.POPLMark2.STLC.html#21973" class="Bound">σ</a> <a id="21975" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="21977" href="Motivation.POPLMark2.STLC.html#21977" class="Bound">τ</a><a id="21978" class="Symbol">)</a> <a id="21980" href="Motivation.POPLMark2.STLC.html#21980" class="Bound">r</a> <a id="21982" href="Motivation.POPLMark2.STLC.html#21982" class="Bound">t^𝓡</a> <a id="21986" class="Symbol">=</a> <a id="21988" class="Symbol">λ</a> <a id="21990" href="Motivation.POPLMark2.STLC.html#21990" class="Bound">ρ</a> <a id="21992" href="Motivation.POPLMark2.STLC.html#21992" class="Bound">u^𝓡</a> <a id="21996" class="Symbol">→</a> <a id="21998" href="Motivation.POPLMark2.STLC.html#21859" class="Function">↝SN⁻¹^𝓡</a> <a id="22006" href="Motivation.POPLMark2.STLC.html#21977" class="Bound">τ</a> <a id="22008" class="Symbol">(</a><a id="22009" href="Motivation.POPLMark2.STLC.html#13823" class="InductiveConstructor">[∙]₂</a> <a id="22014" class="Symbol">(</a><a id="22015" href="Motivation.POPLMark2.STLC.html#15410" class="Function">th^↝SN</a> <a id="22022" href="Motivation.POPLMark2.STLC.html#21990" class="Bound">ρ</a> <a id="22024" href="Motivation.POPLMark2.STLC.html#21980" class="Bound">r</a><a id="22025" class="Symbol">)</a> <a id="22027" class="Symbol">_)</a> <a id="22030" class="Symbol">(</a><a id="22031" href="Motivation.POPLMark2.STLC.html#21982" class="Bound">t^𝓡</a> <a id="22035" href="Motivation.POPLMark2.STLC.html#21990" class="Bound">ρ</a> <a id="22037" href="Motivation.POPLMark2.STLC.html#21992" class="Bound">u^𝓡</a><a id="22040" class="Symbol">)</a>


<a id="th^𝓡"></a><a id="22044" href="Motivation.POPLMark2.STLC.html#22044" class="Function">th^𝓡</a> <a id="22049" class="Symbol">:</a> <a id="22051" class="Symbol">∀</a> <a id="22053" class="Symbol">{</a><a id="22054" href="Motivation.POPLMark2.STLC.html#22054" class="Bound">Γ</a> <a id="22056" href="Motivation.POPLMark2.STLC.html#22056" class="Bound">Δ</a><a id="22057" class="Symbol">}</a> <a id="22059" href="Motivation.POPLMark2.STLC.html#22059" class="Bound">σ</a> <a id="22061" href="Motivation.POPLMark2.STLC.html#22061" class="Bound">ρ</a> <a id="22063" href="Motivation.POPLMark2.STLC.html#22063" class="Bound">t</a> <a id="22065" class="Symbol">→</a> <a id="22067" href="Motivation.POPLMark2.STLC.html#22054" class="Bound">Γ</a> <a id="22069" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="22072" href="Motivation.POPLMark2.STLC.html#22059" class="Bound">σ</a> <a id="22074" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="22076" href="Motivation.POPLMark2.STLC.html#22063" class="Bound">t</a> <a id="22078" class="Symbol">→</a> <a id="22080" href="Motivation.POPLMark2.STLC.html#22056" class="Bound">Δ</a> <a id="22082" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="22085" href="Motivation.POPLMark2.STLC.html#22059" class="Bound">σ</a> <a id="22087" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="22089" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="22093" href="Motivation.POPLMark2.STLC.html#22061" class="Bound">ρ</a> <a id="22095" href="Motivation.POPLMark2.STLC.html#22063" class="Bound">t</a>
<a id="22097" href="Motivation.POPLMark2.STLC.html#22044" class="Function">th^𝓡</a> <a id="22102" href="Motivation.POPLMark2.STLC.html#1200" class="InductiveConstructor">α</a>       <a id="22110" href="Motivation.POPLMark2.STLC.html#22110" class="Bound">ρ</a> <a id="22112" href="Motivation.POPLMark2.STLC.html#22112" class="Bound">t</a> <a id="22114" href="Motivation.POPLMark2.STLC.html#22114" class="Bound">t^𝓡</a>         <a id="22126" class="Symbol">=</a> <a id="22128" href="Motivation.POPLMark2.STLC.html#15062" class="Function">th^SN</a> <a id="22134" href="Motivation.POPLMark2.STLC.html#22110" class="Bound">ρ</a> <a id="22136" href="Motivation.POPLMark2.STLC.html#22114" class="Bound">t^𝓡</a>
<a id="22140" href="Motivation.POPLMark2.STLC.html#22044" class="Function">th^𝓡</a> <a id="22145" class="Symbol">(</a><a id="22146" href="Motivation.POPLMark2.STLC.html#22146" class="Bound">σ</a> <a id="22148" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="22150" href="Motivation.POPLMark2.STLC.html#22150" class="Bound">τ</a><a id="22151" class="Symbol">)</a> <a id="22153" href="Motivation.POPLMark2.STLC.html#22153" class="Bound">ρ</a> <a id="22155" href="Motivation.POPLMark2.STLC.html#22155" class="Bound">t</a> <a id="22157" href="Motivation.POPLMark2.STLC.html#22157" class="Bound">t^𝓡</a> <a id="22161" href="Motivation.POPLMark2.STLC.html#22161" class="Bound">ρ′</a> <a id="22164" href="Motivation.POPLMark2.STLC.html#22164" class="Bound">u^𝓡</a> <a id="22168" class="Symbol">=</a> <a id="22170" href="Motivation.POPLMark2.STLC.html#22207" class="Function">cast</a> <a id="22175" class="Symbol">(</a><a id="22176" href="Motivation.POPLMark2.STLC.html#22157" class="Bound">t^𝓡</a> <a id="22180" class="Symbol">(</a><a id="22181" href="environment.html#2189" class="Function">select</a> <a id="22188" href="Motivation.POPLMark2.STLC.html#22153" class="Bound">ρ</a> <a id="22190" href="Motivation.POPLMark2.STLC.html#22161" class="Bound">ρ′</a><a id="22192" class="Symbol">)</a> <a id="22194" href="Motivation.POPLMark2.STLC.html#22164" class="Bound">u^𝓡</a><a id="22197" class="Symbol">)</a>
  <a id="22201" class="Keyword">where</a> <a id="22207" href="Motivation.POPLMark2.STLC.html#22207" class="Function">cast</a> <a id="22212" class="Symbol">=</a> <a id="22214" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="22220" class="Symbol">(λ</a> <a id="22223" href="Motivation.POPLMark2.STLC.html#22223" class="Bound">t</a> <a id="22225" class="Symbol">→</a> <a id="22227" class="Symbol">_</a> <a id="22229" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="22232" class="Symbol">_</a> <a id="22234" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="22236" href="Motivation.POPLMark2.STLC.html#22223" class="Bound">t</a> <a id="22238" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="22241" class="Symbol">_)</a> <a id="22244" class="Symbol">(</a><a id="22245" href="Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a> <a id="22249" href="Function.html#1881" class="Function Operator">$</a> <a id="22251" href="Generic.Fusion.Syntactic.html#831" class="Function">ren²</a> <a id="22256" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="22262" href="Motivation.POPLMark2.STLC.html#22155" class="Bound">t</a> <a id="22264" href="Motivation.POPLMark2.STLC.html#22153" class="Bound">ρ</a> <a id="22266" href="Motivation.POPLMark2.STLC.html#22161" class="Bound">ρ′</a><a id="22268" class="Symbol">)</a>

<a id="_∙^𝓡_"></a><a id="22271" href="Motivation.POPLMark2.STLC.html#22271" class="Function Operator">_∙^𝓡_</a> <a id="22277" class="Symbol">:</a> <a id="22279" class="Symbol">∀</a> <a id="22281" class="Symbol">{</a><a id="22282" href="Motivation.POPLMark2.STLC.html#22282" class="Bound">σ</a> <a id="22284" href="Motivation.POPLMark2.STLC.html#22284" class="Bound">τ</a> <a id="22286" href="Motivation.POPLMark2.STLC.html#22286" class="Bound">Γ</a> <a id="22288" href="Motivation.POPLMark2.STLC.html#22288" class="Bound">f</a> <a id="22290" href="Motivation.POPLMark2.STLC.html#22290" class="Bound">t</a><a id="22291" class="Symbol">}</a> <a id="22293" class="Symbol">→</a> <a id="22295" href="Motivation.POPLMark2.STLC.html#22286" class="Bound">Γ</a> <a id="22297" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="22300" href="Motivation.POPLMark2.STLC.html#22282" class="Bound">σ</a> <a id="22302" href="Motivation.POPLMark2.STLC.html#1214" class="InductiveConstructor Operator">⇒</a> <a id="22304" href="Motivation.POPLMark2.STLC.html#22284" class="Bound">τ</a> <a id="22306" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="22308" href="Motivation.POPLMark2.STLC.html#22288" class="Bound">f</a> <a id="22310" class="Symbol">→</a> <a id="22312" href="Motivation.POPLMark2.STLC.html#22286" class="Bound">Γ</a> <a id="22314" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="22317" href="Motivation.POPLMark2.STLC.html#22282" class="Bound">σ</a> <a id="22319" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="22321" href="Motivation.POPLMark2.STLC.html#22290" class="Bound">t</a> <a id="22323" class="Symbol">→</a> <a id="22325" href="Motivation.POPLMark2.STLC.html#22286" class="Bound">Γ</a> <a id="22327" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="22330" href="Motivation.POPLMark2.STLC.html#22284" class="Bound">τ</a> <a id="22332" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="22334" href="Motivation.POPLMark2.STLC.html#22288" class="Bound">f</a> <a id="22336" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="22339" href="Motivation.POPLMark2.STLC.html#22290" class="Bound">t</a>
<a id="22341" href="Motivation.POPLMark2.STLC.html#22341" class="Bound">f^𝓡</a> <a id="22345" href="Motivation.POPLMark2.STLC.html#22271" class="Function Operator">∙^𝓡</a> <a id="22349" href="Motivation.POPLMark2.STLC.html#22349" class="Bound">t^𝓡</a> <a id="22353" class="Symbol">=</a> <a id="22355" href="Motivation.POPLMark2.STLC.html#22392" class="Function">cast</a> <a id="22360" class="Symbol">(</a><a id="22361" href="Motivation.POPLMark2.STLC.html#22341" class="Bound">f^𝓡</a> <a id="22365" class="Symbol">(</a><a id="22366" href="varlike.html#455" class="Function">base</a> <a id="22371" href="varlike.html#863" class="Function">vl^Var</a><a id="22377" class="Symbol">)</a> <a id="22379" href="Motivation.POPLMark2.STLC.html#22349" class="Bound">t^𝓡</a><a id="22382" class="Symbol">)</a>
  <a id="22386" class="Keyword">where</a> <a id="22392" href="Motivation.POPLMark2.STLC.html#22392" class="Function">cast</a> <a id="22397" class="Symbol">=</a> <a id="22399" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="22405" class="Symbol">(λ</a> <a id="22408" href="Motivation.POPLMark2.STLC.html#22408" class="Bound">t</a> <a id="22410" class="Symbol">→</a> <a id="22412" class="Symbol">_</a> <a id="22414" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="22417" class="Symbol">_</a> <a id="22419" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="22421" href="Motivation.POPLMark2.STLC.html#22408" class="Bound">t</a> <a id="22423" href="Motivation.POPLMark2.STLC.html#1802" class="InductiveConstructor Operator">`∙</a> <a id="22426" class="Symbol">_)</a> <a id="22429" class="Symbol">(</a><a id="22430" href="Generic.Identity.html#2944" class="Function">ren-id</a> <a id="22437" class="Symbol">_)</a>


<a id="22442" class="Comment">-- Section 6 Proving strong normalization</a>
<a id="22484" class="Comment">-------------------------------------------------------------------</a>

<a id="22553" class="Comment">-- Lemma 6.1 Fundamental lemma</a>
<a id="fundamental"></a><a id="22584" href="Motivation.POPLMark2.STLC.html#22584" class="Function">fundamental</a> <a id="22596" class="Symbol">:</a> <a id="22598" href="Generic.Fundamental.html#1779" class="Record">Fdm</a> <a id="22602" href="Motivation.POPLMark2.STLC.html#21324" class="Function">𝓡^P</a> <a id="22606" href="Motivation.POPLMark2.STLC.html#21324" class="Function">𝓡^P</a> <a id="22610" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="22616" href="Generic.Semantics.Syntactic.html#792" class="Function">Substitution</a>
<a id="22629" href="Generic.Fundamental.html#1833" class="Field">Fdm.th^P</a>  <a id="22639" href="Motivation.POPLMark2.STLC.html#22584" class="Function">fundamental</a> <a id="22651" class="Symbol">=</a> <a id="22653" class="Symbol">λ</a> <a id="22655" href="Motivation.POPLMark2.STLC.html#22655" class="Bound">ρ</a> <a id="22657" href="Motivation.POPLMark2.STLC.html#22657" class="Bound">v^𝓡</a> <a id="22661" class="Symbol">→</a> <a id="22663" href="Motivation.POPLMark2.STLC.html#22044" class="Function">th^𝓡</a> <a id="22668" class="Symbol">_</a> <a id="22670" href="Motivation.POPLMark2.STLC.html#22655" class="Bound">ρ</a> <a id="22672" class="Symbol">_</a> <a id="22674" href="Motivation.POPLMark2.STLC.html#22657" class="Bound">v^𝓡</a>
<a id="22678" href="Generic.Fundamental.html#1932" class="Field">Fdm.var^P</a> <a id="22688" href="Motivation.POPLMark2.STLC.html#22584" class="Function">fundamental</a> <a id="22700" class="Symbol">=</a> <a id="22702" class="Symbol">λ</a> <a id="22704" href="Motivation.POPLMark2.STLC.html#22704" class="Bound">x</a> <a id="22706" class="Symbol">→</a> <a id="22708" href="Motivation.POPLMark2.STLC.html#22704" class="Bound">x</a>
<a id="22710" href="Generic.Fundamental.html#2007" class="Field">Fdm.alg^P</a> <a id="22720" href="Motivation.POPLMark2.STLC.html#22584" class="Function">fundamental</a> <a id="22732" class="Symbol">=</a> <a id="22734" href="Motivation.POPLMark2.STLC.html#22749" class="Function">alg^P</a> <a id="22740" class="Keyword">where</a>

  <a id="22749" href="Motivation.POPLMark2.STLC.html#22749" class="Function">alg^P</a> <a id="22755" class="Symbol">:</a> <a id="22757" class="Symbol">∀</a> <a id="22759" class="Symbol">{</a><a id="22760" href="Motivation.POPLMark2.STLC.html#22760" class="Bound">Γ</a> <a id="22762" href="Motivation.POPLMark2.STLC.html#22762" class="Bound">Δ</a> <a id="22764" href="Motivation.POPLMark2.STLC.html#22764" class="Bound">σ</a> <a id="22766" href="Motivation.POPLMark2.STLC.html#22766" class="Bound">s</a><a id="22767" class="Symbol">}</a> <a id="22769" class="Symbol">(</a><a id="22770" href="Motivation.POPLMark2.STLC.html#22770" class="Bound">b</a> <a id="22772" class="Symbol">:</a> <a id="22774" href="Generic.Syntax.html#736" class="Function Operator">⟦</a> <a id="22776" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="22782" href="Generic.Syntax.html#736" class="Function Operator">⟧</a> <a id="22784" class="Symbol">(</a><a id="22785" href="Generic.Syntax.html#987" class="Function">Scope</a> <a id="22791" class="Symbol">(</a><a id="22792" href="Generic.Syntax.html#1072" class="Datatype">Tm</a> <a id="22795" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="22801" href="Motivation.POPLMark2.STLC.html#22766" class="Bound">s</a><a id="22802" class="Symbol">))</a> <a id="22805" href="Motivation.POPLMark2.STLC.html#22764" class="Bound">σ</a> <a id="22807" href="Motivation.POPLMark2.STLC.html#22760" class="Bound">Γ</a><a id="22808" class="Symbol">)</a> <a id="22810" class="Symbol">{</a><a id="22811" href="Motivation.POPLMark2.STLC.html#22811" class="Bound">ρ</a> <a id="22813" class="Symbol">:</a> <a id="22815" class="Symbol">(</a><a id="22816" href="Motivation.POPLMark2.STLC.html#22760" class="Bound">Γ</a> <a id="22818" href="environment.html#309" class="Record Operator">─Env</a><a id="22822" class="Symbol">)</a> <a id="22824" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="22829" href="Motivation.POPLMark2.STLC.html#22762" class="Bound">Δ</a><a id="22830" class="Symbol">}</a> <a id="22832" class="Symbol">→</a>
          <a id="22844" class="Keyword">let</a> <a id="22848" href="Motivation.POPLMark2.STLC.html#22848" class="Bound">v</a> <a id="22850" class="Symbol">=</a> <a id="22852" href="Generic.Syntax.html#2560" class="Function">fmap</a> <a id="22857" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="22863" class="Symbol">(</a><a id="22864" href="Generic.Semantics.html#763" class="Function">Sem.body</a> <a id="22873" href="Generic.Semantics.Syntactic.html#792" class="Function">Substitution</a> <a id="22886" href="Motivation.POPLMark2.STLC.html#22811" class="Bound">ρ</a><a id="22887" class="Symbol">)</a> <a id="22889" href="Motivation.POPLMark2.STLC.html#22770" class="Bound">b</a> <a id="22891" class="Keyword">in</a>
          <a id="22904" href="pred.html#307" class="Record Operator">pred.∀[</a> <a id="22912" href="Motivation.POPLMark2.STLC.html#21324" class="Function">𝓡^P</a> <a id="22916" href="pred.html#307" class="Record Operator">]</a> <a id="22918" href="Motivation.POPLMark2.STLC.html#22811" class="Bound">ρ</a> <a id="22920" class="Symbol">→</a> <a id="22922" href="Generic.Fundamental.html#898" class="Function">All</a> <a id="22926" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="22932" class="Symbol">(</a><a id="22933" href="varlike.html#3263" class="Function">Kripke^P</a> <a id="22942" href="Motivation.POPLMark2.STLC.html#21324" class="Function">𝓡^P</a> <a id="22946" href="Motivation.POPLMark2.STLC.html#21324" class="Function">𝓡^P</a><a id="22949" class="Symbol">)</a> <a id="22951" href="Motivation.POPLMark2.STLC.html#22848" class="Bound">v</a> <a id="22953" class="Symbol">→</a> <a id="22955" href="Motivation.POPLMark2.STLC.html#22762" class="Bound">Δ</a> <a id="22957" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="22960" href="Motivation.POPLMark2.STLC.html#22764" class="Bound">σ</a> <a id="22962" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="22964" href="Generic.Semantics.html#654" class="Field">Sem.alg</a> <a id="22972" href="Generic.Semantics.Syntactic.html#792" class="Function">Substitution</a> <a id="22985" href="Motivation.POPLMark2.STLC.html#22848" class="Bound">v</a>
  <a id="22989" href="Motivation.POPLMark2.STLC.html#22749" class="Function">alg^P</a> <a id="22995" class="Symbol">(</a><a id="22996" href="Motivation.POPLMark2.STLC.html#22996" class="Bound">f</a> <a id="22998" href="Motivation.POPLMark2.STLC.html#1724" class="InductiveConstructor Operator">`∙&#39;</a> <a id="23002" href="Motivation.POPLMark2.STLC.html#23002" class="Bound">t</a><a id="23003" class="Symbol">)</a> <a id="23005" href="Motivation.POPLMark2.STLC.html#23005" class="Bound">ρ^P</a> <a id="23009" class="Symbol">(</a><a id="23010" href="Motivation.POPLMark2.STLC.html#23010" class="Bound">f^P</a> <a id="23014" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="23016" href="Motivation.POPLMark2.STLC.html#23016" class="Bound">t^P</a> <a id="23020" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="23022" class="Symbol">_)</a>  <a id="23026" class="Symbol">=</a> <a id="23028" href="Motivation.POPLMark2.STLC.html#23010" class="Bound">f^P</a> <a id="23032" href="Motivation.POPLMark2.STLC.html#22271" class="Function Operator">∙^𝓡</a> <a id="23036" href="Motivation.POPLMark2.STLC.html#23016" class="Bound">t^P</a>
  <a id="23042" href="Motivation.POPLMark2.STLC.html#22749" class="Function">alg^P</a> <a id="23048" class="Symbol">(</a><a id="23049" href="Motivation.POPLMark2.STLC.html#1683" class="InductiveConstructor">`λ&#39;</a> <a id="23053" href="Motivation.POPLMark2.STLC.html#23053" class="Bound">b</a><a id="23054" class="Symbol">)</a> <a id="23056" class="Symbol">{</a><a id="23057" href="Motivation.POPLMark2.STLC.html#23057" class="Bound">ρ₁</a><a id="23059" class="Symbol">}</a> <a id="23061" href="Motivation.POPLMark2.STLC.html#23061" class="Bound">ρ^P</a> <a id="23065" class="Symbol">(</a><a id="23066" href="Motivation.POPLMark2.STLC.html#23066" class="Bound">b^P</a> <a id="23070" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="23072" class="Symbol">_)</a> <a id="23075" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a> <a id="23077" class="Symbol">{</a><a id="23078" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a><a id="23079" class="Symbol">}</a> <a id="23081" href="Motivation.POPLMark2.STLC.html#23081" class="Bound">u^𝓡</a> <a id="23085" class="Symbol">=</a> <a id="23087" href="Motivation.POPLMark2.STLC.html#21859" class="Function">↝SN⁻¹^𝓡</a> <a id="23095" class="Symbol">_</a> <a id="23097" href="Motivation.POPLMark2.STLC.html#23200" class="Function">β-step</a> <a id="23104" href="Function.html#1881" class="Function Operator">$</a> <a id="23106" href="Motivation.POPLMark2.STLC.html#24510" class="Function">cast</a> <a id="23111" class="Symbol">(</a><a id="23112" href="Motivation.POPLMark2.STLC.html#23066" class="Bound">b^P</a> <a id="23116" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a> <a id="23118" class="Symbol">(</a><a id="23119" href="pred.html#815" class="Function">ε^P</a> <a id="23123" href="pred.html#946" class="Function Operator">∙^P</a> <a id="23127" href="Motivation.POPLMark2.STLC.html#23081" class="Bound">u^𝓡</a><a id="23130" class="Symbol">))</a>
  <a id="23135" class="Comment">-- at this point the substitution looks HORRIBLE</a>
    <a id="23188" class="Keyword">where</a>
      <a id="23200" href="Motivation.POPLMark2.STLC.html#23200" class="Function">β-step</a> <a id="23207" class="Symbol">=</a> <a id="23209" href="Motivation.POPLMark2.STLC.html#13730" class="InductiveConstructor">β</a> <a id="23211" class="Symbol">(</a><a id="23212" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="23216" class="Symbol">_</a> <a id="23218" class="Symbol">(</a><a id="23219" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="23223" class="Symbol">_</a> <a id="23225" href="Motivation.POPLMark2.STLC.html#23053" class="Bound">b</a><a id="23226" class="Symbol">))</a> <a id="23229" class="Symbol">_</a> <a id="23231" class="Symbol">(</a><a id="23232" href="Motivation.POPLMark2.STLC.html#21394" class="Function">quote^𝓡</a> <a id="23240" class="Symbol">_</a> <a id="23242" href="Motivation.POPLMark2.STLC.html#23081" class="Bound">u^𝓡</a><a id="23245" class="Symbol">)</a>
      <a id="23253" href="Motivation.POPLMark2.STLC.html#23253" class="Function">ρ′</a>  <a id="23257" class="Symbol">=</a> <a id="23259" href="varlike.html#1372" class="Function">lift</a> <a id="23264" href="varlike.html#863" class="Function">vl^Var</a> <a id="23271" class="Symbol">(_</a> <a id="23274" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="23276" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="23278" class="Symbol">)</a> <a id="23280" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a>
      <a id="23288" href="Motivation.POPLMark2.STLC.html#23288" class="Function">ρ₁′</a> <a id="23292" class="Symbol">=</a> <a id="23294" href="varlike.html#1372" class="Function">lift</a> <a id="23299" href="Generic.Semantics.Syntactic.html#722" class="Function">vl^Tm</a> <a id="23305" class="Symbol">(_</a> <a id="23308" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="23310" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="23312" class="Symbol">)</a> <a id="23314" href="Motivation.POPLMark2.STLC.html#23057" class="Bound">ρ₁</a>

      <a id="23324" href="Motivation.POPLMark2.STLC.html#23324" class="Function">ρ^R</a> <a id="23328" class="Symbol">:</a> <a id="23330" href="rel.html#431" class="Record Operator">rel.∀[</a> <a id="23337" href="rel.html#2122" class="Function">VarTm^R</a> <a id="23345" href="rel.html#431" class="Record Operator">]</a> <a id="23347" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a> <a id="23349" class="Symbol">(</a><a id="23350" href="environment.html#2189" class="Function">select</a> <a id="23357" class="Symbol">(</a><a id="23358" href="varlike.html#555" class="Function">freshʳ</a> <a id="23365" href="varlike.html#863" class="Function">vl^Var</a> <a id="23372" class="Symbol">(_</a> <a id="23375" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="23377" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="23379" class="Symbol">))</a> <a id="23382" class="Symbol">(</a><a id="23383" href="environment.html#2189" class="Function">select</a> <a id="23390" href="Motivation.POPLMark2.STLC.html#23253" class="Function">ρ′</a> <a id="23393" class="Symbol">(</a><a id="23394" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a> <a id="23396" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="23399" class="Symbol">)))</a>
      <a id="23409" href="rel.html#561" class="Field">lookup^R</a> <a id="23418" href="Motivation.POPLMark2.STLC.html#23324" class="Function">ρ^R</a> <a id="23422" href="Motivation.POPLMark2.STLC.html#23422" class="Bound">k</a> <a id="23424" class="Symbol">=</a> <a id="23426" href="Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a> <a id="23430" href="Function.html#1881" class="Function Operator">$</a> <a id="23432" href="Relation.Binary.PropositionalEquality.html#3962" class="Function Operator">begin</a>
        <a id="23446" href="environment.html#396" class="Field">lookup</a> <a id="23453" class="Symbol">(</a><a id="23454" href="varlike.html#455" class="Function">base</a> <a id="23459" href="Generic.Semantics.Syntactic.html#722" class="Function">vl^Tm</a><a id="23464" class="Symbol">)</a> <a id="23466" class="Symbol">(</a><a id="23467" href="environment.html#396" class="Field">lookup</a> <a id="23474" class="Symbol">(</a><a id="23475" href="varlike.html#455" class="Function">base</a> <a id="23480" href="varlike.html#863" class="Function">vl^Var</a><a id="23486" class="Symbol">)</a> <a id="23488" class="Symbol">(</a><a id="23489" href="environment.html#396" class="Field">lookup</a> <a id="23496" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a> <a id="23498" class="Symbol">(</a><a id="23499" href="environment.html#396" class="Field">lookup</a> <a id="23506" class="Symbol">(</a><a id="23507" href="varlike.html#455" class="Function">base</a> <a id="23512" href="varlike.html#863" class="Function">vl^Var</a><a id="23518" class="Symbol">)</a> <a id="23520" href="Motivation.POPLMark2.STLC.html#23422" class="Bound">k</a><a id="23521" class="Symbol">)))</a>
          <a id="23535" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="23538" href="Generic.Semantics.Syntactic.html#1296" class="Function">lookup-base^Tm</a> <a id="23553" class="Symbol">_</a> <a id="23555" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
        <a id="23565" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="23570" class="Symbol">(</a><a id="23571" href="environment.html#396" class="Field">lookup</a> <a id="23578" class="Symbol">(</a><a id="23579" href="varlike.html#455" class="Function">base</a> <a id="23584" href="varlike.html#863" class="Function">vl^Var</a><a id="23590" class="Symbol">)</a> <a id="23592" class="Symbol">(</a><a id="23593" href="environment.html#396" class="Field">lookup</a> <a id="23600" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a> <a id="23602" class="Symbol">(</a><a id="23603" href="environment.html#396" class="Field">lookup</a> <a id="23610" class="Symbol">(</a><a id="23611" href="varlike.html#455" class="Function">base</a> <a id="23616" href="varlike.html#863" class="Function">vl^Var</a><a id="23622" class="Symbol">)</a> <a id="23624" href="Motivation.POPLMark2.STLC.html#23422" class="Bound">k</a><a id="23625" class="Symbol">)))</a>
          <a id="23639" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="23642" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="23647" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="23652" class="Symbol">(</a><a id="23653" href="varlike.html#927" class="Function">lookup-base^Var</a> <a id="23669" class="Symbol">_)</a> <a id="23672" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
        <a id="23682" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="23687" class="Symbol">(</a><a id="23688" href="environment.html#396" class="Field">lookup</a> <a id="23695" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a> <a id="23697" class="Symbol">(</a><a id="23698" href="environment.html#396" class="Field">lookup</a> <a id="23705" class="Symbol">(</a><a id="23706" href="varlike.html#455" class="Function">base</a> <a id="23711" href="varlike.html#863" class="Function">vl^Var</a><a id="23717" class="Symbol">)</a> <a id="23719" href="Motivation.POPLMark2.STLC.html#23422" class="Bound">k</a><a id="23720" class="Symbol">))</a>
          <a id="23733" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="23736" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="23741" class="Symbol">(</a><a id="23742" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="23747" href="Function.html#759" class="Function Operator">∘</a> <a id="23749" href="environment.html#396" class="Field">lookup</a> <a id="23756" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a><a id="23757" class="Symbol">)</a> <a id="23759" class="Symbol">(</a><a id="23760" href="varlike.html#927" class="Function">lookup-base^Var</a> <a id="23776" href="Motivation.POPLMark2.STLC.html#23422" class="Bound">k</a><a id="23777" class="Symbol">)</a> <a id="23779" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
        <a id="23789" href="Generic.Syntax.html#1125" class="InductiveConstructor">`var</a> <a id="23794" class="Symbol">(</a><a id="23795" href="environment.html#396" class="Field">lookup</a> <a id="23802" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a> <a id="23804" href="Motivation.POPLMark2.STLC.html#23422" class="Bound">k</a><a id="23805" class="Symbol">)</a> <a id="23807" href="Relation.Binary.PropositionalEquality.html#4260" class="Function Operator">∎</a>

      <a id="23816" href="Motivation.POPLMark2.STLC.html#23816" class="Function">ρ^R′</a> <a id="23821" class="Symbol">:</a> <a id="23823" href="rel.html#431" class="Record Operator">rel.∀[</a> <a id="23830" href="rel.html#1824" class="Function">Eq^R</a> <a id="23835" href="rel.html#431" class="Record Operator">]</a> <a id="23837" class="Symbol">(</a><a id="23838" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="23842" class="Symbol">(</a><a id="23843" href="environment.html#2189" class="Function">select</a> <a id="23850" href="Motivation.POPLMark2.STLC.html#23253" class="Function">ρ′</a> <a id="23853" class="Symbol">(</a><a id="23854" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a> <a id="23856" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="23859" class="Symbol">))</a> <a id="23862" href="environment.html#556" class="Function Operator">&lt;$&gt;</a> <a id="23866" href="Motivation.POPLMark2.STLC.html#23288" class="Function">ρ₁′</a><a id="23869" class="Symbol">)</a> <a id="23871" class="Symbol">((</a><a id="23873" href="environment.html#515" class="Function">ε</a> <a id="23875" href="environment.html#2070" class="Function Operator">∙</a> <a id="23877" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a><a id="23878" class="Symbol">)</a> <a id="23880" href="environment.html#1477" class="Function Operator">&gt;&gt;</a> <a id="23883" href="environment.html#3553" class="Function">th^Env</a> <a id="23890" href="Generic.Semantics.Syntactic.html#647" class="Function">th^Tm</a> <a id="23896" href="Motivation.POPLMark2.STLC.html#23057" class="Bound">ρ₁</a> <a id="23899" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a><a id="23900" class="Symbol">)</a>
      <a id="23908" href="rel.html#561" class="Field">lookup^R</a> <a id="23917" href="Motivation.POPLMark2.STLC.html#23816" class="Function">ρ^R′</a> <a id="23922" href="var.html#578" class="InductiveConstructor">z</a>     <a id="23928" class="Symbol">=</a> <a id="23930" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
      <a id="23941" href="rel.html#561" class="Field">lookup^R</a> <a id="23950" href="Motivation.POPLMark2.STLC.html#23816" class="Function">ρ^R′</a> <a id="23955" class="Symbol">(</a><a id="23956" href="var.html#626" class="InductiveConstructor">s</a> <a id="23958" href="Motivation.POPLMark2.STLC.html#23958" class="Bound">k</a><a id="23959" class="Symbol">)</a> <a id="23961" class="Symbol">=</a> <a id="23963" href="Relation.Binary.PropositionalEquality.html#3962" class="Function Operator">begin</a>
        <a id="23977" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="23981" class="Symbol">(</a><a id="23982" href="environment.html#2189" class="Function">select</a> <a id="23989" href="Motivation.POPLMark2.STLC.html#23253" class="Function">ρ′</a> <a id="23992" class="Symbol">(</a><a id="23993" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a> <a id="23995" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="23998" class="Symbol">))</a> <a id="24001" class="Symbol">(</a><a id="24002" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="24006" class="Symbol">_</a> <a id="24008" class="Symbol">(</a><a id="24009" href="environment.html#396" class="Field">lookup</a> <a id="24016" href="Motivation.POPLMark2.STLC.html#23057" class="Bound">ρ₁</a> <a id="24019" href="Motivation.POPLMark2.STLC.html#23958" class="Bound">k</a><a id="24020" class="Symbol">))</a> <a id="24023" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="24026" href="Generic.Fusion.Syntactic.html#1261" class="Function">rensub</a> <a id="24033" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="24039" class="Symbol">(</a><a id="24040" href="environment.html#396" class="Field">lookup</a> <a id="24047" href="Motivation.POPLMark2.STLC.html#23057" class="Bound">ρ₁</a> <a id="24050" href="Motivation.POPLMark2.STLC.html#23958" class="Bound">k</a><a id="24051" class="Symbol">)</a> <a id="24053" class="Symbol">_</a> <a id="24055" class="Symbol">_</a> <a id="24057" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
        <a id="24067" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="24071" class="Symbol">_</a> <a id="24073" class="Symbol">(</a><a id="24074" href="environment.html#396" class="Field">lookup</a> <a id="24081" href="Motivation.POPLMark2.STLC.html#23057" class="Bound">ρ₁</a> <a id="24084" href="Motivation.POPLMark2.STLC.html#23958" class="Bound">k</a><a id="24085" class="Symbol">)</a>                           <a id="24113" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="24116" href="Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a> <a id="24120" href="Function.html#1881" class="Function Operator">$</a> <a id="24122" href="Generic.Simulation.html#1573" class="Function">Sim.sim</a> <a id="24130" href="Generic.Simulation.Syntactic.html#894" class="Function">Sim.RenSub</a> <a id="24141" href="Motivation.POPLMark2.STLC.html#23324" class="Function">ρ^R</a> <a id="24145" class="Symbol">(</a><a id="24146" href="environment.html#396" class="Field">lookup</a> <a id="24153" href="Motivation.POPLMark2.STLC.html#23057" class="Bound">ρ₁</a> <a id="24156" href="Motivation.POPLMark2.STLC.html#23958" class="Bound">k</a><a id="24157" class="Symbol">)</a> <a id="24159" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
        <a id="24169" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="24173" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a> <a id="24175" class="Symbol">(</a><a id="24176" href="environment.html#396" class="Field">lookup</a> <a id="24183" href="Motivation.POPLMark2.STLC.html#23057" class="Bound">ρ₁</a> <a id="24186" href="Motivation.POPLMark2.STLC.html#23958" class="Bound">k</a><a id="24187" class="Symbol">)</a> <a id="24189" href="Relation.Binary.PropositionalEquality.html#4260" class="Function Operator">∎</a>

      <a id="24198" href="Motivation.POPLMark2.STLC.html#24198" class="Function">eq</a> <a id="24201" class="Symbol">:</a> <a id="24203" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="24207" class="Symbol">((</a><a id="24209" href="environment.html#515" class="Function">ε</a> <a id="24211" href="environment.html#2070" class="Function Operator">∙</a> <a id="24213" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a><a id="24214" class="Symbol">)</a> <a id="24216" href="environment.html#1477" class="Function Operator">&gt;&gt;</a> <a id="24219" href="environment.html#3553" class="Function">th^Env</a> <a id="24226" href="Generic.Semantics.Syntactic.html#647" class="Function">th^Tm</a> <a id="24232" href="Motivation.POPLMark2.STLC.html#23057" class="Bound">ρ₁</a> <a id="24235" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a><a id="24236" class="Symbol">)</a> <a id="24238" href="Motivation.POPLMark2.STLC.html#23053" class="Bound">b</a> <a id="24240" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="24242" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="24246" href="Motivation.POPLMark2.STLC.html#23253" class="Function">ρ′</a> <a id="24249" class="Symbol">(</a><a id="24250" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="24254" href="Motivation.POPLMark2.STLC.html#23288" class="Function">ρ₁′</a> <a id="24258" href="Motivation.POPLMark2.STLC.html#23053" class="Bound">b</a><a id="24259" class="Symbol">)</a> <a id="24261" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="24263" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a> <a id="24265" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a>
      <a id="24275" href="Motivation.POPLMark2.STLC.html#24198" class="Function">eq</a> <a id="24278" class="Symbol">=</a> <a id="24280" href="Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a> <a id="24284" href="Function.html#1881" class="Function Operator">$</a> <a id="24286" href="Relation.Binary.PropositionalEquality.html#3962" class="Function Operator">begin</a>
        <a id="24300" href="Generic.Semantics.Syntactic.html#551" class="Function">ren</a> <a id="24304" href="Motivation.POPLMark2.STLC.html#23253" class="Function">ρ′</a> <a id="24307" class="Symbol">(</a><a id="24308" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="24312" href="Motivation.POPLMark2.STLC.html#23288" class="Function">ρ₁′</a> <a id="24316" href="Motivation.POPLMark2.STLC.html#23053" class="Bound">b</a><a id="24317" class="Symbol">)</a> <a id="24319" href="Generic.Semantics.Syntactic.html#1857" class="Function Operator">[</a> <a id="24321" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a> <a id="24323" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a>           <a id="24337" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="24340" href="Generic.Fusion.Syntactic.html#1261" class="Function">rensub</a> <a id="24347" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a> <a id="24353" class="Symbol">(</a><a id="24354" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="24358" href="Motivation.POPLMark2.STLC.html#23288" class="Function">ρ₁′</a> <a id="24362" href="Motivation.POPLMark2.STLC.html#23053" class="Bound">b</a><a id="24363" class="Symbol">)</a> <a id="24365" href="Motivation.POPLMark2.STLC.html#23253" class="Function">ρ′</a> <a id="24368" class="Symbol">(</a><a id="24369" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a> <a id="24371" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="24374" class="Symbol">)</a> <a id="24376" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
        <a id="24386" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="24390" class="Symbol">(</a><a id="24391" href="environment.html#2189" class="Function">select</a> <a id="24398" href="Motivation.POPLMark2.STLC.html#23253" class="Function">ρ′</a> <a id="24401" class="Symbol">(</a><a id="24402" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a> <a id="24404" href="Generic.Semantics.Syntactic.html#1777" class="Function Operator">/0]</a><a id="24407" class="Symbol">))</a> <a id="24410" class="Symbol">(</a><a id="24411" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="24415" href="Motivation.POPLMark2.STLC.html#23288" class="Function">ρ₁′</a> <a id="24419" href="Motivation.POPLMark2.STLC.html#23053" class="Bound">b</a><a id="24420" class="Symbol">)</a>  <a id="24423" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="24426" href="Generic.Fusion.html#2108" class="Function">Fus.fus</a> <a id="24434" class="Symbol">(</a><a id="24435" href="Generic.Fusion.Syntactic.html#2808" class="Function">Sub²</a> <a id="24440" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a><a id="24445" class="Symbol">)</a> <a id="24447" href="Motivation.POPLMark2.STLC.html#23816" class="Function">ρ^R′</a> <a id="24452" href="Motivation.POPLMark2.STLC.html#23053" class="Bound">b</a> <a id="24454" href="Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
        <a id="24464" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="24468" class="Symbol">((</a><a id="24470" href="environment.html#515" class="Function">ε</a> <a id="24472" href="environment.html#2070" class="Function Operator">∙</a> <a id="24474" href="Motivation.POPLMark2.STLC.html#23078" class="Bound">u</a><a id="24475" class="Symbol">)</a> <a id="24477" href="environment.html#1477" class="Function Operator">&gt;&gt;</a> <a id="24480" href="environment.html#3553" class="Function">th^Env</a> <a id="24487" href="Generic.Semantics.Syntactic.html#647" class="Function">th^Tm</a> <a id="24493" href="Motivation.POPLMark2.STLC.html#23057" class="Bound">ρ₁</a> <a id="24496" href="Motivation.POPLMark2.STLC.html#23075" class="Bound">ρ</a><a id="24497" class="Symbol">)</a> <a id="24499" href="Motivation.POPLMark2.STLC.html#23053" class="Bound">b</a> <a id="24501" href="Relation.Binary.PropositionalEquality.html#4260" class="Function Operator">∎</a>

      <a id="24510" href="Motivation.POPLMark2.STLC.html#24510" class="Function">cast</a> <a id="24515" class="Symbol">=</a> <a id="24517" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="24523" class="Symbol">(_</a> <a id="24526" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="24529" class="Symbol">_</a> <a id="24531" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋_</a><a id="24533" class="Symbol">)</a> <a id="24535" href="Motivation.POPLMark2.STLC.html#24198" class="Function">eq</a>

<a id="eval"></a><a id="24539" href="Motivation.POPLMark2.STLC.html#24539" class="Function">eval</a> <a id="24544" class="Symbol">:</a> <a id="24546" class="Symbol">∀</a> <a id="24548" class="Symbol">{</a><a id="24549" href="Motivation.POPLMark2.STLC.html#24549" class="Bound">Γ</a> <a id="24551" href="Motivation.POPLMark2.STLC.html#24551" class="Bound">Δ</a> <a id="24553" href="Motivation.POPLMark2.STLC.html#24553" class="Bound">σ</a> <a id="24555" href="Motivation.POPLMark2.STLC.html#24555" class="Bound">ρ</a><a id="24556" class="Symbol">}</a> <a id="24558" class="Symbol">→</a> <a id="24560" href="pred.html#307" class="Record Operator">pred.∀[</a> <a id="24568" href="Motivation.POPLMark2.STLC.html#21324" class="Function">𝓡^P</a> <a id="24572" href="pred.html#307" class="Record Operator">]</a> <a id="24574" href="Motivation.POPLMark2.STLC.html#24555" class="Bound">ρ</a> <a id="24576" class="Symbol">→</a> <a id="24578" class="Symbol">(</a><a id="24579" href="Motivation.POPLMark2.STLC.html#24579" class="Bound">t</a> <a id="24581" class="Symbol">:</a> <a id="24583" href="Motivation.POPLMark2.STLC.html#1454" class="Function">Term</a> <a id="24588" href="Motivation.POPLMark2.STLC.html#24553" class="Bound">σ</a> <a id="24590" href="Motivation.POPLMark2.STLC.html#24549" class="Bound">Γ</a><a id="24591" class="Symbol">)</a> <a id="24593" class="Symbol">→</a> <a id="24595" href="Motivation.POPLMark2.STLC.html#24551" class="Bound">Δ</a> <a id="24597" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">⊢𝓡</a> <a id="24600" href="Motivation.POPLMark2.STLC.html#24553" class="Bound">σ</a> <a id="24602" href="Motivation.POPLMark2.STLC.html#21196" class="Function Operator">∋</a> <a id="24604" href="Generic.Semantics.Syntactic.html#958" class="Function">sub</a> <a id="24608" href="Motivation.POPLMark2.STLC.html#24555" class="Bound">ρ</a> <a id="24610" href="Motivation.POPLMark2.STLC.html#24579" class="Bound">t</a>
<a id="24612" href="Motivation.POPLMark2.STLC.html#24539" class="Function">eval</a> <a id="24617" class="Symbol">=</a> <a id="24619" href="Generic.Fundamental.html#2388" class="Function">Fdm.fdm</a> <a id="24627" href="Motivation.POPLMark2.STLC.html#22584" class="Function">fundamental</a>

<a id="24640" class="Comment">-- Corollary 6.2</a>
<a id="dummy"></a><a id="24657" href="Motivation.POPLMark2.STLC.html#24657" class="Function">dummy</a> <a id="24663" class="Symbol">:</a> <a id="24665" class="Symbol">∀</a> <a id="24667" class="Symbol">{</a><a id="24668" href="Motivation.POPLMark2.STLC.html#24668" class="Bound">Γ</a><a id="24669" class="Symbol">}</a> <a id="24671" class="Symbol">→</a> <a id="24673" href="pred.html#307" class="Record Operator">pred.∀[</a> <a id="24681" href="Motivation.POPLMark2.STLC.html#21324" class="Function">𝓡^P</a> <a id="24685" href="pred.html#307" class="Record Operator">]</a> <a id="24687" class="Symbol">(</a><a id="24688" href="varlike.html#455" class="Function">base</a> <a id="24693" href="Generic.Semantics.Syntactic.html#722" class="Function">vl^Tm</a> <a id="24699" class="Symbol">{</a><a id="24700" href="Motivation.POPLMark2.STLC.html#24668" class="Bound">Γ</a><a id="24701" class="Symbol">})</a>
<a id="24704" href="pred.html#402" class="Field">lookup^P</a> <a id="24713" href="Motivation.POPLMark2.STLC.html#24657" class="Function">dummy</a> <a id="24719" href="Motivation.POPLMark2.STLC.html#24719" class="Bound">v</a> <a id="24721" class="Keyword">rewrite</a> <a id="24729" href="Generic.Semantics.Syntactic.html#1296" class="Function">lookup-base^Tm</a> <a id="24744" class="Symbol">{</a><a id="24745" class="Argument">d</a> <a id="24747" class="Symbol">=</a> <a id="24749" href="Motivation.POPLMark2.STLC.html#1323" class="Function">TermD</a><a id="24754" class="Symbol">}</a> <a id="24756" href="Motivation.POPLMark2.STLC.html#24719" class="Bound">v</a> <a id="24758" class="Symbol">=</a> <a id="24760" href="Motivation.POPLMark2.STLC.html#21650" class="Function">unquote^𝓡</a> <a id="24770" class="Symbol">_</a> <a id="24772" class="Symbol">(</a><a id="24773" href="Motivation.POPLMark2.STLC.html#14170" class="InductiveConstructor">var</a> <a id="24777" href="Motivation.POPLMark2.STLC.html#24719" class="Bound">v</a><a id="24778" class="Symbol">)</a>

<a id="_^SN"></a><a id="24781" href="Motivation.POPLMark2.STLC.html#24781" class="Function Operator">_^SN</a> <a id="24786" class="Symbol">:</a> <a id="24788" class="Symbol">∀</a> <a id="24790" class="Symbol">{</a><a id="24791" href="Motivation.POPLMark2.STLC.html#24791" class="Bound">Γ</a> <a id="24793" href="Motivation.POPLMark2.STLC.html#24793" class="Bound">σ</a><a id="24794" class="Symbol">}</a> <a id="24796" href="Motivation.POPLMark2.STLC.html#24796" class="Bound">t</a> <a id="24798" class="Symbol">→</a> <a id="24800" href="Motivation.POPLMark2.STLC.html#24791" class="Bound">Γ</a> <a id="24802" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="24806" href="Motivation.POPLMark2.STLC.html#24793" class="Bound">σ</a> <a id="24808" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋</a> <a id="24810" href="Motivation.POPLMark2.STLC.html#24796" class="Bound">t</a>
<a id="24812" href="Motivation.POPLMark2.STLC.html#24812" class="Bound">t</a> <a id="24814" href="Motivation.POPLMark2.STLC.html#24781" class="Function Operator">^SN</a> <a id="24818" class="Symbol">=</a> <a id="24820" href="Motivation.POPLMark2.STLC.html#24860" class="Function">cast</a> <a id="24825" class="Symbol">(</a><a id="24826" href="Motivation.POPLMark2.STLC.html#21394" class="Function">quote^𝓡</a> <a id="24834" class="Symbol">_</a> <a id="24836" class="Symbol">(</a><a id="24837" href="Motivation.POPLMark2.STLC.html#24539" class="Function">eval</a> <a id="24842" href="Motivation.POPLMark2.STLC.html#24657" class="Function">dummy</a> <a id="24848" href="Motivation.POPLMark2.STLC.html#24812" class="Bound">t</a><a id="24849" class="Symbol">))</a>
  <a id="24854" class="Keyword">where</a> <a id="24860" href="Motivation.POPLMark2.STLC.html#24860" class="Function">cast</a>  <a id="24866" class="Symbol">=</a> <a id="24868" href="Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="24874" class="Symbol">(_</a> <a id="24877" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">⊢SN</a> <a id="24881" class="Symbol">_</a> <a id="24883" href="Motivation.POPLMark2.STLC.html#14362" class="Function Operator">∋_</a><a id="24885" class="Symbol">)</a> <a id="24887" class="Symbol">(</a><a id="24888" href="Generic.Identity.html#3195" class="Function">sub-id</a> <a id="24895" href="Motivation.POPLMark2.STLC.html#24812" class="Bound">t</a><a id="24896" class="Symbol">)</a>

<a id="_^sn"></a><a id="24899" href="Motivation.POPLMark2.STLC.html#24899" class="Function Operator">_^sn</a> <a id="24904" class="Symbol">:</a> <a id="24906" class="Symbol">∀</a> <a id="24908" class="Symbol">{</a><a id="24909" href="Motivation.POPLMark2.STLC.html#24909" class="Bound">Γ</a> <a id="24911" href="Motivation.POPLMark2.STLC.html#24911" class="Bound">σ</a><a id="24912" class="Symbol">}</a> <a id="24914" href="Motivation.POPLMark2.STLC.html#24914" class="Bound">t</a> <a id="24916" class="Symbol">→</a> <a id="24918" href="Motivation.POPLMark2.STLC.html#24909" class="Bound">Γ</a> <a id="24920" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">⊢sn</a> <a id="24924" href="Motivation.POPLMark2.STLC.html#24911" class="Bound">σ</a> <a id="24926" href="Motivation.POPLMark2.STLC.html#6458" class="Function Operator">∋</a> <a id="24928" href="Motivation.POPLMark2.STLC.html#24914" class="Bound">t</a>
<a id="24930" href="Motivation.POPLMark2.STLC.html#24930" class="Bound">t</a> <a id="24932" href="Motivation.POPLMark2.STLC.html#24899" class="Function Operator">^sn</a> <a id="24936" class="Symbol">=</a> <a id="24938" href="Motivation.POPLMark2.STLC.html#18269" class="Function">sound^SN</a> <a id="24947" class="Symbol">(</a><a id="24948" href="Motivation.POPLMark2.STLC.html#24930" class="Bound">t</a> <a id="24950" href="Motivation.POPLMark2.STLC.html#24781" class="Function Operator">^SN</a><a id="24953" class="Symbol">)</a>
</pre></body></html>